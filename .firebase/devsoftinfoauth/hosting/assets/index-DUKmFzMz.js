(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function zE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wm={exports:{}},lu={};var D0;function Ox(){if(D0)return lu;D0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:c,ref:o!==void 0?o:null,props:u}}return lu.Fragment=e,lu.jsx=t,lu.jsxs=t,lu}var V0;function Mx(){return V0||(V0=1,Wm.exports=Ox()),Wm.exports}var v=Mx(),ep={exports:{}},xe={};var O0;function kx(){if(O0)return xe;O0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function q(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,te={};function he(M,J,se){this.props=M,this.context=J,this.refs=te,this.updater=se||W}he.prototype.isReactComponent={},he.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},he.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function me(){}me.prototype=he.prototype;function D(M,J,se){this.props=M,this.context=J,this.refs=te,this.updater=se||W}var ge=D.prototype=new me;ge.constructor=D,ee(ge,he.prototype),ge.isPureReactComponent=!0;var Ee=Array.isArray;function ae(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(M,J,se){var le=se.ref;return{$$typeof:r,type:M,key:J,ref:le!==void 0?le:null,props:se}}function k(M,J){return N(M.type,J,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function j(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return J[se]})}var R=/\/+/g;function lt(M,J){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):J.toString(36)}function kt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ae,ae):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Q(M,J,se,le,Se){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(Re){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case r:case e:Le=!0;break;case E:return Le=M._init,Q(Le(M._payload),J,se,le,Se)}}if(Le)return Se=Se(M),Le=le===""?"."+lt(M,0):le,Ee(Se)?(se="",Le!=null&&(se=Le.replace(R,"$&/")+"/"),Q(Se,J,se,"",function(vr){return vr})):Se!=null&&(O(Se)&&(Se=k(Se,se+(Se.key==null||M&&M.key===Se.key?"":(""+Se.key).replace(R,"$&/")+"/")+Le)),J.push(Se)),1;Le=0;var Pt=le===""?".":le+":";if(Ee(M))for(var ut=0;ut<M.length;ut++)le=M[ut],Re=Pt+lt(le,ut),Le+=Q(le,J,se,Re,Se);else if(ut=q(M),typeof ut=="function")for(M=ut.call(M),ut=0;!(le=M.next()).done;)le=le.value,Re=Pt+lt(le,ut++),Le+=Q(le,J,se,Re,Se);else if(Re==="object"){if(typeof M.then=="function")return Q(kt(M),J,se,le,Se);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ie(M,J,se){if(M==null)return M;var le=[],Se=0;return Q(M,le,"","",function(Re){return J.call(se,Re,Se++)}),le}function ve(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var ze=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ke={map:ie,forEach:function(M,J,se){ie(M,function(){J.apply(this,arguments)},se)},count:function(M){var J=0;return ie(M,function(){J++}),J},toArray:function(M){return ie(M,function(J){return J})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return xe.Activity=S,xe.Children=Ke,xe.Component=he,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=D,xe.StrictMode=s,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},xe.cache=function(M){return function(){return M.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(M,J,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=ee({},M.props),Se=M.key;if(J!=null)for(Re in J.key!==void 0&&(Se=""+J.key),J)!w.call(J,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&J.ref===void 0||(le[Re]=J[Re]);var Re=arguments.length-2;if(Re===1)le.children=se;else if(1<Re){for(var Le=Array(Re),Pt=0;Pt<Re;Pt++)Le[Pt]=arguments[Pt+2];le.children=Le}return N(M.type,Se,le)},xe.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},xe.createElement=function(M,J,se){var le,Se={},Re=null;if(J!=null)for(le in J.key!==void 0&&(Re=""+J.key),J)w.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Se[le]=J[le]);var Le=arguments.length-2;if(Le===1)Se.children=se;else if(1<Le){for(var Pt=Array(Le),ut=0;ut<Le;ut++)Pt[ut]=arguments[ut+2];Se.children=Pt}if(M&&M.defaultProps)for(le in Le=M.defaultProps,Le)Se[le]===void 0&&(Se[le]=Le[le]);return N(M,Re,Se)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:m,render:M}},xe.isValidElement=O,xe.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ve}},xe.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},xe.startTransition=function(M){var J=I.T,se={};I.T=se;try{var le=M(),Se=I.S;Se!==null&&Se(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ae,ze)}catch(Re){ze(Re)}finally{J!==null&&se.types!==null&&(J.types=se.types),I.T=J}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(M){return I.H.use(M)},xe.useActionState=function(M,J,se){return I.H.useActionState(M,J,se)},xe.useCallback=function(M,J){return I.H.useCallback(M,J)},xe.useContext=function(M){return I.H.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M,J){return I.H.useDeferredValue(M,J)},xe.useEffect=function(M,J){return I.H.useEffect(M,J)},xe.useEffectEvent=function(M){return I.H.useEffectEvent(M)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(M,J,se){return I.H.useImperativeHandle(M,J,se)},xe.useInsertionEffect=function(M,J){return I.H.useInsertionEffect(M,J)},xe.useLayoutEffect=function(M,J){return I.H.useLayoutEffect(M,J)},xe.useMemo=function(M,J){return I.H.useMemo(M,J)},xe.useOptimistic=function(M,J){return I.H.useOptimistic(M,J)},xe.useReducer=function(M,J,se){return I.H.useReducer(M,J,se)},xe.useRef=function(M){return I.H.useRef(M)},xe.useState=function(M){return I.H.useState(M)},xe.useSyncExternalStore=function(M,J,se){return I.H.useSyncExternalStore(M,J,se)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.3",xe}var M0;function ig(){return M0||(M0=1,ep.exports=kx()),ep.exports}var ot=ig();const BE=zE(ot);var tp={exports:{}},uu={},np={exports:{}},ip={};var k0;function Px(){return k0||(k0=1,(function(r){function e(Q,ie){var ve=Q.length;Q.push(ie);e:for(;0<ve;){var ze=ve-1>>>1,Ke=Q[ze];if(0<o(Ke,ie))Q[ze]=ie,Q[ve]=Ke,ve=ze;else break e}}function t(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ie=Q[0],ve=Q.pop();if(ve!==ie){Q[0]=ve;e:for(var ze=0,Ke=Q.length,M=Ke>>>1;ze<M;){var J=2*(ze+1)-1,se=Q[J],le=J+1,Se=Q[le];if(0>o(se,ve))le<Ke&&0>o(Se,se)?(Q[ze]=Se,Q[le]=ve,ze=le):(Q[ze]=se,Q[J]=ve,ze=J);else if(le<Ke&&0>o(Se,ve))Q[ze]=Se,Q[le]=ve,ze=le;else break e}}return ie}function o(Q,ie){var ve=Q.sortIndex-ie.sortIndex;return ve!==0?ve:Q.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();r.unstable_now=function(){return c.now()-m}}var p=[],y=[],E=1,S=null,x=3,q=!1,W=!1,ee=!1,te=!1,he=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function ge(Q){for(var ie=t(y);ie!==null;){if(ie.callback===null)s(y);else if(ie.startTime<=Q)s(y),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=t(y)}}function Ee(Q){if(ee=!1,ge(Q),!W)if(t(p)!==null)W=!0,ae||(ae=!0,j());else{var ie=t(y);ie!==null&&kt(Ee,ie.startTime-Q)}}var ae=!1,I=-1,w=5,N=-1;function k(){return te?!0:!(r.unstable_now()-N<w)}function O(){if(te=!1,ae){var Q=r.unstable_now();N=Q;var ie=!0;try{e:{W=!1,ee&&(ee=!1,me(I),I=-1),q=!0;var ve=x;try{t:{for(ge(Q),S=t(p);S!==null&&!(S.expirationTime>Q&&k());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,x=S.priorityLevel;var Ke=ze(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ke=="function"){S.callback=Ke,ge(Q),ie=!0;break t}S===t(p)&&s(p),ge(Q)}else s(p);S=t(p)}if(S!==null)ie=!0;else{var M=t(y);M!==null&&kt(Ee,M.startTime-Q),ie=!1}}break e}finally{S=null,x=ve,q=!1}ie=void 0}}finally{ie?j():ae=!1}}}var j;if(typeof D=="function")j=function(){D(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,lt=R.port2;R.port1.onmessage=O,j=function(){lt.postMessage(null)}}else j=function(){he(O,0)};function kt(Q,ie){I=he(function(){Q(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var ve=x;x=ie;try{return Q()}finally{x=ve}},r.unstable_requestPaint=function(){te=!0},r.unstable_runWithPriority=function(Q,ie){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ve=x;x=Q;try{return ie()}finally{x=ve}},r.unstable_scheduleCallback=function(Q,ie,ve){var ze=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ze+ve:ze):ve=ze,Q){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ve+Ke,Q={id:E++,callback:ie,priorityLevel:Q,startTime:ve,expirationTime:Ke,sortIndex:-1},ve>ze?(Q.sortIndex=ve,e(y,Q),t(p)===null&&Q===t(y)&&(ee?(me(I),I=-1):ee=!0,kt(Ee,ve-ze))):(Q.sortIndex=Ke,e(p,Q),W||q||(W=!0,ae||(ae=!0,j()))),Q},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(Q){var ie=x;return function(){var ve=x;x=ie;try{return Q.apply(this,arguments)}finally{x=ve}}}})(ip)),ip}var P0;function jx(){return P0||(P0=1,np.exports=Px()),np.exports}var sp={exports:{}},Wt={};var j0;function Lx(){if(j0)return Wt;j0=1;var r=ig();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Wt.flushSync=function(p){var y=c.T,E=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=y,s.p=E,s.d.f()}},Wt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:q}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:x,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Wt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,y){return p(y)},Wt.useFormState=function(p,y,E){return c.H.useFormState(p,y,E)},Wt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wt.version="19.2.3",Wt}var L0;function Ux(){if(L0)return sp.exports;L0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sp.exports=Lx(),sp.exports}var U0;function zx(){if(U0)return uu;U0=1;var r=jx(),e=ig(),t=Ux();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(s(188))}function y(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),n;if(f===l)return p(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var _=!1,T=d.child;T;){if(T===a){_=!0,a=d,l=f;break}if(T===l){_=!0,l=d,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,l=d;break}if(T===l){_=!0,l=f,a=d;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function E(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=E(n),i!==null)return i;n=n.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),me=Symbol.for("react.consumer"),D=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var R=Symbol.for("react.client.reference");function lt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===R?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ee:return"Fragment";case he:return"Profiler";case te:return"StrictMode";case Ee:return"Suspense";case ae:return"SuspenseList";case N:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case W:return"Portal";case D:return n.displayName||"Context";case me:return(n._context.displayName||"Context")+".Consumer";case ge:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return i=n.displayName||null,i!==null?i:lt(n.type)||"Memo";case w:i=n._payload,n=n._init;try{return lt(n(i))}catch{}}return null}var kt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},ze=[],Ke=-1;function M(n){return{current:n}}function J(n){0>Ke||(n.current=ze[Ke],ze[Ke]=null,Ke--)}function se(n,i){Ke++,ze[Ke]=n.current,n.current=i}var le=M(null),Se=M(null),Re=M(null),Le=M(null);function Pt(n,i){switch(se(Re,i),se(Se,n),se(le,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?e0(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=e0(i),n=t0(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(le),se(le,n)}function ut(){J(le),J(Se),J(Re)}function vr(n){n.memoizedState!==null&&se(Le,n);var i=le.current,a=t0(i,n.type);i!==a&&(se(Se,n),se(le,a))}function Sa(n){Se.current===n&&(J(le),J(Se)),Le.current===n&&(J(Le),su._currentValue=ve)}var Aa,xa;function hi(n){if(Aa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Aa=i&&i[1]||"",xa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Aa+n+xa}var sl=!1;function br(n,i){if(!n||sl)return"";sl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(G){var F=G}Reflect.construct(n,[],X)}else{try{X.call()}catch(G){F=G}n.call(X.prototype)}}else{try{throw Error()}catch(G){F=G}(X=n())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var C=_.split(`
`),B=T.split(`
`);for(d=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(l===C.length||d===B.length)for(l=C.length-1,d=B.length-1;1<=l&&0<=d&&C[l]!==B[d];)d--;for(;1<=l&&0<=d;l--,d--)if(C[l]!==B[d]){if(l!==1||d!==1)do if(l--,d--,0>d||C[l]!==B[d]){var K=`
`+C[l].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=l&&0<=d);break}}}finally{sl=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?hi(a):""}function rl(n,i){switch(n.tag){case 26:case 27:case 5:return hi(n.type);case 16:return hi("Lazy");case 13:return n.child!==i&&i!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return br(n.type,!1);case 11:return br(n.type.render,!1);case 1:return br(n.type,!0);case 31:return hi("Activity");default:return""}}function al(n){try{var i="",a=null;do i+=rl(n,a),a=n,n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,jt=r.unstable_scheduleCallback,ys=r.unstable_cancelCallback,ef=r.unstable_shouldYield,ac=r.unstable_requestPaint,rn=r.unstable_now,Er=r.unstable_getCurrentPriorityLevel,ol=r.unstable_ImmediatePriority,ll=r.unstable_UserBlockingPriority,_s=r.unstable_NormalPriority,tf=r.unstable_LowPriority,oc=r.unstable_IdlePriority,lc=r.log,uc=r.unstable_setDisableYieldValue,Qn=null,Kt=null;function Vn(n){if(typeof lc=="function"&&uc(n),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Qn,n)}catch{}}var yt=Math.clz32?Math.clz32:hc,cc=Math.log,wa=Math.LN2;function hc(n){return n>>>=0,n===0?32:31-(cc(n)/wa|0)|0}var di=256,Tr=262144,xt=4194304;function fi(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function mi(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,f=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?d=fi(l):(_&=T,_!==0?d=fi(_):a||(a=T&~n,a!==0&&(d=fi(a))))):(T=l&~f,T!==0?d=fi(T):_!==0?d=fi(_):a||(a=l&~n,a!==0&&(d=fi(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function Yn(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function nf(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dc(){var n=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),n}function pi(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Sr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function sf(n,i,a,l,d,f){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,C=n.expirationTimes,B=n.hiddenUpdates;for(a=_&~a;0<a;){var K=31-yt(a),X=1<<K;T[K]=0,C[K]=-1;var F=B[K];if(F!==null)for(B[K]=null,K=0;K<F.length;K++){var G=F[K];G!==null&&(G.lane&=-536870913)}a&=~X}l!==0&&Ar(n,l,0),f!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=f&~(_&~i))}function Ar(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-yt(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function ul(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-yt(a),d=1<<l;d&i|n[l]&i&&(n[l]|=i),a&=~d}}function cl(n,i){var a=i&-i;return a=(a&42)!==0?1:xr(a),(a&(n.suspendedLanes|i))!==0?0:a}function xr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Bi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function fc(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:A0(n.type))}function Xn(n,i){var a=ie.p;try{return ie.p=n,i()}finally{ie.p=a}}var Jn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Jn,Ft="__reactProps$"+Jn,gi="__reactContainer$"+Jn,Ia="__reactEvents$"+Jn,rf="__reactListeners$"+Jn,mc="__reactHandles$"+Jn,pc="__reactResources$"+Jn,yi="__reactMarker$"+Jn;function Ra(n){delete n[wt],delete n[Ft],delete n[Ia],delete n[rf],delete n[mc]}function _i(n){var i=n[wt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[gi]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=l0(n);n!==null;){if(a=n[wt])return a;n=l0(n)}return i}n=a,a=n.parentNode}return null}function On(n){if(n=n[wt]||n[gi]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function _n(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function vi(n){var i=n[pc];return i||(i=n[pc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function It(n){n[yi]=!0}var hl=new Set,dl={};function bi(n,i){Ei(n,i),Ei(n+"Capture",i)}function Ei(n,i){for(dl[n]=i,n=0;n<i.length;n++)hl.add(i[n])}var fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},pl={};function gc(n){return At.call(pl,n)?!0:At.call(ml,n)?!1:fl.test(n)?pl[n]=!0:(ml[n]=!0,!1)}function Ca(n,i,a){if(gc(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function vn(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Rt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}function qt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function vs(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gl(n,i,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Qe(n){if(!n._valueTracker){var i=vs(n)?"checked":"value";n._valueTracker=gl(n,i,""+n[i])}}function wr(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=vs(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function Ti(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ir=/[\n"\\]/g;function un(n){return n.replace(Ir,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Na(n,i,a,l,d,f,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+qt(i)):n.value!==""+qt(i)&&(n.value=""+qt(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?yl(n,_,qt(i)):a!=null?yl(n,_,qt(a)):l!=null&&n.removeAttribute("value"),d==null&&f!=null&&(n.defaultChecked=!!f),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+qt(T):n.removeAttribute("name")}function yc(n,i,a,l,d,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(n.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Qe(n);return}a=a!=null?""+qt(a):"",i=i!=null?""+qt(i):a,T||i===n.value||(n.value=i),n.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Qe(n)}function yl(n,i,a){i==="number"&&Ti(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function bs(n,i,a,l){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+qt(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function _c(n,i,a){if(i!=null&&(i=""+qt(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+qt(a):""}function Es(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(kt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=qt(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Qe(n)}function cn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||vc.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function vl(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&_l(n,d,l)}else for(var f in i)i.hasOwnProperty(f)&&_l(n,f,i[f])}function Da(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(n){return Ts.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function $n(){}var bl=null;function Mn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ss=null,Si=null;function Rr(n){var i=On(n);if(i&&(n=i.stateNode)){var a=n[Ft]||null;e:switch(n=i.stateNode,i.type){case"input":if(Na(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var d=l[Ft]||null;if(!d)throw Error(s(90));Na(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&wr(l)}break e;case"textarea":_c(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&bs(n,!!a.multiple,i,!1)}}}var Oa=!1;function As(n,i,a){if(Oa)return n(i,a);Oa=!0;try{var l=n(i);return l}finally{if(Oa=!1,(Ss!==null||Si!==null)&&(fh(),Ss&&(i=Ss,n=Si,Si=Ss=null,Rr(i),n)))for(i=0;i<n.length;i++)Rr(n[i])}}function Zn(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Ft]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(kn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{Cr=!1}var Ai=null,El=null,Nr=null;function Tl(){if(Nr)return Nr;var n,i=El,a=i.length,l,d="value"in Ai?Ai.value:Ai.textContent,f=d.length;for(n=0;n<a&&i[n]===d[n];n++);var _=a-n;for(l=1;l<=_&&i[a-l]===d[f-l];l++);return Nr=d.slice(n,1<l?1-l:void 0)}function Dr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Fi(){return!0}function Wn(){return!1}function Qt(n){function i(a,l,d,f,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fi:Wn,this.isPropagationStopped=Wn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=Qt(qi),xs=S({},qi,{view:0,detail:0}),Sl=Qt(xs),ws,Ma,wi,ka=S({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wi&&(wi&&n.type==="mousemove"?(ws=n.screenX-wi.screenX,Ma=n.screenY-wi.screenY):Ma=ws=0,wi=n),ws)},movementY:function(n){return"movementY"in n?n.movementY:Ma}}),Al=Qt(ka),Vr=S({},ka,{dataTransfer:0}),Ec=Qt(Vr),Tc=S({},xs,{relatedTarget:0}),Or=Qt(Tc),xl=S({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Sc=Qt(xl),Pa=S({},qi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ac=Qt(Pa),xc=S({},qi,{data:0}),Ii=Qt(xc),wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Rc[n])?!!i[n]:!1}function Is(){return Cc}var an=S({},xs,{key:function(n){if(n.key){var i=wc[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Dr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ic[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(n){return n.type==="keypress"?Dr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Dr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Nc=Qt(an),Dc=S({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Qt(Dc),h=S({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),g=Qt(h),b=S({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Qt(b),U=S({},ka,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Qt(U),ne=S({},qi,{newState:0,oldState:0}),we=Qt(ne),_t=[9,13,27,32],qe=kn&&"CompositionEvent"in window,ct=null;kn&&"documentMode"in document&&(ct=document.documentMode);var Pn=kn&&"TextEvent"in window&&!ct,Ri=kn&&(!qe||ct&&8<ct&&11>=ct),ei=" ",ti=!1;function Mr(n,i){switch(n){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ja(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var La=!1;function iA(n,i){switch(n){case"compositionend":return ja(i);case"keypress":return i.which!==32?null:(ti=!0,ei);case"textInput":return n=i.data,n===ei&&ti?null:n;default:return null}}function sA(n,i){if(La)return n==="compositionend"||!qe&&Mr(n,i)?(n=Tl(),Nr=El=Ai=null,La=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ri&&i.locale!=="ko"?null:i.data;default:return null}}var rA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hy(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!rA[n.type]:i==="textarea"}function dy(n,i,a,l){Ss?Si?Si.push(l):Si=[l]:Ss=l,i=bh(i,"onChange"),0<i.length&&(a=new xi("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var wl=null,Il=null;function aA(n){Yv(n,0)}function Vc(n){var i=_n(n);if(wr(i))return n}function fy(n,i){if(n==="change")return i}var my=!1;if(kn){var af;if(kn){var of="oninput"in document;if(!of){var py=document.createElement("div");py.setAttribute("oninput","return;"),of=typeof py.oninput=="function"}af=of}else af=!1;my=af&&(!document.documentMode||9<document.documentMode)}function gy(){wl&&(wl.detachEvent("onpropertychange",yy),Il=wl=null)}function yy(n){if(n.propertyName==="value"&&Vc(Il)){var i=[];dy(i,Il,n,Mn(n)),As(aA,i)}}function oA(n,i,a){n==="focusin"?(gy(),wl=i,Il=a,wl.attachEvent("onpropertychange",yy)):n==="focusout"&&gy()}function lA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Vc(Il)}function uA(n,i){if(n==="click")return Vc(i)}function cA(n,i){if(n==="input"||n==="change")return Vc(i)}function hA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var bn=typeof Object.is=="function"?Object.is:hA;function Rl(n,i){if(bn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!At.call(i,d)||!bn(n[d],i[d]))return!1}return!0}function _y(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vy(n,i){var a=_y(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_y(a)}}function by(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?by(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ey(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Ti(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ti(n.document)}return i}function lf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var dA=kn&&"documentMode"in document&&11>=document.documentMode,Ua=null,uf=null,Cl=null,cf=!1;function Ty(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cf||Ua==null||Ua!==Ti(l)||(l=Ua,"selectionStart"in l&&lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&Rl(Cl,l)||(Cl=l,l=bh(uf,"onSelect"),0<l.length&&(i=new xi("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Ua)))}function kr(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var za={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},hf={},Sy={};kn&&(Sy=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Pr(n){if(hf[n])return hf[n];if(!za[n])return n;var i=za[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Sy)return hf[n]=i[a];return n}var Ay=Pr("animationend"),xy=Pr("animationiteration"),wy=Pr("animationstart"),fA=Pr("transitionrun"),mA=Pr("transitionstart"),pA=Pr("transitioncancel"),Iy=Pr("transitionend"),Ry=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function ni(n,i){Ry.set(n,i),bi(i,[n])}var Oc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},jn=[],Ba=0,ff=0;function Mc(){for(var n=Ba,i=ff=Ba=0;i<n;){var a=jn[i];jn[i++]=null;var l=jn[i];jn[i++]=null;var d=jn[i];jn[i++]=null;var f=jn[i];if(jn[i++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&Cy(a,d,f)}}function kc(n,i,a,l){jn[Ba++]=n,jn[Ba++]=i,jn[Ba++]=a,jn[Ba++]=l,ff|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function mf(n,i,a,l){return kc(n,i,a,l),Pc(n)}function jr(n,i){return kc(n,null,null,i),Pc(n)}function Cy(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=n.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(n=f.stateNode,n===null||n._visibility&1||(d=!0)),n=f,f=f.return;return n.tag===3?(f=n.stateNode,d&&i!==null&&(d=31-yt(a),n=f.hiddenUpdates,l=n[d],l===null?n[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function Pc(n){if(50<$l)throw $l=0,Sm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Fa={};function gA(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,i,a,l){return new gA(n,i,a,l)}function pf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Gi(n,i){var a=n.alternate;return a===null?(a=En(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ny(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function jc(n,i,a,l,d,f){var _=0;if(l=n,typeof n=="function")pf(n)&&(_=1);else if(typeof n=="string")_=Ex(n,a,le.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case N:return n=En(31,a,i,d),n.elementType=N,n.lanes=f,n;case ee:return Lr(a.children,d,f,i);case te:_=8,d|=24;break;case he:return n=En(12,a,i,d|2),n.elementType=he,n.lanes=f,n;case Ee:return n=En(13,a,i,d),n.elementType=Ee,n.lanes=f,n;case ae:return n=En(19,a,i,d),n.elementType=ae,n.lanes=f,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:_=10;break e;case me:_=9;break e;case ge:_=11;break e;case I:_=14;break e;case w:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=En(_,a,i,d),i.elementType=n,i.type=l,i.lanes=f,i}function Lr(n,i,a,l){return n=En(7,n,l,i),n.lanes=a,n}function gf(n,i,a){return n=En(6,n,null,i),n.lanes=a,n}function Dy(n){var i=En(18,null,null,0);return i.stateNode=n,i}function yf(n,i,a){return i=En(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Vy=new WeakMap;function Ln(n,i){if(typeof n=="object"&&n!==null){var a=Vy.get(n);return a!==void 0?a:(i={value:n,source:i,stack:al(i)},Vy.set(n,i),i)}return{value:n,source:i,stack:al(i)}}var qa=[],Ha=0,Lc=null,Nl=0,Un=[],zn=0,Rs=null,Ci=1,Ni="";function Ki(n,i){qa[Ha++]=Nl,qa[Ha++]=Lc,Lc=n,Nl=i}function Oy(n,i,a){Un[zn++]=Ci,Un[zn++]=Ni,Un[zn++]=Rs,Rs=n;var l=Ci;n=Ni;var d=32-yt(l)-1;l&=~(1<<d),a+=1;var f=32-yt(i)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,Ci=1<<32-yt(i)+d|a<<d|l,Ni=f+n}else Ci=1<<f|a<<d|l,Ni=n}function _f(n){n.return!==null&&(Ki(n,1),Oy(n,1,0))}function vf(n){for(;n===Lc;)Lc=qa[--Ha],qa[Ha]=null,Nl=qa[--Ha],qa[Ha]=null;for(;n===Rs;)Rs=Un[--zn],Un[zn]=null,Ni=Un[--zn],Un[zn]=null,Ci=Un[--zn],Un[zn]=null}function My(n,i){Un[zn++]=Ci,Un[zn++]=Ni,Un[zn++]=Rs,Ci=i.id,Ni=i.overflow,Rs=n}var Yt=null,rt=null,Pe=!1,Cs=null,Bn=!1,bf=Error(s(519));function Ns(n){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dl(Ln(i,n)),bf}function ky(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[wt]=n,i[Ft]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Wl.length;a++)Ve(Wl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),yc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Es(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Zv(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Ns(n,!0)}function Py(n){for(Yt=n.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Yt=Yt.return}}function Ga(n){if(n!==Yt)return!1;if(!Pe)return Py(n),Pe=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Lm(n.type,n.memoizedProps)),a=!a),a&&rt&&Ns(n),Py(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));rt=o0(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));rt=o0(n)}else i===27?(i=rt,Hs(n.type)?(n=qm,qm=null,rt=n):rt=i):rt=Yt?qn(n.stateNode.nextSibling):null;return!0}function Ur(){rt=Yt=null,Pe=!1}function Ef(){var n=Cs;return n!==null&&(mn===null?mn=n:mn.push.apply(mn,n),Cs=null),n}function Dl(n){Cs===null?Cs=[n]:Cs.push(n)}var Tf=M(null),zr=null,Qi=null;function Ds(n,i,a){se(Tf,i._currentValue),i._currentValue=a}function Yi(n){n._currentValue=Tf.current,J(Tf)}function Sf(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Af(n,i,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=d;for(var C=0;C<i.length;C++)if(T.context===i[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Sf(f.return,a,n),l||(_=null);break e}f=T.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),Sf(_,a,n),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===n){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Ka(n,i,a,l){n=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=d.type;bn(d.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(d===Le.current){if(_=d.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(su):n=[su])}d=d.return}n!==null&&Af(i,n,a,l),i.flags|=262144}function Uc(n){for(n=n.firstContext;n!==null;){if(!bn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Br(n){zr=n,Qi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xt(n){return jy(zr,n)}function zc(n,i){return zr===null&&Br(n),jy(n,i)}function jy(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(n===null)throw Error(s(308));Qi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Qi=Qi.next=i;return a}var yA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},_A=r.unstable_scheduleCallback,vA=r.unstable_NormalPriority,Ct={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new yA,data:new Map,refCount:0}}function Vl(n){n.refCount--,n.refCount===0&&_A(vA,function(){n.controller.abort()})}var Ol=null,wf=0,Qa=0,Ya=null;function bA(n,i){if(Ol===null){var a=Ol=[];wf=0,Qa=Cm(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wf++,i.then(Ly,Ly),i}function Ly(){if(--wf===0&&Ol!==null){Ya!==null&&(Ya.status="fulfilled");var n=Ol;Ol=null,Qa=0,Ya=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function EA(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Uy=Q.S;Q.S=function(n,i){Tv=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&bA(n,i),Uy!==null&&Uy(n,i)};var Fr=M(null);function If(){var n=Fr.current;return n!==null?n:it.pooledCache}function Bc(n,i){i===null?se(Fr,Fr.current):se(Fr,i.pool)}function zy(){var n=If();return n===null?null:{parent:Ct._currentValue,pool:n}}var Xa=Error(s(460)),Rf=Error(s(474)),Fc=Error(s(542)),qc={then:function(){}};function By(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Fy(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Hy(n),n;default:if(typeof i.status=="string")i.then($n,$n);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Hy(n),n}throw Hr=i,Xa}}function qr(n){try{var i=n._init;return i(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hr=a,Xa):a}}var Hr=null;function qy(){if(Hr===null)throw Error(s(459));var n=Hr;return Hr=null,n}function Hy(n){if(n===Xa||n===Fc)throw Error(s(483))}var Ja=null,Ml=0;function Hc(n){var i=Ml;return Ml+=1,Ja===null&&(Ja=[]),Fy(Ja,n,i)}function kl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Gc(n,i){throw i.$$typeof===x?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Gy(n){function i(P,V){if(n){var z=P.deletions;z===null?(P.deletions=[V],P.flags|=16):z.push(V)}}function a(P,V){if(!n)return null;for(;V!==null;)i(P,V),V=V.sibling;return null}function l(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function d(P,V){return P=Gi(P,V),P.index=0,P.sibling=null,P}function f(P,V,z){return P.index=z,n?(z=P.alternate,z!==null?(z=z.index,z<V?(P.flags|=67108866,V):z):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function _(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function T(P,V,z,Y){return V===null||V.tag!==6?(V=gf(z,P.mode,Y),V.return=P,V):(V=d(V,z),V.return=P,V)}function C(P,V,z,Y){var ye=z.type;return ye===ee?K(P,V,z.props.children,Y,z.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&qr(ye)===V.type)?(V=d(V,z.props),kl(V,z),V.return=P,V):(V=jc(z.type,z.key,z.props,null,P.mode,Y),kl(V,z),V.return=P,V)}function B(P,V,z,Y){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=yf(z,P.mode,Y),V.return=P,V):(V=d(V,z.children||[]),V.return=P,V)}function K(P,V,z,Y,ye){return V===null||V.tag!==7?(V=Lr(z,P.mode,Y,ye),V.return=P,V):(V=d(V,z),V.return=P,V)}function X(P,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=gf(""+V,P.mode,z),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case q:return z=jc(V.type,V.key,V.props,null,P.mode,z),kl(z,V),z.return=P,z;case W:return V=yf(V,P.mode,z),V.return=P,V;case w:return V=qr(V),X(P,V,z)}if(kt(V)||j(V))return V=Lr(V,P.mode,z,null),V.return=P,V;if(typeof V.then=="function")return X(P,Hc(V),z);if(V.$$typeof===D)return X(P,zc(P,V),z);Gc(P,V)}return null}function F(P,V,z,Y){var ye=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ye!==null?null:T(P,V,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case q:return z.key===ye?C(P,V,z,Y):null;case W:return z.key===ye?B(P,V,z,Y):null;case w:return z=qr(z),F(P,V,z,Y)}if(kt(z)||j(z))return ye!==null?null:K(P,V,z,Y,null);if(typeof z.then=="function")return F(P,V,Hc(z),Y);if(z.$$typeof===D)return F(P,V,zc(P,z),Y);Gc(P,z)}return null}function G(P,V,z,Y,ye){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(z)||null,T(V,P,""+Y,ye);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return P=P.get(Y.key===null?z:Y.key)||null,C(V,P,Y,ye);case W:return P=P.get(Y.key===null?z:Y.key)||null,B(V,P,Y,ye);case w:return Y=qr(Y),G(P,V,z,Y,ye)}if(kt(Y)||j(Y))return P=P.get(z)||null,K(V,P,Y,ye,null);if(typeof Y.then=="function")return G(P,V,z,Hc(Y),ye);if(Y.$$typeof===D)return G(P,V,z,zc(V,Y),ye);Gc(V,Y)}return null}function ce(P,V,z,Y){for(var ye=null,Be=null,fe=V,Ce=V=0,Me=null;fe!==null&&Ce<z.length;Ce++){fe.index>Ce?(Me=fe,fe=null):Me=fe.sibling;var Fe=F(P,fe,z[Ce],Y);if(Fe===null){fe===null&&(fe=Me);break}n&&fe&&Fe.alternate===null&&i(P,fe),V=f(Fe,V,Ce),Be===null?ye=Fe:Be.sibling=Fe,Be=Fe,fe=Me}if(Ce===z.length)return a(P,fe),Pe&&Ki(P,Ce),ye;if(fe===null){for(;Ce<z.length;Ce++)fe=X(P,z[Ce],Y),fe!==null&&(V=f(fe,V,Ce),Be===null?ye=fe:Be.sibling=fe,Be=fe);return Pe&&Ki(P,Ce),ye}for(fe=l(fe);Ce<z.length;Ce++)Me=G(fe,P,Ce,z[Ce],Y),Me!==null&&(n&&Me.alternate!==null&&fe.delete(Me.key===null?Ce:Me.key),V=f(Me,V,Ce),Be===null?ye=Me:Be.sibling=Me,Be=Me);return n&&fe.forEach(function(Xs){return i(P,Xs)}),Pe&&Ki(P,Ce),ye}function be(P,V,z,Y){if(z==null)throw Error(s(151));for(var ye=null,Be=null,fe=V,Ce=V=0,Me=null,Fe=z.next();fe!==null&&!Fe.done;Ce++,Fe=z.next()){fe.index>Ce?(Me=fe,fe=null):Me=fe.sibling;var Xs=F(P,fe,Fe.value,Y);if(Xs===null){fe===null&&(fe=Me);break}n&&fe&&Xs.alternate===null&&i(P,fe),V=f(Xs,V,Ce),Be===null?ye=Xs:Be.sibling=Xs,Be=Xs,fe=Me}if(Fe.done)return a(P,fe),Pe&&Ki(P,Ce),ye;if(fe===null){for(;!Fe.done;Ce++,Fe=z.next())Fe=X(P,Fe.value,Y),Fe!==null&&(V=f(Fe,V,Ce),Be===null?ye=Fe:Be.sibling=Fe,Be=Fe);return Pe&&Ki(P,Ce),ye}for(fe=l(fe);!Fe.done;Ce++,Fe=z.next())Fe=G(fe,P,Ce,Fe.value,Y),Fe!==null&&(n&&Fe.alternate!==null&&fe.delete(Fe.key===null?Ce:Fe.key),V=f(Fe,V,Ce),Be===null?ye=Fe:Be.sibling=Fe,Be=Fe);return n&&fe.forEach(function(Vx){return i(P,Vx)}),Pe&&Ki(P,Ce),ye}function tt(P,V,z,Y){if(typeof z=="object"&&z!==null&&z.type===ee&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case q:e:{for(var ye=z.key;V!==null;){if(V.key===ye){if(ye=z.type,ye===ee){if(V.tag===7){a(P,V.sibling),Y=d(V,z.props.children),Y.return=P,P=Y;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&qr(ye)===V.type){a(P,V.sibling),Y=d(V,z.props),kl(Y,z),Y.return=P,P=Y;break e}a(P,V);break}else i(P,V);V=V.sibling}z.type===ee?(Y=Lr(z.props.children,P.mode,Y,z.key),Y.return=P,P=Y):(Y=jc(z.type,z.key,z.props,null,P.mode,Y),kl(Y,z),Y.return=P,P=Y)}return _(P);case W:e:{for(ye=z.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(P,V.sibling),Y=d(V,z.children||[]),Y.return=P,P=Y;break e}else{a(P,V);break}else i(P,V);V=V.sibling}Y=yf(z,P.mode,Y),Y.return=P,P=Y}return _(P);case w:return z=qr(z),tt(P,V,z,Y)}if(kt(z))return ce(P,V,z,Y);if(j(z)){if(ye=j(z),typeof ye!="function")throw Error(s(150));return z=ye.call(z),be(P,V,z,Y)}if(typeof z.then=="function")return tt(P,V,Hc(z),Y);if(z.$$typeof===D)return tt(P,V,zc(P,z),Y);Gc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(P,V.sibling),Y=d(V,z),Y.return=P,P=Y):(a(P,V),Y=gf(z,P.mode,Y),Y.return=P,P=Y),_(P)):a(P,V)}return function(P,V,z,Y){try{Ml=0;var ye=tt(P,V,z,Y);return Ja=null,ye}catch(fe){if(fe===Xa||fe===Fc)throw fe;var Be=En(29,fe,null,P.mode);return Be.lanes=Y,Be.return=P,Be}}}var Gr=Gy(!0),Ky=Gy(!1),Vs=!1;function Cf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Os(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ms(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Pc(n),Cy(n,null,a),i}return kc(n,l,i,a),Pc(n)}function Pl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,ul(n,a)}}function Df(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Vf=!1;function jl(){if(Vf){var n=Ya;if(n!==null)throw n}}function Ll(n,i,a,l){Vf=!1;var d=n.updateQueue;Vs=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var C=T,B=C.next;C.next=null,_===null?f=B:_.next=B,_=C;var K=n.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=B:T.next=B,K.lastBaseUpdate=C))}if(f!==null){var X=d.baseState;_=0,K=B=C=null,T=f;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(Oe&F)===F:(l&F)===F){F!==0&&F===Qa&&(Vf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=n,be=T;F=i;var tt=a;switch(be.tag){case 1:if(ce=be.payload,typeof ce=="function"){X=ce.call(tt,X,F);break e}X=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=be.payload,F=typeof ce=="function"?ce.call(tt,X,F):ce,F==null)break e;X=S({},X,F);break e;case 2:Vs=!0}}F=T.callback,F!==null&&(n.flags|=64,G&&(n.flags|=8192),G=d.callbacks,G===null?d.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(B=K=G,C=X):K=K.next=G,_|=F;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;G=T,T=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);K===null&&(C=X),d.baseState=C,d.firstBaseUpdate=B,d.lastBaseUpdate=K,f===null&&(d.shared.lanes=0),Us|=_,n.lanes=_,n.memoizedState=X}}function Qy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Yy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Qy(a[n],i)}var $a=M(null),Kc=M(0);function Xy(n,i){n=is,se(Kc,n),se($a,i),is=n|i.baseLanes}function Of(){se(Kc,is),se($a,$a.current)}function Mf(){is=Kc.current,J($a),J(Kc)}var Tn=M(null),Fn=null;function ks(n){var i=n.alternate;se(vt,vt.current&1),se(Tn,n),Fn===null&&(i===null||$a.current!==null||i.memoizedState!==null)&&(Fn=n)}function kf(n){se(vt,vt.current),se(Tn,n),Fn===null&&(Fn=n)}function Jy(n){n.tag===22?(se(vt,vt.current),se(Tn,n),Fn===null&&(Fn=n)):Ps()}function Ps(){se(vt,vt.current),se(Tn,Tn.current)}function Sn(n){J(Tn),Fn===n&&(Fn=null),J(vt)}var vt=M(0);function Qc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Bm(a)||Fm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Ie=null,We=null,Nt=null,Yc=!1,Za=!1,Kr=!1,Xc=0,Ul=0,Wa=null,TA=0;function mt(){throw Error(s(321))}function Pf(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!bn(n[a],i[a]))return!1;return!0}function jf(n,i,a,l,d,f){return Xi=f,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=n===null||n.memoizedState===null?O_:Zf,Kr=!1,f=a(l,d),Kr=!1,Za&&(f=Zy(i,a,l,d)),$y(n),f}function $y(n){Q.H=Fl;var i=We!==null&&We.next!==null;if(Xi=0,Nt=We=Ie=null,Yc=!1,Ul=0,Wa=null,i)throw Error(s(300));n===null||Dt||(n=n.dependencies,n!==null&&Uc(n)&&(Dt=!0))}function Zy(n,i,a,l){Ie=n;var d=0;do{if(Za&&(Wa=null),Ul=0,Za=!1,25<=d)throw Error(s(301));if(d+=1,Nt=We=null,n.updateQueue!=null){var f=n.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=M_,f=i(a,l)}while(Za);return f}function SA(){var n=Q.H,i=n.useState()[0];return i=typeof i.then=="function"?zl(i):i,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(Ie.flags|=1024),i}function Lf(){var n=Xc!==0;return Xc=0,n}function Uf(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function zf(n){if(Yc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yc=!1}Xi=0,Nt=We=Ie=null,Za=!1,Ul=Xc=0,Wa=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ie.memoizedState=Nt=n:Nt=Nt.next=n,Nt}function bt(){if(We===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var i=Nt===null?Ie.memoizedState:Nt.next;if(i!==null)Nt=i,We=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Nt===null?Ie.memoizedState=Nt=n:Nt=Nt.next=n}return Nt}function Jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(n){var i=Ul;return Ul+=1,Wa===null&&(Wa=[]),n=Fy(Wa,n,i),i=Ie,(Nt===null?i.memoizedState:Nt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?O_:Zf),n}function $c(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return zl(n);if(n.$$typeof===D)return Xt(n)}throw Error(s(438,String(n)))}function Bf(n){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Jc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=k;return i.index++,a}function Ji(n,i){return typeof i=="function"?i(n):i}function Zc(n){var i=bt();return Ff(i,We,n)}function Ff(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=n.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}i.baseQueue=d=f,l.pending=null}if(f=n.baseState,d===null)n.memoizedState=f;else{i=d.next;var T=_=null,C=null,B=i,K=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(Oe&X)===X:(Xi&X)===X){var F=B.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===Qa&&(K=!0);else if((Xi&F)===F){B=B.next,F===Qa&&(K=!0);continue}else X={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=X,_=f):C=C.next=X,Ie.lanes|=F,Us|=F;X=B.action,Kr&&a(f,X),f=B.hasEagerState?B.eagerState:a(f,X)}else F={lane:X,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(T=C=F,_=f):C=C.next=F,Ie.lanes|=X,Us|=X;B=B.next}while(B!==null&&B!==i);if(C===null?_=f:C.next=T,!bn(f,n.memoizedState)&&(Dt=!0,K&&(a=Ya,a!==null)))throw a;n.memoizedState=f,n.baseState=_,n.baseQueue=C,l.lastRenderedState=f}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function qf(n){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=n(f,_.action),_=_.next;while(_!==d);bn(f,i.memoizedState)||(Dt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Wy(n,i,a){var l=Ie,d=bt(),f=Pe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!bn((We||d).memoizedState,a);if(_&&(d.memoizedState=a,Dt=!0),d=d.queue,Kf(n_.bind(null,l,d,n),[n]),d.getSnapshot!==i||_||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,eo(9,{destroy:void 0},t_.bind(null,l,d,a,i),null),it===null)throw Error(s(349));f||(Xi&127)!==0||e_(l,i,a)}return a}function e_(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Jc(),Ie.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function t_(n,i,a,l){i.value=a,i.getSnapshot=l,i_(i)&&s_(n)}function n_(n,i,a){return a(function(){i_(i)&&s_(n)})}function i_(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!bn(n,a)}catch{return!0}}function s_(n){var i=jr(n,2);i!==null&&pn(i,n,2)}function Hf(n){var i=on();if(typeof n=="function"){var a=n;if(n=a(),Kr){Vn(!0);try{a()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:n},i}function r_(n,i,a,l){return n.baseState=a,Ff(n,We,typeof l=="function"?l:Ji)}function AA(n,i,a,l,d){if(th(n))throw Error(s(485));if(n=i.action,n!==null){var f={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,a_(i,f)):(f.next=a.next,i.pending=a.next=f)}}function a_(n,i){var a=i.action,l=i.payload,d=n.state;if(i.isTransition){var f=Q.T,_={};Q.T=_;try{var T=a(d,l),C=Q.S;C!==null&&C(_,T),o_(n,i,T)}catch(B){Gf(n,i,B)}finally{f!==null&&_.types!==null&&(f.types=_.types),Q.T=f}}else try{f=a(d,l),o_(n,i,f)}catch(B){Gf(n,i,B)}}function o_(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){l_(n,i,l)},function(l){return Gf(n,i,l)}):l_(n,i,a)}function l_(n,i,a){i.status="fulfilled",i.value=a,u_(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,a_(n,a)))}function Gf(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,u_(i),i=i.next;while(i!==l)}n.action=null}function u_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function c_(n,i){return i}function h_(n,i){if(Pe){var a=it.formState;if(a!==null){e:{var l=Ie;if(Pe){if(rt){t:{for(var d=rt,f=Bn;d.nodeType!==8;){if(!f){d=null;break t}if(d=qn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){rt=qn(d.nextSibling),l=d.data==="F!";break e}}Ns(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c_,lastRenderedState:i},a.queue=l,a=N_.bind(null,Ie,l),l.dispatch=a,l=Hf(!1),f=$f.bind(null,Ie,!1,l.queue),l=on(),d={state:i,dispatch:null,action:n,pending:null},l.queue=d,a=AA.bind(null,Ie,d,f,a),d.dispatch=a,l.memoizedState=n,[i,a,!1]}function d_(n){var i=bt();return f_(i,We,n)}function f_(n,i,a){if(i=Ff(n,i,c_)[0],n=Zc(Ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=zl(i)}catch(_){throw _===Xa?Fc:_}else l=i;i=bt();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,eo(9,{destroy:void 0},xA.bind(null,d,a),null)),[l,f,n]}function xA(n,i){n.action=i}function m_(n){var i=bt(),a=We;if(a!==null)return f_(i,a,n);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function eo(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Jc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function p_(){return bt().memoizedState}function Wc(n,i,a,l){var d=on();Ie.flags|=n,d.memoizedState=eo(1|i,{destroy:void 0},a,l===void 0?null:l)}function eh(n,i,a,l){var d=bt();l=l===void 0?null:l;var f=d.memoizedState.inst;We!==null&&l!==null&&Pf(l,We.memoizedState.deps)?d.memoizedState=eo(i,f,a,l):(Ie.flags|=n,d.memoizedState=eo(1|i,f,a,l))}function g_(n,i){Wc(8390656,8,n,i)}function Kf(n,i){eh(2048,8,n,i)}function wA(n){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=Jc(),Ie.updateQueue=i,i.events=[n];else{var a=i.events;a===null?i.events=[n]:a.push(n)}}function y_(n){var i=bt().memoizedState;return wA({ref:i,nextImpl:n}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function __(n,i){return eh(4,2,n,i)}function v_(n,i){return eh(4,4,n,i)}function b_(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function E_(n,i,a){a=a!=null?a.concat([n]):null,eh(4,4,b_.bind(null,i,n),a)}function Qf(){}function T_(n,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Pf(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function S_(n,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Pf(i,l[1]))return l[0];if(l=n(),Kr){Vn(!0);try{n()}finally{Vn(!1)}}return a.memoizedState=[l,i],l}function Yf(n,i,a){return a===void 0||(Xi&1073741824)!==0&&(Oe&261930)===0?n.memoizedState=i:(n.memoizedState=a,n=Av(),Ie.lanes|=n,Us|=n,a)}function A_(n,i,a,l){return bn(a,i)?a:$a.current!==null?(n=Yf(n,a,l),bn(n,i)||(Dt=!0),n):(Xi&42)===0||(Xi&1073741824)!==0&&(Oe&261930)===0?(Dt=!0,n.memoizedState=a):(n=Av(),Ie.lanes|=n,Us|=n,i)}function x_(n,i,a,l,d){var f=ie.p;ie.p=f!==0&&8>f?f:8;var _=Q.T,T={};Q.T=T,$f(n,!1,i,a);try{var C=d(),B=Q.S;if(B!==null&&B(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=EA(C,l);Bl(n,i,K,wn(n))}else Bl(n,i,l,wn(n))}catch(X){Bl(n,i,{then:function(){},status:"rejected",reason:X},wn())}finally{ie.p=f,_!==null&&T.types!==null&&(_.types=T.types),Q.T=_}}function IA(){}function Xf(n,i,a,l){if(n.tag!==5)throw Error(s(476));var d=w_(n).queue;x_(n,d,i,ve,a===null?IA:function(){return I_(n),a(l)})}function w_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ve},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function I_(n){var i=w_(n);i.next===null&&(i=n.alternate.memoizedState),Bl(n,i.next.queue,{},wn())}function Jf(){return Xt(su)}function R_(){return bt().memoizedState}function C_(){return bt().memoizedState}function RA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();n=Os(a);var l=Ms(i,n,a);l!==null&&(pn(l,i,a),Pl(l,i,a)),i={cache:xf()},n.payload=i;return}i=i.return}}function CA(n,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},th(n)?D_(i,a):(a=mf(n,i,a,l),a!==null&&(pn(a,n,l),V_(a,i,l)))}function N_(n,i,a){var l=wn();Bl(n,i,a,l)}function Bl(n,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(th(n))D_(i,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,T=f(_,a);if(d.hasEagerState=!0,d.eagerState=T,bn(T,_))return kc(n,i,d,0),it===null&&Mc(),!1}catch{}if(a=mf(n,i,d,l),a!==null)return pn(a,n,l),V_(a,i,l),!0}return!1}function $f(n,i,a,l){if(l={lane:2,revertLane:Cm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},th(n)){if(i)throw Error(s(479))}else i=mf(n,a,l,2),i!==null&&pn(i,n,2)}function th(n){var i=n.alternate;return n===Ie||i!==null&&i===Ie}function D_(n,i){Za=Yc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function V_(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,ul(n,a)}}var Fl={readContext:Xt,use:$c,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Fl.useEffectEvent=mt;var O_={readContext:Xt,use:$c,useCallback:function(n,i){return on().memoizedState=[n,i===void 0?null:i],n},useContext:Xt,useEffect:g_,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,Wc(4194308,4,b_.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Wc(4194308,4,n,i)},useInsertionEffect:function(n,i){Wc(4,2,n,i)},useMemo:function(n,i){var a=on();i=i===void 0?null:i;var l=n();if(Kr){Vn(!0);try{n()}finally{Vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=on();if(a!==void 0){var d=a(i);if(Kr){Vn(!0);try{a(i)}finally{Vn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=CA.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var i=on();return n={current:n},i.memoizedState=n},useState:function(n){n=Hf(n);var i=n.queue,a=N_.bind(null,Ie,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:Qf,useDeferredValue:function(n,i){var a=on();return Yf(a,n,i)},useTransition:function(){var n=Hf(!1);return n=x_.bind(null,Ie,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ie,d=on();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(Oe&127)!==0||e_(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,g_(n_.bind(null,l,f,n),[n]),l.flags|=2048,eo(9,{destroy:void 0},t_.bind(null,l,f,a,i),null),a},useId:function(){var n=on(),i=it.identifierPrefix;if(Pe){var a=Ni,l=Ci;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Xc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=TA++,i="_"+i+"r_"+a.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Jf,useFormState:h_,useActionState:h_,useOptimistic:function(n){var i=on();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=$f.bind(null,Ie,!0,a),a.dispatch=i,[n,i]},useMemoCache:Bf,useCacheRefresh:function(){return on().memoizedState=RA.bind(null,Ie)},useEffectEvent:function(n){var i=on(),a={impl:n};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Zf={readContext:Xt,use:$c,useCallback:T_,useContext:Xt,useEffect:Kf,useImperativeHandle:E_,useInsertionEffect:__,useLayoutEffect:v_,useMemo:S_,useReducer:Zc,useRef:p_,useState:function(){return Zc(Ji)},useDebugValue:Qf,useDeferredValue:function(n,i){var a=bt();return A_(a,We.memoizedState,n,i)},useTransition:function(){var n=Zc(Ji)[0],i=bt().memoizedState;return[typeof n=="boolean"?n:zl(n),i]},useSyncExternalStore:Wy,useId:R_,useHostTransitionStatus:Jf,useFormState:d_,useActionState:d_,useOptimistic:function(n,i){var a=bt();return r_(a,We,n,i)},useMemoCache:Bf,useCacheRefresh:C_};Zf.useEffectEvent=y_;var M_={readContext:Xt,use:$c,useCallback:T_,useContext:Xt,useEffect:Kf,useImperativeHandle:E_,useInsertionEffect:__,useLayoutEffect:v_,useMemo:S_,useReducer:qf,useRef:p_,useState:function(){return qf(Ji)},useDebugValue:Qf,useDeferredValue:function(n,i){var a=bt();return We===null?Yf(a,n,i):A_(a,We.memoizedState,n,i)},useTransition:function(){var n=qf(Ji)[0],i=bt().memoizedState;return[typeof n=="boolean"?n:zl(n),i]},useSyncExternalStore:Wy,useId:R_,useHostTransitionStatus:Jf,useFormState:m_,useActionState:m_,useOptimistic:function(n,i){var a=bt();return We!==null?r_(a,We,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:C_};M_.useEffectEvent=y_;function Wf(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var em={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=wn(),d=Os(l);d.payload=i,a!=null&&(d.callback=a),i=Ms(n,d,l),i!==null&&(pn(i,n,l),Pl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=wn(),d=Os(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Ms(n,d,l),i!==null&&(pn(i,n,l),Pl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=wn(),l=Os(a);l.tag=2,i!=null&&(l.callback=i),i=Ms(n,l,a),i!==null&&(pn(i,n,a),Pl(i,n,a))}};function k_(n,i,a,l,d,f,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,f,_):i.prototype&&i.prototype.isPureReactComponent?!Rl(a,l)||!Rl(d,f):!0}function P_(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&em.enqueueReplaceState(i,i.state,null)}function Qr(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=S({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}function j_(n){Oc(n)}function L_(n){console.error(n)}function U_(n){Oc(n)}function nh(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function z_(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function tm(n,i,a){return a=Os(a),a.tag=3,a.payload={element:null},a.callback=function(){nh(n,i)},a}function B_(n){return n=Os(n),n.tag=3,n}function F_(n,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;n.payload=function(){return d(f)},n.callback=function(){z_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){z_(i,a,l),typeof d!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function NA(n,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ka(i,a,d,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?mh():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===qc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),wm(n,l,d)),!1;case 22:return a.flags|=65536,l===qc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),wm(n,l,d)),!1}throw Error(s(435,a.tag))}return wm(n,l,d),mh(),!1}if(Pe)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==bf&&(n=Error(s(422),{cause:l}),Dl(Ln(n,a)))):(l!==bf&&(i=Error(s(423),{cause:l}),Dl(Ln(i,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=Ln(l,a),d=tm(n.stateNode,l,d),Df(n,d),pt!==4&&(pt=2)),!1;var f=Error(s(520),{cause:l});if(f=Ln(f,a),Jl===null?Jl=[f]:Jl.push(f),pt!==4&&(pt=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=tm(a.stateNode,l,n),Df(a,n),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zs===null||!zs.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=B_(d),F_(d,n,a,l),Df(a,d),!1}a=a.return}while(a!==null);return!1}var nm=Error(s(461)),Dt=!1;function Jt(n,i,a,l){i.child=n===null?Ky(i,null,a,l):Gr(i,n.child,a,l)}function q_(n,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Br(i),l=jf(n,i,a,_,f,d),T=Lf(),n!==null&&!Dt?(Uf(n,i,d),$i(n,i,d)):(Pe&&T&&_f(i),i.flags|=1,Jt(n,i,l,d),i.child)}function H_(n,i,a,l,d){if(n===null){var f=a.type;return typeof f=="function"&&!pf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,G_(n,i,f,l,d)):(n=jc(a.type,null,l,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(f=n.child,!cm(n,d)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Rl,a(_,l)&&n.ref===i.ref)return $i(n,i,d)}return i.flags|=1,n=Gi(f,l),n.ref=i.ref,n.return=i,i.child=n}function G_(n,i,a,l,d){if(n!==null){var f=n.memoizedProps;if(Rl(f,l)&&n.ref===i.ref)if(Dt=!1,i.pendingProps=l=f,cm(n,d))(n.flags&131072)!==0&&(Dt=!0);else return i.lanes=n.lanes,$i(n,i,d)}return im(n,i,a,l,d)}function K_(n,i,a,l){var d=l.children,f=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,n!==null){for(l=i.child=n.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return Q_(n,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Bc(i,f!==null?f.cachePool:null),f!==null?Xy(i,f):Of(),Jy(i);else return l=i.lanes=536870912,Q_(n,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Bc(i,f.cachePool),Xy(i,f),Ps(),i.memoizedState=null):(n!==null&&Bc(i,null),Of(),Ps());return Jt(n,i,d,a),i.child}function ql(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Q_(n,i,a,l,d){var f=If();return f=f===null?null:{parent:Ct._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&Bc(i,null),Of(),Jy(i),n!==null&&Ka(n,i,l,!0),i.childLanes=d,null}function ih(n,i){return i=rh({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Y_(n,i,a){return Gr(i,n.child,null,a),n=ih(i,i.pendingProps),n.flags|=2,Sn(i),i.memoizedState=null,n}function DA(n,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Pe){if(l.mode==="hidden")return n=ih(i,l),i.lanes=536870912,ql(null,n);if(kf(i),(n=rt)?(n=a0(n,Bn),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Rs!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Dy(n),a.return=i,i.child=a,Yt=i,rt=null)):n=null,n===null)throw Ns(i);return i.lanes=536870912,null}return ih(i,l)}var f=n.memoizedState;if(f!==null){var _=f.dehydrated;if(kf(i),d)if(i.flags&256)i.flags&=-257,i=Y_(n,i,a);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(s(558));else if(Dt||Ka(n,i,a,!1),d=(a&n.childLanes)!==0,Dt||d){if(l=it,l!==null&&(_=cl(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,jr(n,_),pn(l,n,_),nm;mh(),i=Y_(n,i,a)}else n=f.treeContext,rt=qn(_.nextSibling),Yt=i,Pe=!0,Cs=null,Bn=!1,n!==null&&My(i,n),i=ih(i,l),i.flags|=4096;return i}return n=Gi(n.child,{mode:l.mode,children:l.children}),n.ref=i.ref,i.child=n,n.return=i,n}function sh(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function im(n,i,a,l,d){return Br(i),a=jf(n,i,a,l,void 0,d),l=Lf(),n!==null&&!Dt?(Uf(n,i,d),$i(n,i,d)):(Pe&&l&&_f(i),i.flags|=1,Jt(n,i,a,d),i.child)}function X_(n,i,a,l,d,f){return Br(i),i.updateQueue=null,a=Zy(i,l,a,d),$y(n),l=Lf(),n!==null&&!Dt?(Uf(n,i,f),$i(n,i,f)):(Pe&&l&&_f(i),i.flags|=1,Jt(n,i,a,f),i.child)}function J_(n,i,a,l,d){if(Br(i),i.stateNode===null){var f=Fa,_=a.contextType;typeof _=="object"&&_!==null&&(f=Xt(_)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=em,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},Cf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Xt(_):Fa,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Wf(i,a,_,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&em.enqueueReplaceState(f,f.state,null),Ll(i,l,f,d),jl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){f=i.stateNode;var T=i.memoizedProps,C=Qr(a,T);f.props=C;var B=f.context,K=a.contextType;_=Fa,typeof K=="object"&&K!==null&&(_=Xt(K));var X=a.getDerivedStateFromProps;K=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==_)&&P_(i,f,l,_),Vs=!1;var F=i.memoizedState;f.state=F,Ll(i,l,f,d),jl(),B=i.memoizedState,T||F!==B||Vs?(typeof X=="function"&&(Wf(i,a,X,l),B=i.memoizedState),(C=Vs||k_(i,a,C,l,F,B,_))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),f.props=l,f.state=B,f.context=_,l=C):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Nf(n,i),_=i.memoizedProps,K=Qr(a,_),f.props=K,X=i.pendingProps,F=f.context,B=a.contextType,C=Fa,typeof B=="object"&&B!==null&&(C=Xt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==X||F!==C)&&P_(i,f,l,C),Vs=!1,F=i.memoizedState,f.state=F,Ll(i,l,f,d),jl();var G=i.memoizedState;_!==X||F!==G||Vs||n!==null&&n.dependencies!==null&&Uc(n.dependencies)?(typeof T=="function"&&(Wf(i,a,T,l),G=i.memoizedState),(K=Vs||k_(i,a,K,l,F,G,C)||n!==null&&n.dependencies!==null&&Uc(n.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,C)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),f.props=l,f.state=G,f.context=C,l=K):(typeof f.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(i.flags|=1024),l=!1)}return f=l,sh(n,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,n!==null&&l?(i.child=Gr(i,n.child,null,d),i.child=Gr(i,null,a,d)):Jt(n,i,a,d),i.memoizedState=f.state,n=i.child):n=$i(n,i,d),n}function $_(n,i,a,l){return Ur(),i.flags|=256,Jt(n,i,a,l),i.child}var sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rm(n){return{baseLanes:n,cachePool:zy()}}function am(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=xn),n}function Z_(n,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=n!==null&&n.memoizedState===null?!1:(vt.current&2)!==0),_&&(d=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(Pe){if(d?ks(i):Ps(),(n=rt)?(n=a0(n,Bn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Rs!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Dy(n),a.return=i,i.child=a,Yt=i,rt=null)):n=null,n===null)throw Ns(i);return Fm(n)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,d?(Ps(),d=i.mode,T=rh({mode:"hidden",children:T},d),l=Lr(l,d,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=rm(a),l.childLanes=am(n,_,a),i.memoizedState=sm,ql(null,l)):(ks(i),om(i,T))}var C=n.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)i.flags&256?(ks(i),i.flags&=-257,i=lm(n,i,a)):i.memoizedState!==null?(Ps(),i.child=n.child,i.flags|=128,i=null):(Ps(),T=l.fallback,d=i.mode,l=rh({mode:"visible",children:l.children},d),T=Lr(T,d,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Gr(i,n.child,null,a),l=i.child,l.memoizedState=rm(a),l.childLanes=am(n,_,a),i.memoizedState=sm,i=ql(null,l));else if(ks(i),Fm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,Dl({value:l,source:null,stack:null}),i=lm(n,i,a)}else if(Dt||Ka(n,i,a,!1),_=(a&n.childLanes)!==0,Dt||_){if(_=it,_!==null&&(l=cl(_,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,jr(n,l),pn(_,n,l),nm;Bm(T)||mh(),i=lm(n,i,a)}else Bm(T)?(i.flags|=192,i.child=n.child,i=null):(n=C.treeContext,rt=qn(T.nextSibling),Yt=i,Pe=!0,Cs=null,Bn=!1,n!==null&&My(i,n),i=om(i,l.children),i.flags|=4096);return i}return d?(Ps(),T=l.fallback,d=i.mode,C=n.child,B=C.sibling,l=Gi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?T=Gi(B,T):(T=Lr(T,d,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ql(null,l),l=i.child,T=n.child.memoizedState,T===null?T=rm(a):(d=T.cachePool,d!==null?(C=Ct._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=zy(),T={baseLanes:T.baseLanes|a,cachePool:d}),l.memoizedState=T,l.childLanes=am(n,_,a),i.memoizedState=sm,ql(n.child,l)):(ks(i),a=n.child,n=a.sibling,a=Gi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=a,i.memoizedState=null,a)}function om(n,i){return i=rh({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function rh(n,i){return n=En(22,n,null,i),n.lanes=0,n}function lm(n,i,a){return Gr(i,n.child,null,a),n=om(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function W_(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Sf(n.return,i,a)}function um(n,i,a,l,d,f){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=f)}function ev(n,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=vt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,se(vt,_),Jt(n,i,l,a),l=Pe?Nl:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&W_(n,a,i);else if(n.tag===19)W_(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&Qc(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),um(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Qc(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}um(i,!0,a,null,f,l);break;case"together":um(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function $i(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Us|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Ka(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Gi(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Gi(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function cm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Uc(n)))}function VA(n,i,a){switch(i.tag){case 3:Pt(i,i.stateNode.containerInfo),Ds(i,Ct,n.memoizedState.cache),Ur();break;case 27:case 5:vr(i);break;case 4:Pt(i,i.stateNode.containerInfo);break;case 10:Ds(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,kf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ks(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Z_(n,i,a):(ks(i),n=$i(n,i,a),n!==null?n.sibling:null);ks(i);break;case 19:var d=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ka(n,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return ev(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(vt,vt.current),l)break;return null;case 22:return i.lanes=0,K_(n,i,a,i.pendingProps);case 24:Ds(i,Ct,n.memoizedState.cache)}return $i(n,i,a)}function tv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Dt=!0;else{if(!cm(n,a)&&(i.flags&128)===0)return Dt=!1,VA(n,i,a);Dt=(n.flags&131072)!==0}else Dt=!1,Pe&&(i.flags&1048576)!==0&&Oy(i,Nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(n=qr(i.elementType),i.type=n,typeof n=="function")pf(n)?(l=Qr(n,l),i.tag=1,i=J_(null,i,n,l,a)):(i.tag=0,i=im(null,i,n,l,a));else{if(n!=null){var d=n.$$typeof;if(d===ge){i.tag=11,i=q_(null,i,n,l,a);break e}else if(d===I){i.tag=14,i=H_(null,i,n,l,a);break e}}throw i=lt(n)||n,Error(s(306,i,""))}}return i;case 0:return im(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=Qr(l,i.pendingProps),J_(n,i,l,d,a);case 3:e:{if(Pt(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,Nf(n,i),Ll(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ds(i,Ct,l),l!==f.cache&&Af(i,[Ct],a,!0),jl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=$_(n,i,l,a);break e}else if(l!==d){d=Ln(Error(s(424)),i),Dl(d),i=$_(n,i,l,a);break e}else for(n=i.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,rt=qn(n.firstChild),Yt=i,Pe=!0,Cs=null,Bn=!0,a=Ky(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ur(),l===d){i=$i(n,i,a);break e}Jt(n,i,l,a)}i=i.child}return i;case 26:return sh(n,i),n===null?(a=d0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,n=i.pendingProps,l=Eh(Re.current).createElement(a),l[wt]=i,l[Ft]=n,$t(l,a,n),It(l),i.stateNode=l):i.memoizedState=d0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return vr(i),n===null&&Pe&&(l=i.stateNode=u0(i.type,i.pendingProps,Re.current),Yt=i,Bn=!0,d=rt,Hs(i.type)?(qm=d,rt=qn(l.firstChild)):rt=d),Jt(n,i,i.pendingProps.children,a),sh(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Pe&&((d=l=rt)&&(l=lx(l,i.type,i.pendingProps,Bn),l!==null?(i.stateNode=l,Yt=i,rt=qn(l.firstChild),Bn=!1,d=!0):d=!1),d||Ns(i)),vr(i),d=i.type,f=i.pendingProps,_=n!==null?n.memoizedProps:null,l=f.children,Lm(d,f)?l=null:_!==null&&Lm(d,_)&&(i.flags|=32),i.memoizedState!==null&&(d=jf(n,i,SA,null,null,a),su._currentValue=d),sh(n,i),Jt(n,i,l,a),i.child;case 6:return n===null&&Pe&&((n=a=rt)&&(a=ux(a,i.pendingProps,Bn),a!==null?(i.stateNode=a,Yt=i,rt=null,n=!0):n=!1),n||Ns(i)),null;case 13:return Z_(n,i,a);case 4:return Pt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Gr(i,null,l,a):Jt(n,i,l,a),i.child;case 11:return q_(n,i,i.type,i.pendingProps,a);case 7:return Jt(n,i,i.pendingProps,a),i.child;case 8:return Jt(n,i,i.pendingProps.children,a),i.child;case 12:return Jt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ds(i,i.type,l.value),Jt(n,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Br(i),d=Xt(d),l=l(d),i.flags|=1,Jt(n,i,l,a),i.child;case 14:return H_(n,i,i.type,i.pendingProps,a);case 15:return G_(n,i,i.type,i.pendingProps,a);case 19:return ev(n,i,a);case 31:return DA(n,i,a);case 22:return K_(n,i,a,i.pendingProps);case 24:return Br(i),l=Xt(Ct),n===null?(d=If(),d===null&&(d=it,f=xf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},Cf(i),Ds(i,Ct,d)):((n.lanes&a)!==0&&(Nf(n,i),Ll(i,null,null,a),jl()),d=n.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ds(i,Ct,l)):(l=f.cache,Ds(i,Ct,l),l!==d.cache&&Af(i,[Ct],a,!0))),Jt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zi(n){n.flags|=4}function hm(n,i,a,l,d){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(Rv())n.flags|=8192;else throw Hr=qc,Rf}else n.flags&=-16777217}function nv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!y0(i))if(Rv())n.flags|=8192;else throw Hr=qc,Rf}function ah(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?dc():536870912,n.lanes|=i,so|=i)}function Hl(n,i){if(!Pe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function at(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function OA(n,i,a){var l=i.pendingProps;switch(vf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(Ct),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Ga(i)?Zi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ef())),at(i),null;case 26:var d=i.type,f=i.memoizedState;return n===null?(Zi(i),f!==null?(at(i),nv(i,f)):(at(i),hm(i,d,null,l,a))):f?f!==n.memoizedState?(Zi(i),at(i),nv(i,f)):(at(i),i.flags&=-16777217):(n=n.memoizedProps,n!==l&&Zi(i),at(i),hm(i,d,n,l,a)),null;case 27:if(Sa(i),a=Re.current,d=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}n=le.current,Ga(i)?ky(i):(n=u0(d,l,a),i.stateNode=n,Zi(i))}return at(i),null;case 5:if(Sa(i),d=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(f=le.current,Ga(i))ky(i);else{var _=Eh(Re.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[wt]=i,f[Ft]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch($t(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Zi(i)}}return at(i),hm(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,a),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Re.current,Ga(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,d=Yt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[wt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Zv(n.nodeValue,a)),n||Ns(i,!0)}else n=Eh(n).createTextNode(l),n[wt]=i,i.stateNode=n}return at(i),null;case 31:if(a=i.memoizedState,n===null||n.memoizedState!==null){if(l=Ga(i),a!==null){if(n===null){if(!l)throw Error(s(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[wt]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),n=!1}else a=Ef(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return at(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Ga(i),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[wt]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),d=!1}else d=Ef(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==n&&a&&(i.child.flags|=8192),ah(i,i.updateQueue),at(i),null);case 4:return ut(),n===null&&Om(i.stateNode.containerInfo),at(i),null;case 10:return Yi(i.type),at(i),null;case 19:if(J(vt),l=i.memoizedState,l===null)return at(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)Hl(l,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(f=Qc(n),f!==null){for(i.flags|=128,Hl(l,!1),n=f.updateQueue,i.updateQueue=n,ah(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Ny(a,n),a=a.sibling;return se(vt,vt.current&1|2),Pe&&Ki(i,l.treeForkCount),i.child}n=n.sibling}l.tail!==null&&rn()>hh&&(i.flags|=128,d=!0,Hl(l,!1),i.lanes=4194304)}else{if(!d)if(n=Qc(f),n!==null){if(i.flags|=128,d=!0,n=n.updateQueue,i.updateQueue=n,ah(i,n),Hl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Pe)return at(i),null}else 2*rn()-l.renderingStartTime>hh&&a!==536870912&&(i.flags|=128,d=!0,Hl(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(n=l.last,n!==null?n.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=rn(),n.sibling=null,a=vt.current,se(vt,d?a&1|2:a&1),Pe&&Ki(i,l.treeForkCount),n):(at(i),null);case 22:case 23:return Sn(i),Mf(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&ah(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&J(Fr),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(Ct),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function MA(n,i){switch(vf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Yi(Ct),ut(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Sa(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(s(340));Ur()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Sn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ur()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return J(vt),null;case 4:return ut(),null;case 10:return Yi(i.type),null;case 22:case 23:return Sn(i),Mf(),n!==null&&J(Fr),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Yi(Ct),null;case 25:return null;default:return null}}function iv(n,i){switch(vf(i),i.tag){case 3:Yi(Ct),ut();break;case 26:case 27:case 5:Sa(i);break;case 4:ut();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:J(vt);break;case 10:Yi(i.type);break;case 22:case 23:Sn(i),Mf(),n!==null&&J(Fr);break;case 24:Yi(Ct)}}function Gl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==d)}}catch(T){Xe(i,i.return,T)}}function js(n,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&n)===n){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,d=i;var C=a,B=T;try{B()}catch(K){Xe(d,C,K)}}}l=l.next}while(l!==f)}}catch(K){Xe(i,i.return,K)}}function sv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{Yy(i,a)}catch(l){Xe(n,n.return,l)}}}function rv(n,i,a){a.props=Qr(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(n,i,l)}}function Kl(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(d){Xe(n,i,d)}}function Di(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Xe(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Xe(n,i,d)}else a.current=null}function av(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Xe(n,n.return,d)}}function dm(n,i,a){try{var l=n.stateNode;nx(l,n.type,a,i),l[Ft]=i}catch(d){Xe(n,n.return,d)}}function ov(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Hs(n.type)||n.tag===4}function fm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ov(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Hs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function mm(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&Hs(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(mm(n,i,a),n=n.sibling;n!==null;)mm(n,i,a),n=n.sibling}function oh(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Hs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(oh(n,i,a),n=n.sibling;n!==null;)oh(n,i,a),n=n.sibling}function lv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);$t(i,l,a),i[wt]=n,i[Ft]=a}catch(f){Xe(n,n.return,f)}}var Wi=!1,Vt=!1,pm=!1,uv=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function kA(n,i){if(n=n.containerInfo,Pm=Rh,n=Ey(n),lf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,T=-1,C=-1,B=0,K=0,X=n,F=null;t:for(;;){for(var G;X!==a||d!==0&&X.nodeType!==3||(T=_+d),X!==f||l!==0&&X.nodeType!==3||(C=_+l),X.nodeType===3&&(_+=X.nodeValue.length),(G=X.firstChild)!==null;)F=X,X=G;for(;;){if(X===n)break t;if(F===a&&++B===d&&(T=_),F===f&&++K===l&&(C=_),(G=X.nextSibling)!==null)break;X=F,F=X.parentNode}X=G}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(jm={focusedElem:n,selectionRange:a},Rh=!1,Ht=i;Ht!==null;)if(i=Ht,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ht=n;else for(;Ht!==null;){switch(i=Ht,f=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)d=n[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&f!==null){n=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ce=Qr(a.type,d);n=l.getSnapshotBeforeUpdate(ce,f),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){Xe(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)zm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":zm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Ht=n;break}Ht=i.return}}function cv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ts(n,a),l&4&&Gl(5,a);break;case 1:if(ts(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var d=Qr(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&sv(a),l&512&&Kl(a,a.return);break;case 3:if(ts(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Yy(n,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&lv(a);case 26:case 5:ts(n,a),i===null&&l&4&&av(a),l&512&&Kl(a,a.return);break;case 12:ts(n,a);break;case 31:ts(n,a),l&4&&fv(n,a);break;case 13:ts(n,a),l&4&&mv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=HA.bind(null,a),cx(n,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){i=i!==null&&i.memoizedState!==null||Vt,d=Wi;var f=Vt;Wi=l,(Vt=i)&&!f?ns(n,a,(a.subtreeFlags&8772)!==0):ts(n,a),Wi=d,Vt=f}break;case 30:break;default:ts(n,a)}}function hv(n){var i=n.alternate;i!==null&&(n.alternate=null,hv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ra(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ht=null,hn=!1;function es(n,i,a){for(a=a.child;a!==null;)dv(n,i,a),a=a.sibling}function dv(n,i,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Qn,a)}catch{}switch(a.tag){case 26:Vt||Di(a,i),es(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Vt||Di(a,i);var l=ht,d=hn;Hs(a.type)&&(ht=a.stateNode,hn=!1),es(n,i,a),tu(a.stateNode),ht=l,hn=d;break;case 5:Vt||Di(a,i);case 6:if(l=ht,d=hn,ht=null,es(n,i,a),ht=l,hn=d,ht!==null)if(hn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(f){Xe(a,i,f)}else try{ht.removeChild(a.stateNode)}catch(f){Xe(a,i,f)}break;case 18:ht!==null&&(hn?(n=ht,s0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),fo(n)):s0(ht,a.stateNode));break;case 4:l=ht,d=hn,ht=a.stateNode.containerInfo,hn=!0,es(n,i,a),ht=l,hn=d;break;case 0:case 11:case 14:case 15:js(2,a,i),Vt||js(4,a,i),es(n,i,a);break;case 1:Vt||(Di(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&rv(a,i,l)),es(n,i,a);break;case 21:es(n,i,a);break;case 22:Vt=(l=Vt)||a.memoizedState!==null,es(n,i,a),Vt=l;break;default:es(n,i,a)}}function fv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{fo(n)}catch(a){Xe(i,i.return,a)}}}function mv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{fo(n)}catch(a){Xe(i,i.return,a)}}function PA(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new uv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new uv),i;default:throw Error(s(435,n.tag))}}function lh(n,i){var a=PA(n);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=GA.bind(null,n,l);l.then(d,d)}})}function dn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=n,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Hs(T.type)){ht=T.stateNode,hn=!1;break e}break;case 5:ht=T.stateNode,hn=!1;break e;case 3:case 4:ht=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(ht===null)throw Error(s(160));dv(f,_,d),ht=null,hn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)pv(i,n),i=i.sibling}var ii=null;function pv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:dn(i,n),fn(n),l&4&&(js(3,n,n.return),Gl(3,n),js(5,n,n.return));break;case 1:dn(i,n),fn(n),l&512&&(Vt||a===null||Di(a,a.return)),l&64&&Wi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ii;if(dn(i,n),fn(n),l&512&&(Vt||a===null||Di(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[yi]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),$t(f,l,a),f[wt]=n,It(f),l=f;break e;case"link":var _=p0("link","href",d).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}f=d.createElement(l),$t(f,l,a),d.head.appendChild(f);break;case"meta":if(_=p0("meta","content",d).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}f=d.createElement(l),$t(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[wt]=n,It(f),l=f}n.stateNode=l}else g0(d,n.type,n.stateNode);else n.stateNode=m0(d,l,n.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?g0(d,n.type,n.stateNode):m0(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&dm(n,n.memoizedProps,a.memoizedProps)}break;case 27:dn(i,n),fn(n),l&512&&(Vt||a===null||Di(a,a.return)),a!==null&&l&4&&dm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,n),fn(n),l&512&&(Vt||a===null||Di(a,a.return)),n.flags&32){d=n.stateNode;try{cn(d,"")}catch(ce){Xe(n,n.return,ce)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,dm(n,d,a!==null?a.memoizedProps:d)),l&1024&&(pm=!0);break;case 6:if(dn(i,n),fn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(ce){Xe(n,n.return,ce)}}break;case 3:if(Ah=null,d=ii,ii=Th(i.containerInfo),dn(i,n),ii=d,fn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fo(i.containerInfo)}catch(ce){Xe(n,n.return,ce)}pm&&(pm=!1,gv(n));break;case 4:l=ii,ii=Th(n.stateNode.containerInfo),dn(i,n),fn(n),ii=l;break;case 12:dn(i,n),fn(n);break;case 31:dn(i,n),fn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,lh(n,l)));break;case 13:dn(i,n),fn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ch=rn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,lh(n,l)));break;case 22:d=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=Wi,K=Vt;if(Wi=B||d,Vt=K||C,dn(i,n),Vt=K,Wi=B,fn(n),l&8192)e:for(i=n.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||C||Wi||Vt||Yr(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(f=C.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,F=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ce){Xe(C,C.return,ce)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(ce){Xe(C,C.return,ce)}}}else if(i.tag===18){if(a===null){C=i;try{var G=C.stateNode;d?r0(G,!0):r0(C.stateNode,!1)}catch(ce){Xe(C,C.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,lh(n,a))));break;case 19:dn(i,n),fn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,lh(n,l)));break;case 30:break;case 21:break;default:dn(i,n),fn(n)}}function fn(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(ov(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=fm(n);oh(n,f,d);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var T=fm(n);oh(n,T,_);break;case 3:case 4:var C=a.stateNode.containerInfo,B=fm(n);mm(n,B,C);break;default:throw Error(s(161))}}catch(K){Xe(n,n.return,K)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function gv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;gv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ts(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cv(n,i.alternate,i),i=i.sibling}function Yr(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:js(4,i,i.return),Yr(i);break;case 1:Di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&rv(i,i.return,a),Yr(i);break;case 27:tu(i.stateNode);case 26:case 5:Di(i,i.return),Yr(i);break;case 22:i.memoizedState===null&&Yr(i);break;case 30:Yr(i);break;default:Yr(i)}n=n.sibling}}function ns(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=n,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:ns(d,f,a),Gl(4,f);break;case 1:if(ns(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){Xe(l,l.return,B)}if(l=f,d=l.updateQueue,d!==null){var T=l.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)Qy(C[d],T)}catch(B){Xe(l,l.return,B)}}a&&_&64&&sv(f),Kl(f,f.return);break;case 27:lv(f);case 26:case 5:ns(d,f,a),a&&l===null&&_&4&&av(f),Kl(f,f.return);break;case 12:ns(d,f,a);break;case 31:ns(d,f,a),a&&_&4&&fv(d,f);break;case 13:ns(d,f,a),a&&_&4&&mv(d,f);break;case 22:f.memoizedState===null&&ns(d,f,a),Kl(f,f.return);break;case 30:break;default:ns(d,f,a)}i=i.sibling}}function gm(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Vl(a))}function ym(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Vl(n))}function si(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)yv(n,i,a,l),i=i.sibling}function yv(n,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:si(n,i,a,l),d&2048&&Gl(9,i);break;case 1:si(n,i,a,l);break;case 3:si(n,i,a,l),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Vl(n)));break;case 12:if(d&2048){si(n,i,a,l),n=i.stateNode;try{var f=i.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Xe(i,i.return,C)}}else si(n,i,a,l);break;case 31:si(n,i,a,l);break;case 13:si(n,i,a,l);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?si(n,i,a,l):Ql(n,i):f._visibility&2?si(n,i,a,l):(f._visibility|=2,to(n,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&gm(_,i);break;case 24:si(n,i,a,l),d&2048&&ym(i.alternate,i);break;default:si(n,i,a,l)}}function to(n,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=n,_=i,T=a,C=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:to(f,_,T,C,d),Gl(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?to(f,_,T,C,d):Ql(f,_):(K._visibility|=2,to(f,_,T,C,d)),d&&B&2048&&gm(_.alternate,_);break;case 24:to(f,_,T,C,d),d&&B&2048&&ym(_.alternate,_);break;default:to(f,_,T,C,d)}i=i.sibling}}function Ql(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,d=l.flags;switch(l.tag){case 22:Ql(a,l),d&2048&&gm(l.alternate,l);break;case 24:Ql(a,l),d&2048&&ym(l.alternate,l);break;default:Ql(a,l)}i=i.sibling}}var Yl=8192;function no(n,i,a){if(n.subtreeFlags&Yl)for(n=n.child;n!==null;)_v(n,i,a),n=n.sibling}function _v(n,i,a){switch(n.tag){case 26:no(n,i,a),n.flags&Yl&&n.memoizedState!==null&&Tx(a,ii,n.memoizedState,n.memoizedProps);break;case 5:no(n,i,a);break;case 3:case 4:var l=ii;ii=Th(n.stateNode.containerInfo),no(n,i,a),ii=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Yl,Yl=16777216,no(n,i,a),Yl=l):no(n,i,a));break;default:no(n,i,a)}}function vv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Xl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,Ev(l,n)}vv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bv(n),n=n.sibling}function bv(n){switch(n.tag){case 0:case 11:case 15:Xl(n),n.flags&2048&&js(9,n,n.return);break;case 3:Xl(n);break;case 12:Xl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,uh(n)):Xl(n);break;default:Xl(n)}}function uh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,Ev(l,n)}vv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:js(8,i,i.return),uh(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,uh(i));break;default:uh(i)}n=n.sibling}}function Ev(n,i){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:js(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ht=l;else e:for(a=n;Ht!==null;){l=Ht;var d=l.sibling,f=l.return;if(hv(l),l===a){Ht=null;break e}if(d!==null){d.return=f,Ht=d;break e}Ht=f}}}var jA={getCacheForType:function(n){var i=Xt(Ct),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a},cacheSignal:function(){return Xt(Ct).controller.signal}},LA=typeof WeakMap=="function"?WeakMap:Map,He=0,it=null,De=null,Oe=0,Ye=0,An=null,Ls=!1,io=!1,_m=!1,is=0,pt=0,Us=0,Xr=0,vm=0,xn=0,so=0,Jl=null,mn=null,bm=!1,ch=0,Tv=0,hh=1/0,dh=null,zs=null,Lt=0,Bs=null,ro=null,ss=0,Em=0,Tm=null,Sv=null,$l=0,Sm=null;function wn(){return(He&2)!==0&&Oe!==0?Oe&-Oe:Q.T!==null?Cm():fc()}function Av(){if(xn===0)if((Oe&536870912)===0||Pe){var n=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),xn=n}else xn=536870912;return n=Tn.current,n!==null&&(n.flags|=32),xn}function pn(n,i,a){(n===it&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&(ao(n,0),Fs(n,Oe,xn,!1)),Sr(n,a),((He&2)===0||n!==it)&&(n===it&&((He&2)===0&&(Xr|=a),pt===4&&Fs(n,Oe,xn,!1)),Vi(n))}function xv(n,i,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&n.expiredLanes)===0||Yn(n,i),d=l?BA(n,i):xm(n,i,!0),f=l;do{if(d===0){io&&!l&&Fs(n,i,0,!1);break}else{if(a=n.current.alternate,f&&!UA(a)){d=xm(n,i,!1),f=!1;continue}if(d===2){if(f=i,n.errorRecoveryDisabledLanes&f)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=n;d=Jl;var C=T.current.memoizedState.isDehydrated;if(C&&(ao(T,_).flags|=256),_=xm(T,_,!1),_!==2){if(_m&&!C){T.errorRecoveryDisabledLanes|=f,Xr|=f,d=4;break e}f=mn,mn=d,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){ao(n,0),Fs(n,i,0,!0);break}e:{switch(l=n,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Fs(l,i,xn,!Ls);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=ch+300-rn(),10<d)){if(Fs(l,i,xn,!Ls),mi(l,0,!0)!==0)break e;ss=i,l.timeoutHandle=n0(wv.bind(null,l,a,mn,dh,bm,i,xn,Xr,so,Ls,f,"Throttled",-0,0),d);break e}wv(l,a,mn,dh,bm,i,xn,Xr,so,Ls,f,null,-0,0)}}break}while(!0);Vi(n)}function wv(n,i,a,l,d,f,_,T,C,B,K,X,F,G){if(n.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},_v(i,f,X);var ce=(f&62914560)===f?ch-rn():(f&4194048)===f?Tv-rn():0;if(ce=Sx(X,ce),ce!==null){ss=f,n.cancelPendingCommit=ce(Mv.bind(null,n,i,f,a,l,d,_,T,C,K,X,null,F,G)),Fs(n,f,_,!B);return}}Mv(n,i,f,a,l,d,_,T,C)}function UA(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!bn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fs(n,i,a,l){i&=~vm,i&=~Xr,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var d=i;0<d;){var f=31-yt(d),_=1<<f;l[f]=-1,d&=~_}a!==0&&Ar(n,a,i)}function fh(){return(He&6)===0?(Zl(0),!1):!0}function Am(){if(De!==null){if(Ye===0)var n=De.return;else n=De,Qi=zr=null,zf(n),Ja=null,Ml=0,n=De;for(;n!==null;)iv(n.alternate,n),n=n.return;De=null}}function ao(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,rx(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),ss=0,Am(),it=n,De=a=Gi(n.current,null),Oe=i,Ye=0,An=null,Ls=!1,io=Yn(n,i),_m=!1,so=xn=vm=Xr=Us=pt=0,mn=Jl=null,bm=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var d=31-yt(l),f=1<<d;i|=n[d],l&=~f}return is=i,Mc(),a}function Iv(n,i){Ie=null,Q.H=Fl,i===Xa||i===Fc?(i=qy(),Ye=3):i===Rf?(i=qy(),Ye=4):Ye=i===nm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,De===null&&(pt=1,nh(n,Ln(i,n.current)))}function Rv(){var n=Tn.current;return n===null?!0:(Oe&4194048)===Oe?Fn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?n===Fn:!1}function Cv(){var n=Q.H;return Q.H=Fl,n===null?Fl:n}function Nv(){var n=Q.A;return Q.A=jA,n}function mh(){pt=4,Ls||(Oe&4194048)!==Oe&&Tn.current!==null||(io=!0),(Us&134217727)===0&&(Xr&134217727)===0||it===null||Fs(it,Oe,xn,!1)}function xm(n,i,a){var l=He;He|=2;var d=Cv(),f=Nv();(it!==n||Oe!==i)&&(dh=null,ao(n,i)),i=!1;var _=pt;e:do try{if(Ye!==0&&De!==null){var T=De,C=An;switch(Ye){case 8:Am(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var B=Ye;if(Ye=0,An=null,oo(n,T,C,B),a&&io){_=0;break e}break;default:B=Ye,Ye=0,An=null,oo(n,T,C,B)}}zA(),_=pt;break}catch(K){Iv(n,K)}while(!0);return i&&n.shellSuspendCounter++,Qi=zr=null,He=l,Q.H=d,Q.A=f,De===null&&(it=null,Oe=0,Mc()),_}function zA(){for(;De!==null;)Dv(De)}function BA(n,i){var a=He;He|=2;var l=Cv(),d=Nv();it!==n||Oe!==i?(dh=null,hh=rn()+500,ao(n,i)):io=Yn(n,i);e:do try{if(Ye!==0&&De!==null){i=De;var f=An;t:switch(Ye){case 1:Ye=0,An=null,oo(n,i,f,1);break;case 2:case 9:if(By(f)){Ye=0,An=null,Vv(i);break}i=function(){Ye!==2&&Ye!==9||it!==n||(Ye=7),Vi(n)},f.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:By(f)?(Ye=0,An=null,Vv(i)):(Ye=0,An=null,oo(n,i,f,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var T=De;if(_?y0(_):T.stateNode.complete){Ye=0,An=null;var C=T.sibling;if(C!==null)De=C;else{var B=T.return;B!==null?(De=B,ph(B)):De=null}break t}}Ye=0,An=null,oo(n,i,f,5);break;case 6:Ye=0,An=null,oo(n,i,f,6);break;case 8:Am(),pt=6;break e;default:throw Error(s(462))}}FA();break}catch(K){Iv(n,K)}while(!0);return Qi=zr=null,Q.H=l,Q.A=d,He=a,De!==null?0:(it=null,Oe=0,Mc(),pt)}function FA(){for(;De!==null&&!ef();)Dv(De)}function Dv(n){var i=tv(n.alternate,n,is);n.memoizedProps=n.pendingProps,i===null?ph(n):De=i}function Vv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=X_(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=X_(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:zf(i);default:iv(a,i),i=De=Ny(i,is),i=tv(a,i,is)}n.memoizedProps=n.pendingProps,i===null?ph(n):De=i}function oo(n,i,a,l){Qi=zr=null,zf(i),Ja=null,Ml=0;var d=i.return;try{if(NA(n,d,i,a,Oe)){pt=1,nh(n,Ln(a,n.current)),De=null;return}}catch(f){if(d!==null)throw De=d,f;pt=1,nh(n,Ln(a,n.current)),De=null;return}i.flags&32768?(Pe||l===1?n=!0:io||(Oe&536870912)!==0?n=!1:(Ls=n=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ov(i,n)):ph(i)}function ph(n){var i=n;do{if((i.flags&32768)!==0){Ov(i,Ls);return}n=i.return;var a=OA(i.alternate,i,is);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=n}while(i!==null);pt===0&&(pt=5)}function Ov(n,i){do{var a=MA(n.alternate,n);if(a!==null){a.flags&=32767,De=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){De=n;return}De=n=a}while(n!==null);pt=6,De=null}function Mv(n,i,a,l,d,f,_,T,C){n.cancelPendingCommit=null;do gh();while(Lt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=ff,sf(n,a,f,_,T,C),n===it&&(De=it=null,Oe=0),ro=i,Bs=n,ss=a,Em=f,Tm=d,Sv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,KA(_s,function(){return Uv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,d=ie.p,ie.p=2,_=He,He|=4;try{kA(n,i,a)}finally{He=_,ie.p=d,Q.T=l}}Lt=1,kv(),Pv(),jv()}}function kv(){if(Lt===1){Lt=0;var n=Bs,i=ro,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ie.p;ie.p=2;var d=He;He|=4;try{pv(i,n);var f=jm,_=Ey(n.containerInfo),T=f.focusedElem,C=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&by(T.ownerDocument.documentElement,T)){if(C!==null&&lf(T)){var B=C.start,K=C.end;if(K===void 0&&(K=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(K,T.value.length);else{var X=T.ownerDocument||document,F=X&&X.defaultView||window;if(F.getSelection){var G=F.getSelection(),ce=T.textContent.length,be=Math.min(C.start,ce),tt=C.end===void 0?be:Math.min(C.end,ce);!G.extend&&be>tt&&(_=tt,tt=be,be=_);var P=vy(T,be),V=vy(T,tt);if(P&&V&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var z=X.createRange();z.setStart(P.node,P.offset),G.removeAllRanges(),be>tt?(G.addRange(z),G.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),G.addRange(z))}}}}for(X=[],G=T;G=G.parentNode;)G.nodeType===1&&X.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Rh=!!Pm,jm=Pm=null}finally{He=d,ie.p=l,Q.T=a}}n.current=i,Lt=2}}function Pv(){if(Lt===2){Lt=0;var n=Bs,i=ro,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ie.p;ie.p=2;var d=He;He|=4;try{cv(n,i.alternate,i)}finally{He=d,ie.p=l,Q.T=a}}Lt=3}}function jv(){if(Lt===4||Lt===3){Lt=0,ac();var n=Bs,i=ro,a=ss,l=Sv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,ro=Bs=null,Lv(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(zs=null),Bi(a),i=i.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,d=ie.p,ie.p=2,Q.T=null;try{for(var f=n.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{Q.T=i,ie.p=d}}(ss&3)!==0&&gh(),Vi(n),d=n.pendingLanes,(a&261930)!==0&&(d&42)!==0?n===Sm?$l++:($l=0,Sm=n):$l=0,Zl(0)}}function Lv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Vl(i)))}function gh(){return kv(),Pv(),jv(),Uv()}function Uv(){if(Lt!==5)return!1;var n=Bs,i=Em;Em=0;var a=Bi(ss),l=Q.T,d=ie.p;try{ie.p=32>a?32:a,Q.T=null,a=Tm,Tm=null;var f=Bs,_=ss;if(Lt=0,ro=Bs=null,ss=0,(He&6)!==0)throw Error(s(331));var T=He;if(He|=4,bv(f.current),yv(f,f.current,_,a),He=T,Zl(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{ie.p=d,Q.T=l,Lv(n,i)}}function zv(n,i,a){i=Ln(a,i),i=tm(n.stateNode,i,2),n=Ms(n,i,2),n!==null&&(Sr(n,2),Vi(n))}function Xe(n,i,a){if(n.tag===3)zv(n,n,a);else for(;i!==null;){if(i.tag===3){zv(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zs===null||!zs.has(l))){n=Ln(a,n),a=B_(2),l=Ms(i,a,2),l!==null&&(F_(a,l,i,n),Sr(l,2),Vi(l));break}}i=i.return}}function wm(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new LA;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(_m=!0,d.add(a),n=qA.bind(null,n,i,a),i.then(n,n))}function qA(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,it===n&&(Oe&a)===a&&(pt===4||pt===3&&(Oe&62914560)===Oe&&300>rn()-ch?(He&2)===0&&ao(n,0):vm|=a,so===Oe&&(so=0)),Vi(n)}function Bv(n,i){i===0&&(i=dc()),n=jr(n,i),n!==null&&(Sr(n,i),Vi(n))}function HA(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Bv(n,a)}function GA(n,i){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Bv(n,a)}function KA(n,i){return jt(n,i)}var yh=null,lo=null,Im=!1,_h=!1,Rm=!1,qs=0;function Vi(n){n!==lo&&n.next===null&&(lo===null?yh=lo=n:lo=lo.next=n),_h=!0,Im||(Im=!0,YA())}function Zl(n,i){if(!Rm&&_h){Rm=!0;do for(var a=!1,l=yh;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-yt(42|n)+1)-1,f&=d&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Gv(l,f))}else f=Oe,f=mi(l,l===it?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Yn(l,f)||(a=!0,Gv(l,f));l=l.next}while(a);Rm=!1}}function QA(){Fv()}function Fv(){_h=Im=!1;var n=0;qs!==0&&sx()&&(n=qs);for(var i=rn(),a=null,l=yh;l!==null;){var d=l.next,f=qv(l,i);f===0?(l.next=null,a===null?yh=d:a.next=d,d===null&&(lo=a)):(a=l,(n!==0||(f&3)!==0)&&(_h=!0)),l=d}Lt!==0&&Lt!==5||Zl(n),qs!==0&&(qs=0)}function qv(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes&-62914561;0<f;){var _=31-yt(f),T=1<<_,C=d[_];C===-1?((T&a)===0||(T&l)!==0)&&(d[_]=nf(T,i)):C<=i&&(n.expiredLanes|=T),f&=~T}if(i=it,a=Oe,a=mi(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ys(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Yn(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&ys(l),Bi(a)){case 2:case 8:a=ll;break;case 32:a=_s;break;case 268435456:a=oc;break;default:a=_s}return l=Hv.bind(null,n),a=jt(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&ys(l),n.callbackPriority=2,n.callbackNode=null,2}function Hv(n,i){if(Lt!==0&&Lt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(gh()&&n.callbackNode!==a)return null;var l=Oe;return l=mi(n,n===it?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(xv(n,l,i),qv(n,rn()),n.callbackNode!=null&&n.callbackNode===a?Hv.bind(null,n):null)}function Gv(n,i){if(gh())return null;xv(n,i,!0)}function YA(){ax(function(){(He&6)!==0?jt(ol,QA):Fv()})}function Cm(){if(qs===0){var n=Qa;n===0&&(n=di,di<<=1,(di&261888)===0&&(di=256)),qs=n}return qs}function Kv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Va(""+n)}function Qv(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function XA(n,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=Kv((d[Ft]||null).action),_=l.submitter;_&&(i=(i=_[Ft]||null)?Kv(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var T=new xi("action","action",null,l,d);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var C=_?Qv(d,_):new FormData(d);Xf(a,{pending:!0,data:C,method:d.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=_?Qv(d,_):new FormData(d),Xf(a,{pending:!0,data:C,method:d.method,action:f},f,C))},currentTarget:d}]})}}for(var Nm=0;Nm<df.length;Nm++){var Dm=df[Nm],JA=Dm.toLowerCase(),$A=Dm[0].toUpperCase()+Dm.slice(1);ni(JA,"on"+$A)}ni(Ay,"onAnimationEnd"),ni(xy,"onAnimationIteration"),ni(wy,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(fA,"onTransitionRun"),ni(mA,"onTransitionStart"),ni(pA,"onTransitionCancel"),ni(Iy,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function Yv(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,B=T.currentTarget;if(T=T.listener,C!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=B;try{f(d)}catch(K){Oc(K)}d.currentTarget=null,f=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,B=T.currentTarget,T=T.listener,C!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=B;try{f(d)}catch(K){Oc(K)}d.currentTarget=null,f=C}}}}function Ve(n,i){var a=i[Ia];a===void 0&&(a=i[Ia]=new Set);var l=n+"__bubble";a.has(l)||(Xv(i,n,2,!1),a.add(l))}function Vm(n,i,a){var l=0;i&&(l|=4),Xv(a,n,l,i)}var vh="_reactListening"+Math.random().toString(36).slice(2);function Om(n){if(!n[vh]){n[vh]=!0,hl.forEach(function(a){a!=="selectionchange"&&(ZA.has(a)||Vm(a,!1,n),Vm(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[vh]||(i[vh]=!0,Vm("selectionchange",!1,i))}}function Xv(n,i,a,l){switch(A0(i)){case 2:var d=wx;break;case 8:d=Ix;break;default:d=Ym}a=d.bind(null,i,a,n),d=void 0,!Cr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function Mm(n,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===d)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;T!==null;){if(_=_i(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=f=_;continue e}T=T.parentNode}}l=l.return}As(function(){var B=f,K=Mn(a),X=[];e:{var F=Ry.get(n);if(F!==void 0){var G=xi,ce=n;switch(n){case"keypress":if(Dr(a)===0)break e;case"keydown":case"keyup":G=Nc;break;case"focusin":ce="focus",G=Or;break;case"focusout":ce="blur",G=Or;break;case"beforeblur":case"afterblur":G=Or;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=g;break;case Ay:case xy:case wy:G=Sc;break;case Iy:G=A;break;case"scroll":case"scrollend":G=Sl;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Hi;break;case"toggle":case"beforetoggle":G=we}var be=(i&4)!==0,tt=!be&&(n==="scroll"||n==="scrollend"),P=be?F!==null?F+"Capture":null:F;be=[];for(var V=B,z;V!==null;){var Y=V;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||P===null||(Y=Zn(V,P),Y!=null&&be.push(eu(V,Y,z))),tt)break;V=V.return}0<be.length&&(F=new G(F,ce,null,a,K),X.push({event:F,listeners:be}))}}if((i&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",F&&a!==bl&&(ce=a.relatedTarget||a.fromElement)&&(_i(ce)||ce[gi]))break e;if((G||F)&&(F=K.window===K?K:(F=K.ownerDocument)?F.defaultView||F.parentWindow:window,G?(ce=a.relatedTarget||a.toElement,G=B,ce=ce?_i(ce):null,ce!==null&&(tt=u(ce),be=ce.tag,ce!==tt||be!==5&&be!==27&&be!==6)&&(ce=null)):(G=null,ce=B),G!==ce)){if(be=Al,Y="onMouseLeave",P="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(be=Hi,Y="onPointerLeave",P="onPointerEnter",V="pointer"),tt=G==null?F:_n(G),z=ce==null?F:_n(ce),F=new be(Y,V+"leave",G,a,K),F.target=tt,F.relatedTarget=z,Y=null,_i(K)===B&&(be=new be(P,V+"enter",ce,a,K),be.target=z,be.relatedTarget=tt,Y=be),tt=Y,G&&ce)t:{for(be=WA,P=G,V=ce,z=0,Y=P;Y;Y=be(Y))z++;Y=0;for(var ye=V;ye;ye=be(ye))Y++;for(;0<z-Y;)P=be(P),z--;for(;0<Y-z;)V=be(V),Y--;for(;z--;){if(P===V||V!==null&&P===V.alternate){be=P;break t}P=be(P),V=be(V)}be=null}else be=null;G!==null&&Jv(X,F,G,be,!1),ce!==null&&tt!==null&&Jv(X,tt,ce,be,!0)}}e:{if(F=B?_n(B):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var Be=fy;else if(hy(F))if(my)Be=cA;else{Be=lA;var fe=oA}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&Da(B.elementType)&&(Be=fy):Be=uA;if(Be&&(Be=Be(n,B))){dy(X,Be,a,K);break e}fe&&fe(n,F,B),n==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&yl(F,"number",F.value)}switch(fe=B?_n(B):window,n){case"focusin":(hy(fe)||fe.contentEditable==="true")&&(Ua=fe,uf=B,Cl=null);break;case"focusout":Cl=uf=Ua=null;break;case"mousedown":cf=!0;break;case"contextmenu":case"mouseup":case"dragend":cf=!1,Ty(X,a,K);break;case"selectionchange":if(dA)break;case"keydown":case"keyup":Ty(X,a,K)}var Ce;if(qe)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else La?Mr(n,a)&&(Me="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ri&&a.locale!=="ko"&&(La||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&La&&(Ce=Tl()):(Ai=K,El="value"in Ai?Ai.value:Ai.textContent,La=!0)),fe=bh(B,Me),0<fe.length&&(Me=new Ii(Me,n,null,a,K),X.push({event:Me,listeners:fe}),Ce?Me.data=Ce:(Ce=ja(a),Ce!==null&&(Me.data=Ce)))),(Ce=Pn?iA(n,a):sA(n,a))&&(Me=bh(B,"onBeforeInput"),0<Me.length&&(fe=new Ii("onBeforeInput","beforeinput",null,a,K),X.push({event:fe,listeners:Me}),fe.data=Ce)),XA(X,n,B,a,K)}Yv(X,i)})}function eu(n,i,a){return{instance:n,listener:i,currentTarget:a}}function bh(n,i){for(var a=i+"Capture",l=[];n!==null;){var d=n,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Zn(n,a),d!=null&&l.unshift(eu(n,d,f)),d=Zn(n,i),d!=null&&l.push(eu(n,d,f))),n.tag===3)return l;n=n.return}return[]}function WA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Jv(n,i,a,l,d){for(var f=i._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,B=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||B===null||(C=B,d?(B=Zn(a,f),B!=null&&_.unshift(eu(a,B,C))):d||(B=Zn(a,f),B!=null&&_.push(eu(a,B,C)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var ex=/\r\n?/g,tx=/\u0000|\uFFFD/g;function $v(n){return(typeof n=="string"?n:""+n).replace(ex,`
`).replace(tx,"")}function Zv(n,i){return i=$v(i),$v(n)===i}function et(n,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(n,""+l);break;case"className":vn(n,"class",l);break;case"tabIndex":vn(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(n,a,l);break;case"style":vl(n,l,f);break;case"data":if(i!=="object"){vn(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Va(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&et(n,i,"name",d.name,d,null),et(n,i,"formEncType",d.formEncType,d,null),et(n,i,"formMethod",d.formMethod,d,null),et(n,i,"formTarget",d.formTarget,d,null)):(et(n,i,"encType",d.encType,d,null),et(n,i,"method",d.method,d,null),et(n,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Va(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=$n);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Va(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ve("beforetoggle",n),Ve("toggle",n),Ca(n,"popover",l);break;case"xlinkActuate":Rt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ca(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bc.get(a)||a,Ca(n,a,l))}}function km(n,i,a,l,d,f){switch(a){case"style":vl(n,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?cn(n,l):(typeof l=="number"||typeof l=="bigint")&&cn(n,""+l);break;case"onScroll":l!=null&&Ve("scroll",n);break;case"onScrollEnd":l!=null&&Ve("scrollend",n);break;case"onClick":l!=null&&(n.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=n[Ft]||null,f=f!=null?f[a]:null,typeof f=="function"&&n.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ca(n,a,l)}}}function $t(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",n),Ve("load",n);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(n,i,f,_,a,null)}}d&&et(n,i,"srcSet",a.srcSet,a,null),l&&et(n,i,"src",a.src,a,null);return;case"input":Ve("invalid",n);var T=f=_=d=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":d=K;break;case"type":_=K;break;case"checked":C=K;break;case"defaultChecked":B=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:et(n,i,l,K,a,null)}}yc(n,f,T,C,B,_,d,!1);return;case"select":Ve("invalid",n),l=_=f=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:et(n,i,d,T,a,null)}i=f,a=_,n.multiple=!!l,i!=null?bs(n,!!l,i,!1):a!=null&&bs(n,!!l,a,!0);return;case"textarea":Ve("invalid",n),f=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":d=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:et(n,i,_,T,a,null)}Es(n,l,d,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":et(n,i,C,l,a,null));return;case"dialog":Ve("beforetoggle",n),Ve("toggle",n),Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":Ve("load",n);break;case"video":case"audio":for(l=0;l<Wl.length;l++)Ve(Wl[l],n);break;case"image":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"embed":case"source":case"link":Ve("error",n),Ve("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(n,i,B,l,a,null)}return;default:if(Da(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&km(n,i,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(n,i,T,l,a,null))}function nx(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,T=null,C=null,B=null,K=null;for(G in a){var X=a[G];if(a.hasOwnProperty(G)&&X!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(G)||et(n,i,G,null,l,X)}}for(var F in l){var G=l[F];if(X=a[F],l.hasOwnProperty(F)&&(G!=null||X!=null))switch(F){case"type":f=G;break;case"name":d=G;break;case"checked":B=G;break;case"defaultChecked":K=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==X&&et(n,i,F,G,l,X)}}Na(n,_,T,C,B,K,f,d);return;case"select":G=_=T=F=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(f)||et(n,i,f,null,l,C)}for(d in l)if(f=l[d],C=a[d],l.hasOwnProperty(d)&&(f!=null||C!=null))switch(d){case"value":F=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==C&&et(n,i,d,f,l,C)}i=T,a=_,l=G,F!=null?bs(n,!!a,F,!1):!!l!=!!a&&(i!=null?bs(n,!!a,i,!0):bs(n,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(n,i,T,null,l,d)}for(_ in l)if(d=l[_],f=a[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":F=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&et(n,i,_,d,l,f)}_c(n,F,G);return;case"option":for(var ce in a)F=a[ce],a.hasOwnProperty(ce)&&F!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?n.selected=!1:et(n,i,ce,null,l,F));for(C in l)F=l[C],G=a[C],l.hasOwnProperty(C)&&F!==G&&(F!=null||G!=null)&&(C==="selected"?n.selected=F&&typeof F!="function"&&typeof F!="symbol":et(n,i,C,F,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be)&&et(n,i,be,null,l,F);for(B in l)if(F=l[B],G=a[B],l.hasOwnProperty(B)&&F!==G&&(F!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:et(n,i,B,F,l,G)}return;default:if(Da(i)){for(var tt in a)F=a[tt],a.hasOwnProperty(tt)&&F!==void 0&&!l.hasOwnProperty(tt)&&km(n,i,tt,void 0,l,F);for(K in l)F=l[K],G=a[K],!l.hasOwnProperty(K)||F===G||F===void 0&&G===void 0||km(n,i,K,F,l,G);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&et(n,i,P,null,l,F);for(X in l)F=l[X],G=a[X],!l.hasOwnProperty(X)||F===G||F==null&&G==null||et(n,i,X,F,l,G)}function Wv(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ix(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,_=d.initiatorType,T=d.duration;if(f&&T&&Wv(_)){for(_=0,T=d.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>T)break;var K=C.transferSize,X=C.initiatorType;K&&Wv(X)&&(C=C.responseEnd,_+=K*(C<T?1:(T-B)/(C-B)))}if(--l,i+=8*(f+_)/(d.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Pm=null,jm=null;function Eh(n){return n.nodeType===9?n:n.ownerDocument}function e0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t0(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Lm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Um=null;function sx(){var n=window.event;return n&&n.type==="popstate"?n===Um?!1:(Um=n,!0):(Um=null,!1)}var n0=typeof setTimeout=="function"?setTimeout:void 0,rx=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,ax=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(n){return i0.resolve(null).then(n).catch(ox)}:n0;function ox(n){setTimeout(function(){throw n})}function Hs(n){return n==="head"}function s0(n,i){var a=i,l=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(d),fo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")tu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,tu(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[yi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&tu(n.ownerDocument.body);a=d}while(a);fo(i)}function r0(n,i){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function zm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zm(a),Ra(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function lx(n,i,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[yi])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(f=n.getAttribute("rel"),f==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(f!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(f=n.getAttribute("src"),(f!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===f)return n}else return n;if(n=qn(n.nextSibling),n===null)break}return null}function ux(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=qn(n.nextSibling),n===null))return null;return n}function a0(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=qn(n.nextSibling),n===null))return null;return n}function Bm(n){return n.data==="$?"||n.data==="$~"}function Fm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function cx(n,i){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function qn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var qm=null;function o0(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(i===0)return qn(n.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}n=n.nextSibling}return null}function l0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return n;i--}else a!=="/$"&&a!=="/&"||i++}n=n.previousSibling}return null}function u0(n,i,a){switch(i=Eh(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function tu(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ra(n)}var Hn=new Map,c0=new Set;function Th(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var rs=ie.d;ie.d={f:hx,r:dx,D:fx,C:mx,L:px,m:gx,X:_x,S:yx,M:vx};function hx(){var n=rs.f(),i=fh();return n||i}function dx(n){var i=On(n);i!==null&&i.tag===5&&i.type==="form"?I_(i):rs.r(n)}var uo=typeof document>"u"?null:document;function h0(n,i,a){var l=uo;if(l&&typeof i=="string"&&i){var d=un(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),c0.has(d)||(c0.add(d),n={rel:n,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),$t(i,"link",n),It(i),l.head.appendChild(i)))}}function fx(n){rs.D(n),h0("dns-prefetch",n,null)}function mx(n,i){rs.C(n,i),h0("preconnect",n,i)}function px(n,i,a){rs.L(n,i,a);var l=uo;if(l&&n&&i){var d='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+un(a.imageSizes)+'"]')):d+='[href="'+un(n)+'"]';var f=d;switch(i){case"style":f=co(n);break;case"script":f=ho(n)}Hn.has(f)||(n=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Hn.set(f,n),l.querySelector(d)!==null||i==="style"&&l.querySelector(nu(f))||i==="script"&&l.querySelector(iu(f))||(i=l.createElement("link"),$t(i,"link",n),It(i),l.head.appendChild(i)))}}function gx(n,i){rs.m(n,i);var a=uo;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(n)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ho(n)}if(!Hn.has(f)&&(n=S({rel:"modulepreload",href:n},i),Hn.set(f,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(iu(f)))return}l=a.createElement("link"),$t(l,"link",n),It(l),a.head.appendChild(l)}}}function yx(n,i,a){rs.S(n,i,a);var l=uo;if(l&&n){var d=vi(l).hoistableStyles,f=co(n);i=i||"default";var _=d.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(nu(f)))T.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Hn.get(f))&&Hm(n,a);var C=_=l.createElement("link");It(C),$t(C,"link",n),C._p=new Promise(function(B,K){C.onload=B,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Sh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},d.set(f,_)}}}function _x(n,i){rs.X(n,i);var a=uo;if(a&&n){var l=vi(a).hoistableScripts,d=ho(n),f=l.get(d);f||(f=a.querySelector(iu(d)),f||(n=S({src:n,async:!0},i),(i=Hn.get(d))&&Gm(n,i),f=a.createElement("script"),It(f),$t(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function vx(n,i){rs.M(n,i);var a=uo;if(a&&n){var l=vi(a).hoistableScripts,d=ho(n),f=l.get(d);f||(f=a.querySelector(iu(d)),f||(n=S({src:n,async:!0,type:"module"},i),(i=Hn.get(d))&&Gm(n,i),f=a.createElement("script"),It(f),$t(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function d0(n,i,a,l){var d=(d=Re.current)?Th(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=co(a.href),a=vi(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=co(a.href);var f=vi(d).hoistableStyles,_=f.get(n);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(n,_),(f=d.querySelector(nu(n)))&&!f._p&&(_.instance=f,_.state.loading=5),Hn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(n,a),f||bx(d,n,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ho(a),a=vi(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function co(n){return'href="'+un(n)+'"'}function nu(n){return'link[rel="stylesheet"]['+n+"]"}function f0(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function bx(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$t(i,"link",a),It(i),n.head.appendChild(i))}function ho(n){return'[src="'+un(n)+'"]'}function iu(n){return"script[async]"+n}function m0(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,It(l),l;var d=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),It(l),$t(l,"style",d),Sh(l,a.precedence,n),i.instance=l;case"stylesheet":d=co(a.href);var f=n.querySelector(nu(d));if(f)return i.state.loading|=4,i.instance=f,It(f),f;l=f0(a),(d=Hn.get(d))&&Hm(l,d),f=(n.ownerDocument||n).createElement("link"),It(f);var _=f;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),$t(f,"link",l),i.state.loading|=4,Sh(f,a.precedence,n),i.instance=f;case"script":return f=ho(a.src),(d=n.querySelector(iu(f)))?(i.instance=d,It(d),d):(l=a,(d=Hn.get(f))&&(l=S({},a),Gm(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),It(d),$t(d,"link",l),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Sh(l,a.precedence,n));return i.instance}function Sh(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)f=T;else if(f!==d)break}f?f.parentNode.insertBefore(n,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function Hm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Gm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Ah=null;function p0(n,i,a){if(Ah===null){var l=new Map,d=Ah=new Map;d.set(a,l)}else d=Ah,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var f=a[d];if(!(f[yi]||f[wt]||n==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=n+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function g0(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function Ex(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(n=i.disabled,typeof i.precedence=="string"&&n==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function y0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Tx(n,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=co(l.href),f=i.querySelector(nu(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=xh.bind(n),i.then(n,n)),a.state.loading|=4,a.instance=f,It(f);return}f=i.ownerDocument||i,l=f0(l),(d=Hn.get(d))&&Hm(l,d),f=f.createElement("link"),It(f);var _=f;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),$t(f,"link",l),a.instance=f}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=xh.bind(n),i.addEventListener("load",a),i.addEventListener("error",a))}}var Km=0;function Sx(n,i){return n.stylesheets&&n.count===0&&Ih(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&Ih(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4+i);0<n.imgBytes&&Km===0&&(Km=62500*ix());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ih(n,n.stylesheets),n.unsuspend)){var f=n.unsuspend;n.unsuspend=null,f()}},(n.imgBytes>Km?50:800)+i);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function xh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ih(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var wh=null;function Ih(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,wh=new Map,i.forEach(Ax,n),wh=null,xh.call(n))}function Ax(n,i){if(!(i.state.loading&4)){var a=wh.get(n);if(a)var l=a.get(null);else{a=new Map,wh.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=i.instance,_=d.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,d),a.set(_,d),this.count++,l=xh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var su={$$typeof:D,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function xx(n,i,a,l,d,f,_,T,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function _0(n,i,a,l,d,f,_,T,C,B,K,X){return n=new xx(n,i,a,_,C,B,K,X,T),i=1,f===!0&&(i|=24),f=En(3,null,null,i),n.current=f,f.stateNode=n,i=xf(),i.refCount++,n.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},Cf(f),n}function v0(n){return n?(n=Fa,n):Fa}function b0(n,i,a,l,d,f){d=v0(d),l.context===null?l.context=d:l.pendingContext=d,l=Os(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ms(n,l,i),a!==null&&(pn(a,n,i),Pl(a,n,i))}function E0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Qm(n,i){E0(n,i),(n=n.alternate)&&E0(n,i)}function T0(n){if(n.tag===13||n.tag===31){var i=jr(n,67108864);i!==null&&pn(i,n,67108864),Qm(n,67108864)}}function S0(n){if(n.tag===13||n.tag===31){var i=wn();i=xr(i);var a=jr(n,i);a!==null&&pn(a,n,i),Qm(n,i)}}var Rh=!0;function wx(n,i,a,l){var d=Q.T;Q.T=null;var f=ie.p;try{ie.p=2,Ym(n,i,a,l)}finally{ie.p=f,Q.T=d}}function Ix(n,i,a,l){var d=Q.T;Q.T=null;var f=ie.p;try{ie.p=8,Ym(n,i,a,l)}finally{ie.p=f,Q.T=d}}function Ym(n,i,a,l){if(Rh){var d=Xm(l);if(d===null)Mm(n,i,l,Ch,a),x0(n,l);else if(Cx(d,n,i,a,l))l.stopPropagation();else if(x0(n,l),i&4&&-1<Rx.indexOf(n)){for(;d!==null;){var f=On(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=fi(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-yt(_);T.entanglements[1]|=C,_&=~C}Vi(f),(He&6)===0&&(hh=rn()+500,Zl(0))}}break;case 31:case 13:T=jr(f,2),T!==null&&pn(T,f,2),fh(),Qm(f,2)}if(f=Xm(l),f===null&&Mm(n,i,l,Ch,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else Mm(n,i,l,null,a)}}function Xm(n){return n=Mn(n),Jm(n)}var Ch=null;function Jm(n){if(Ch=null,n=_i(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=c(i),n!==null)return n;n=null}else if(a===31){if(n=m(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Ch=n,null}function A0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Er()){case ol:return 2;case ll:return 8;case _s:case tf:return 32;case oc:return 268435456;default:return 32}default:return 32}}var $m=!1,Gs=null,Ks=null,Qs=null,ru=new Map,au=new Map,Ys=[],Rx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x0(n,i){switch(n){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":ru.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(i.pointerId)}}function ou(n,i,a,l,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=On(i),i!==null&&T0(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function Cx(n,i,a,l,d){switch(i){case"focusin":return Gs=ou(Gs,n,i,a,l,d),!0;case"dragenter":return Ks=ou(Ks,n,i,a,l,d),!0;case"mouseover":return Qs=ou(Qs,n,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return ru.set(f,ou(ru.get(f)||null,n,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,au.set(f,ou(au.get(f)||null,n,i,a,l,d)),!0}return!1}function w0(n){var i=_i(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){n.blockedOn=i,Xn(n.priority,function(){S0(a)});return}}else if(i===31){if(i=m(a),i!==null){n.blockedOn=i,Xn(n.priority,function(){S0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Nh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Xm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);bl=l,a.target.dispatchEvent(l),bl=null}else return i=On(a),i!==null&&T0(i),n.blockedOn=a,!1;i.shift()}return!0}function I0(n,i,a){Nh(n)&&a.delete(i)}function Nx(){$m=!1,Gs!==null&&Nh(Gs)&&(Gs=null),Ks!==null&&Nh(Ks)&&(Ks=null),Qs!==null&&Nh(Qs)&&(Qs=null),ru.forEach(I0),au.forEach(I0)}function Dh(n,i){n.blockedOn===i&&(n.blockedOn=null,$m||($m=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nx)))}var Vh=null;function R0(n){Vh!==n&&(Vh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vh===n&&(Vh=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],d=n[i+2];if(typeof l!="function"){if(Jm(l||a)===null)continue;break}var f=On(a);f!==null&&(n.splice(i,3),i-=3,Xf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function fo(n){function i(C){return Dh(C,n)}Gs!==null&&Dh(Gs,n),Ks!==null&&Dh(Ks,n),Qs!==null&&Dh(Qs,n),ru.forEach(i),au.forEach(i);for(var a=0;a<Ys.length;a++){var l=Ys[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ys.length&&(a=Ys[0],a.blockedOn===null);)w0(a),a.blockedOn===null&&Ys.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],_=d[Ft]||null;if(typeof f=="function")_||R0(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[Ft]||null)T=_.formAction;else if(Jm(d)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),R0(a)}}}function C0(){function n(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Zm(n){this._internalRoot=n}Oh.prototype.render=Zm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();b0(a,l,n,i,null,null)},Oh.prototype.unmount=Zm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;b0(n.current,2,null,n,null,null),fh(),i[gi]=null}};function Oh(n){this._internalRoot=n}Oh.prototype.unstable_scheduleHydration=function(n){if(n){var i=fc();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Ys.length&&i!==0&&i<Ys[a].priority;a++);Ys.splice(a,0,n),a===0&&w0(n)}};var N0=e.version;if(N0!=="19.2.3")throw Error(s(527,N0,"19.2.3"));ie.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=y(i),n=n!==null?E(n):null,n=n===null?null:n.stateNode,n};var Dx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{Qn=Mh.inject(Dx),Kt=Mh}catch{}}return uu.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",d=j_,f=L_,_=U_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=_0(n,1,!1,null,null,a,l,null,d,f,_,C0),n[gi]=i.current,Om(n),new Zm(i)},uu.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,d="",f=j_,_=L_,T=U_,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=_0(n,1,!0,i,a??null,l,d,C,f,_,T,C0),i.context=v0(null),a=i.current,l=wn(),l=xr(l),d=Os(l),d.callback=null,Ms(a,d,l),a=l,i.current.lanes=a,Sr(i,a),Vi(i),n[gi]=i.current,Om(n),new Oh(i)},uu.version="19.2.3",uu}var z0;function Bx(){if(z0)return tp.exports;z0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tp.exports=zx(),tp.exports}var Fx=Bx();const qx=zE(Fx);var Et=(r=>(r[r.LOGIN=0]="LOGIN",r[r.DASHBOARD=1]="DASHBOARD",r[r.SECURITY_CHECK=2]="SECURITY_CHECK",r[r.SEARCH_ID=3]="SEARCH_ID",r[r.FORM_STEPPER=4]="FORM_STEPPER",r[r.VIEW_SUMMARY=5]="VIEW_SUMMARY",r))(Et||{});const Hx=()=>{};var B0={};const FE=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Gx=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],c=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],c=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],c=o+1<r.length,m=c?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let x=(m&15)<<2|y>>6,q=y&63;p||(q=64,c||(x=64)),s.push(t[E],t[S],t[x],t[q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(FE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Gx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const S=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new Kx;const x=u<<2|m>>4;if(s.push(x),y!==64){const q=m<<4&240|y>>2;if(s.push(q),S!==64){const W=y<<6&192|S;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Kx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qx=function(r){const e=FE(r);return qE.encodeByteArray(e,!0)},HE=function(r){return Qx(r).replace(/\./g,"")},GE=function(r){try{return qE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function KE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Yx=()=>KE().__FIREBASE_DEFAULTS__,Xx=()=>{if(typeof process>"u"||typeof B0>"u")return;const r=B0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Jx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&GE(r[1]);return e&&JSON.parse(e)},Dd=()=>{try{return Hx()||Yx()||Xx()||Jx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$x=r=>Dd()?.emulatorHosts?.[r],QE=()=>Dd()?.config,YE=r=>Dd()?.[`_${r}`];class Zx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Jo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XE(r){return(await fetch(r,{credentials:"include"})).ok}const Eu={};function Wx(){const r={prod:[],emulator:[]};for(const e of Object.keys(Eu))Eu[e]?r.emulator.push(e):r.prod.push(e);return r}function ew(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let F0=!1;function tw(r,e){if(typeof window>"u"||typeof document>"u"||!Jo(window.location.host)||Eu[r]===e||Eu[r]||F0)return;Eu[r]=e;function t(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=Wx().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,q){x.setAttribute("width","24"),x.setAttribute("id",q),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{F0=!0,c()},x}function E(x,q){x.setAttribute("id",q),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=ew(s),q=t("text"),W=document.getElementById(q)||document.createElement("span"),ee=t("learnmore"),te=document.getElementById(ee)||document.createElement("a"),he=t("preprendIcon"),me=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const D=x.element;m(D),E(te,ee);const ge=y();p(me,he),D.append(me,W,te,ge),document.body.appendChild(D)}u?(W.innerText="Preview backend disconnected.",me.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(me.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function JE(){const r=Dd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aw(){const r=zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $E(){return!JE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZE(){return!JE()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function WE(){try{return typeof indexedDB=="object"}catch{return!1}}function ow(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const lw="FirebaseError";class ps extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=lw,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yu.prototype.create)}}class Yu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?uw(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new ps(o,m,s)}}function uw(r,e){return r.replace(cw,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const cw=/\{\$([^}]+)}/g;function hw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ha(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],c=e[o];if(q0(u)&&q0(c)){if(!ha(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function q0(r){return r!==null&&typeof r=="object"}function Xu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function dw(r,e){const t=new fw(r,e);return t.subscribe.bind(t)}class fw{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");mw(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=rp),o.error===void 0&&(o.error=rp),o.complete===void 0&&(o.complete=rp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mw(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function rp(){}function ci(r){return r&&r._delegate?r._delegate:r}class da{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $r="[DEFAULT]";class pw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Zx;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yw(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gw(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gw(r){return r===$r?void 0:r}function yw(r){return r.instantiationMode==="EAGER"}class _w{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const vw={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},bw=ke.INFO,Ew={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Tw=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Ew[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=bw,this._logHandler=Tw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Sw=(r,e)=>e.some(t=>r instanceof t);let H0,G0;function Aw(){return H0||(H0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xw(){return G0||(G0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eT=new WeakMap,Sp=new WeakMap,tT=new WeakMap,ap=new WeakMap,rg=new WeakMap;function ww(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",c)},u=()=>{t(rr(r.result)),o()},c=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&eT.set(t,r)}).catch(()=>{}),rg.set(e,r),e}function Iw(r){if(Sp.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",c),r.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",c),r.addEventListener("abort",c)});Sp.set(r,e)}let Ap={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Sp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||tT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rr(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Rw(r){Ap=r(Ap)}function Cw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(op(this),e,...t);return tT.set(s,e.sort?e.sort():[e]),rr(s)}:xw().includes(r)?function(...e){return r.apply(op(this),e),rr(eT.get(this))}:function(...e){return rr(r.apply(op(this),e))}}function Nw(r){return typeof r=="function"?Cw(r):(r instanceof IDBTransaction&&Iw(r),Sw(r,Aw())?new Proxy(r,Ap):r)}function rr(r){if(r instanceof IDBRequest)return ww(r);if(ap.has(r))return ap.get(r);const e=Nw(r);return e!==r&&(ap.set(r,e),rg.set(e,r)),e}const op=r=>rg.get(r);function Dw(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(r,e),m=rr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(rr(c.result),p.oldVersion,p.newVersion,rr(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Vw=["get","getKey","getAll","getAllKeys","count"],Ow=["put","add","delete","clear"],lp=new Map;function K0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(lp.get(e))return lp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=Ow.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Vw.includes(t)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&p.done]))[0]};return lp.set(e,u),u}Rw(r=>({...r,get:(e,t,s)=>K0(e,t)||r.get(e,t,s),has:(e,t)=>!!K0(e,t)||r.has(e,t)}));class Mw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kw(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function kw(r){return r.getComponent()?.type==="VERSION"}const xp="@firebase/app",Q0="0.14.7";const hs=new sg("@firebase/app"),Pw="@firebase/app-compat",jw="@firebase/analytics-compat",Lw="@firebase/analytics",Uw="@firebase/app-check-compat",zw="@firebase/app-check",Bw="@firebase/auth",Fw="@firebase/auth-compat",qw="@firebase/database",Hw="@firebase/data-connect",Gw="@firebase/database-compat",Kw="@firebase/functions",Qw="@firebase/functions-compat",Yw="@firebase/installations",Xw="@firebase/installations-compat",Jw="@firebase/messaging",$w="@firebase/messaging-compat",Zw="@firebase/performance",Ww="@firebase/performance-compat",eI="@firebase/remote-config",tI="@firebase/remote-config-compat",nI="@firebase/storage",iI="@firebase/storage-compat",sI="@firebase/firestore",rI="@firebase/ai",aI="@firebase/firestore-compat",oI="firebase",lI="12.8.0";const wp="[DEFAULT]",uI={[xp]:"fire-core",[Pw]:"fire-core-compat",[Lw]:"fire-analytics",[jw]:"fire-analytics-compat",[zw]:"fire-app-check",[Uw]:"fire-app-check-compat",[Bw]:"fire-auth",[Fw]:"fire-auth-compat",[qw]:"fire-rtdb",[Hw]:"fire-data-connect",[Gw]:"fire-rtdb-compat",[Kw]:"fire-fn",[Qw]:"fire-fn-compat",[Yw]:"fire-iid",[Xw]:"fire-iid-compat",[Jw]:"fire-fcm",[$w]:"fire-fcm-compat",[Zw]:"fire-perf",[Ww]:"fire-perf-compat",[eI]:"fire-rc",[tI]:"fire-rc-compat",[nI]:"fire-gcs",[iI]:"fire-gcs-compat",[sI]:"fire-fst",[aI]:"fire-fst-compat",[rI]:"fire-vertex","fire-js":"fire-js",[oI]:"fire-js-all"};const Ou=new Map,cI=new Map,Ip=new Map;function Y0(r,e){try{r.container.addComponent(e)}catch(t){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function No(r){const e=r.name;if(Ip.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,r);for(const t of Ou.values())Y0(t,r);for(const t of cI.values())Y0(t,r);return!0}function ag(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ai(r){return r==null?!1:r.settings!==void 0}const hI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new Yu("app","Firebase",hI);class dI{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const $o=lI;function nT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:wp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ar.create("bad-app-name",{appName:String(o)});if(t||(t=QE()),!t)throw ar.create("no-options");const u=Ou.get(o);if(u){if(ha(t,u.options)&&ha(s,u.config))return u;throw ar.create("duplicate-app",{appName:o})}const c=new _w(o);for(const p of Ip.values())c.addComponent(p);const m=new dI(t,s,c);return Ou.set(o,m),m}function iT(r=wp){const e=Ou.get(r);if(!e&&r===wp&&QE())return nT();if(!e)throw ar.create("no-app",{appName:r});return e}function fI(){return Array.from(Ou.values())}function or(r,e,t){let s=uI[r]??r;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(c.join(" "));return}No(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const mI="firebase-heartbeat-database",pI=1,Mu="firebase-heartbeat-store";let up=null;function sT(){return up||(up=Dw(mI,pI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Mu)}catch(t){console.warn(t)}}}}).catch(r=>{throw ar.create("idb-open",{originalErrorMessage:r.message})})),up}async function gI(r){try{const t=(await sT()).transaction(Mu),s=await t.objectStore(Mu).get(rT(r));return await t.done,s}catch(e){if(e instanceof ps)hs.warn(e.message);else{const t=ar.create("idb-get",{originalErrorMessage:e?.message});hs.warn(t.message)}}}async function X0(r,e){try{const s=(await sT()).transaction(Mu,"readwrite");await s.objectStore(Mu).put(e,rT(r)),await s.done}catch(t){if(t instanceof ps)hs.warn(t.message);else{const s=ar.create("idb-set",{originalErrorMessage:t?.message});hs.warn(s.message)}}}function rT(r){return`${r.name}!${r.options.appId}`}const yI=1024,_I=30;class vI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new EI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=J0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>_I){const o=TI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=J0(),{heartbeatsToSend:t,unsentEntries:s}=bI(this._heartbeatsCache.heartbeats),o=HE(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hs.warn(e),""}}}function J0(){return new Date().toISOString().substring(0,10)}function bI(r,e=yI){const t=[];let s=r.slice();for(const o of r){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),$0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),$0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class EI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WE()?ow().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await gI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return X0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return X0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $0(r){return HE(JSON.stringify({version:2,heartbeats:r})).length}function TI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}function SI(r){No(new da("platform-logger",e=>new Mw(e),"PRIVATE")),No(new da("heartbeat",e=>new vI(e),"PRIVATE")),or(xp,Q0,r),or(xp,Q0,"esm2020"),or("fire-js","")}SI("");var AI="firebase",xI="12.8.0";or(AI,xI,"app");function aT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wI=aT,oT=new Yu("auth","Firebase",aT());const rd=new sg("@firebase/auth");function II(r,...e){rd.logLevel<=ke.WARN&&rd.warn(`Auth (${$o}): ${r}`,...e)}function qh(r,...e){rd.logLevel<=ke.ERROR&&rd.error(`Auth (${$o}): ${r}`,...e)}function Ui(r,...e){throw lg(r,...e)}function li(r,...e){return lg(r,...e)}function og(r,e,t){const s={...wI(),[e]:t};return new Yu("auth","Firebase",s).create(e,{appName:r.name})}function aa(r){return og(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RI(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ui(r,"argument-error"),og(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lg(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return oT.create(r,...e)}function Te(r,e,...t){if(!r)throw lg(e,...t)}function os(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qh(e),new Error(e)}function ds(r,e){r||os(e)}function Rp(){return typeof self<"u"&&self.location?.href||""}function CI(){return Z0()==="http:"||Z0()==="https:"}function Z0(){return typeof self<"u"&&self.location?.protocol||null}function NI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CI()||sw()||"connection"in navigator)?navigator.onLine:!0}function DI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ju{constructor(e,t){this.shortDelay=e,this.longDelay=t,ds(t>e,"Short delay should be less than long delay!"),this.isMobile=nw()||rw()}get(){return NI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ug(r,e){ds(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class lT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const VI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MI=new Ju(3e4,6e4);function cg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Zo(r,e,t,s,o={}){return uT(r,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const m=Xu({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...u};return iw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Jo(r.emulatorConfig.host)&&(y.credentials="include"),lT.fetch()(await cT(r,r.config.apiHost,t,m),y)})}async function uT(r,e,t){r._canInitEmulator=!1;const s={...VI,...e};try{const o=new PI(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw kh(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw kh(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw kh(r,"user-disabled",c);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw og(r,E,y);Ui(r,E)}}catch(o){if(o instanceof ps)throw o;Ui(r,"network-request-failed",{message:String(o)})}}async function kI(r,e,t,s,o={}){const u=await Zo(r,e,t,s,o);return"mfaPendingCredential"in u&&Ui(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function cT(r,e,t,s){const o=`${e}${t}?${s}`,u=r,c=u.config.emulator?ug(r.config,o):`${r.config.apiScheme}://${o}`;return OI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class PI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(li(this.auth,"network-request-failed")),MI.get())})}}function kh(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=li(r,e,s);return o.customData._tokenResponse=t,o}async function jI(r,e){return Zo(r,"POST","/v1/accounts:delete",e)}async function ad(r,e){return Zo(r,"POST","/v1/accounts:lookup",e)}function Tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LI(r,e=!1){const t=ci(r),s=await t.getIdToken(e),o=hg(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:Tu(cp(o.auth_time)),issuedAtTime:Tu(cp(o.iat)),expirationTime:Tu(cp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function cp(r){return Number(r)*1e3}function hg(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const o=GE(t);return o?JSON.parse(o):(qh("Failed to decode base64 JWT payload"),null)}catch(o){return qh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function W0(r){const e=hg(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ku(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ps&&UI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function UI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class zI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function od(r){const e=r.auth,t=await r.getIdToken(),s=await ku(r,ad(e,{idToken:t}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?hT(o.providerUserInfo):[],c=FI(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!c?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function BI(r){const e=ci(r);await od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function hT(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function qI(r,e){const t=await uT(r,{},async()=>{const s=Xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,c=await cT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Jo(r.emulatorConfig.host)&&(p.credentials="include"),lT.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HI(r,e){return Zo(r,"POST","/v2/accounts:revokeToken",cg(r,e))}class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=W0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await qI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,c=new xo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return os("not implemented")}}function Js(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new zI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ku(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LI(this,e)}reload(){return BI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await od(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(aa(this.auth));const e=await this.getIdToken();return await ku(this,jI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,y=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:S,emailVerified:x,isAnonymous:q,providerData:W,stsTokenManager:ee}=t;Te(S&&ee,e,"internal-error");const te=xo.fromJSON(this.name,ee);Te(typeof S=="string",e,"internal-error"),Js(s,e.name),Js(o,e.name),Te(typeof x=="boolean",e,"internal-error"),Te(typeof q=="boolean",e,"internal-error"),Js(u,e.name),Js(c,e.name),Js(m,e.name),Js(p,e.name),Js(y,e.name),Js(E,e.name);const he=new oi({uid:S,auth:e,email:o,emailVerified:x,displayName:s,isAnonymous:q,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:te,createdAt:y,lastLoginAt:E});return W&&Array.isArray(W)&&(he.providerData=W.map(me=>({...me}))),p&&(he._redirectEventId=p),he}static async _fromIdTokenResponse(e,t,s=!1){const o=new xo;o.updateFromServerResponse(t);const u=new oi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await od(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new xo;m.updateFromIdToken(s);const p=new oi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const eb=new Map;function ls(r){ds(r instanceof Function,"Expected a class definition");let e=eb.get(r);return e?(ds(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,eb.set(r,e),e)}class dT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dT.type="NONE";const tb=dT;function Hh(r,e,t){return`firebase:${r}:${e}:${t}`}class wo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Hh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ad(this.auth,{idToken:e}).catch(()=>{});return t?oi._fromGetAccountInfoResponse(this.auth,t,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new wo(ls(tb),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ls(tb);const c=Hh(s,e.config.apiKey,e.name);let m=null;for(const y of t)try{const E=await y._get(c);if(E){let S;if(typeof E=="string"){const x=await ad(e,{idToken:E}).catch(()=>{});if(!x)break;S=await oi._fromGetAccountInfoResponse(e,x,E)}else S=oi._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new wo(u,e,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(c)}catch{}})),new wo(u,e,s))}}function nb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_T(e))return"Blackberry";if(vT(e))return"Webos";if(mT(e))return"Safari";if((e.includes("chrome/")||pT(e))&&!e.includes("edge/"))return"Chrome";if(yT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function fT(r=zt()){return/firefox\//i.test(r)}function mT(r=zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pT(r=zt()){return/crios\//i.test(r)}function gT(r=zt()){return/iemobile/i.test(r)}function yT(r=zt()){return/android/i.test(r)}function _T(r=zt()){return/blackberry/i.test(r)}function vT(r=zt()){return/webos/i.test(r)}function dg(r=zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function GI(r=zt()){return dg(r)&&!!window.navigator?.standalone}function KI(){return aw()&&document.documentMode===10}function bT(r=zt()){return dg(r)||yT(r)||vT(r)||_T(r)||/windows phone/i.test(r)||gT(r)}function ET(r,e=[]){let t;switch(r){case"Browser":t=nb(zt());break;case"Worker":t=`${nb(zt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$o}/${s}`}class QI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function YI(r,e={}){return Zo(r,"GET","/v2/passwordPolicy",cg(r,e))}const XI=6;class JI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??XI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class $I{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ib(this),this.idTokenSubscription=new ib(this),this.beforeStateQueue=new QI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ls(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ad(this,{idToken:e}),s=await oi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ai(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await od(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(aa(this));const t=e?ci(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YI(this),t=new JI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await HI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ls(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[ls(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&II(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Vd(r){return ci(r)}class ib{constructor(e){this.auth=e,this.observer=null,this.addObserver=dw(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZI(r){fg=r}function WI(r){return fg.loadJS(r)}function e2(){return fg.gapiScript}function t2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function n2(r,e){const t=ag(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(ha(u,e??{}))return o;Ui(o,"already-initialized")}return t.initialize({options:e})}function i2(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(ls);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function s2(r,e,t){const s=Vd(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=TT(e),{host:c,port:m}=r2(e),p=m===null?"":`:${m}`,y={url:`${u}//${c}${p}/`},E=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(ha(y,s.config.emulator)&&ha(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Jo(c)?(XE(`${u}//${c}${p}`),tw("Auth",!0)):a2()}function TT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function r2(r){const e=TT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:sb(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:sb(c)}}}function sb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function a2(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ST{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,t){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}async function Io(r,e){return kI(r,"POST","/v1/accounts:signInWithIdp",cg(r,e))}const o2="http://localhost";class fa extends ST{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ui("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const c=new fa(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Io(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Io(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Io(e,t)}buildRequest(){const e={requestUri:o2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xu(t)}return e}}class mg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $u extends mg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class er extends $u{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return er.credential(e.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class as extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return as.credential(t,s)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";class tr extends $u{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";class nr extends $u{constructor(){super("twitter.com")}static credential(e,t){return fa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return nr.credential(t,s)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";class Do{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await oi._fromIdTokenResponse(e,s,o),c=rb(s);return new Do({user:u,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=rb(s);return new Do({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function rb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ld extends ps{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ld.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new ld(e,t,s,o)}}function AT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ld._fromErrorAndOperation(r,u,e,s):u})}async function l2(r,e,t=!1){const s=await ku(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Do._forOperation(r,"link",s)}async function u2(r,e,t=!1){const{auth:s}=r;if(ai(s.app))return Promise.reject(aa(s));const o="reauthenticate";try{const u=await ku(r,AT(s,o,e,r),t);Te(u.idToken,s,"internal-error");const c=hg(u.idToken);Te(c,s,"internal-error");const{sub:m}=c;return Te(r.uid===m,s,"user-mismatch"),Do._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ui(s,"user-mismatch"),u}}async function c2(r,e,t=!1){if(ai(r.app))return Promise.reject(aa(r));const s="signIn",o=await AT(r,s,e),u=await Do._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}function h2(r,e,t,s){return ci(r).onIdTokenChanged(e,t,s)}function d2(r,e,t){return ci(r).beforeAuthStateChanged(e,t)}const ud="__sak";class xT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ud,"1"),this.storage.removeItem(ud),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const f2=1e3,m2=10;class wT extends xT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);KI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,m2):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},f2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wT.type="LOCAL";const p2=wT;class IT extends xT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}IT.type="SESSION";const RT=IT;function g2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Od(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async y=>y(t.origin,u)),p=await g2(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Od.receivers=[];function pg(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}class y2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const y=pg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(S){const x=S;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ji(){return window}function _2(r){ji().location.href=r}function CT(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function v2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function b2(){return navigator?.serviceWorker?.controller||null}function E2(){return CT()?self:null}const NT="firebaseLocalStorageDb",T2=1,cd="firebaseLocalStorage",DT="fbase_key";class Zu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Md(r,e){return r.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function S2(){const r=indexedDB.deleteDatabase(NT);return new Zu(r).toPromise()}function Np(){const r=indexedDB.open(NT,T2);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(cd,{keyPath:DT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(cd)?e(s):(s.close(),await S2(),e(await Np()))})})}async function ab(r,e,t){const s=Md(r,!0).put({[DT]:e,value:t});return new Zu(s).toPromise()}async function A2(r,e){const t=Md(r,!1).get(e),s=await new Zu(t).toPromise();return s===void 0?null:s.value}function ob(r,e){const t=Md(r,!0).delete(e);return new Zu(t).toPromise()}const x2=800,w2=3;class VT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>w2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Od._getInstance(E2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await v2(),!this.activeServiceWorker)return;this.sender=new y2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||b2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await ab(e,ud,"1"),await ob(e,ud),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>ab(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>A2(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ob(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Md(o,!1).getAll();return new Zu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VT.type="LOCAL";const I2=VT;new Ju(3e4,6e4);function OT(r,e){return e?ls(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class gg extends ST{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Io(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function R2(r){return c2(r.auth,new gg(r),r.bypassAuthState)}function C2(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),u2(t,new gg(r),r.bypassAuthState)}async function N2(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),l2(t,new gg(r),r.bypassAuthState)}class MT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R2;case"linkViaPopup":case"linkViaRedirect":return N2;case"reauthViaPopup":case"reauthViaRedirect":return C2;default:Ui(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const D2=new Ju(2e3,1e4);async function V2(r,e,t){if(ai(r.app))return Promise.reject(li(r,"operation-not-supported-in-this-environment"));const s=Vd(r);RI(r,e,mg);const o=OT(s,t);return new sa(s,"signInViaPopup",e,o).executeNotNull()}class sa extends MT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D2.get())};e()}}sa.currentPopupAction=null;const O2="pendingRedirect",Gh=new Map;class M2 extends MT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Gh.get(this.auth._key());if(!e){try{const s=await k2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Gh.set(this.auth._key(),e)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k2(r,e){const t=L2(e),s=j2(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function P2(r,e){Gh.set(r._key(),e)}function j2(r){return ls(r._redirectPersistence)}function L2(r){return Hh(O2,r.config.apiKey,r.name)}async function U2(r,e,t=!1){if(ai(r.app))return Promise.reject(aa(r));const s=Vd(r),o=OT(s,e),c=await new M2(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const z2=600*1e3;class B2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!kT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(li(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z2&&this.cachedEventUids.clear(),this.cachedEventUids.has(lb(e))}saveEventToCache(e){this.cachedEventUids.add(lb(e)),this.lastProcessedEventTime=Date.now()}}function lb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function kT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function F2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kT(r);default:return!1}}async function q2(r,e={}){return Zo(r,"GET","/v1/projects",e)}const H2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G2=/^https?/;async function K2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await q2(r);for(const t of e)try{if(Q2(t))return}catch{}Ui(r,"unauthorized-domain")}function Q2(r){const e=Rp(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!G2.test(t))return!1;if(H2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const Y2=new Ju(3e4,6e4);function ub(){const r=ji().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function X2(r){return new Promise((e,t)=>{function s(){ub(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ub(),t(li(r,"network-request-failed"))},timeout:Y2.get()})}if(ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ji().gapi?.load)s();else{const o=t2("iframefcb");return ji()[o]=()=>{gapi.load?s():t(li(r,"network-request-failed"))},WI(`${e2()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Kh=null,e})}let Kh=null;function J2(r){return Kh=Kh||X2(r),Kh}const $2=new Ju(5e3,15e3),Z2="__/auth/iframe",W2="emulator/auth/iframe",eR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nR(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?ug(e,W2):`https://${r.config.authDomain}/${Z2}`,s={apiKey:e.apiKey,appName:r.name,v:$o},o=tR.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Xu(s).slice(1)}`}async function iR(r){const e=await J2(r),t=ji().gapi;return Te(t,r,"internal-error"),e.open({where:document.body,url:nR(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=li(r,"network-request-failed"),m=ji().setTimeout(()=>{u(c)},$2.get());function p(){ji().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const sR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rR=500,aR=600,oR="_blank",lR="http://localhost";class cb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uR(r,e,t,s=rR,o=aR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...sR,width:s.toString(),height:o.toString(),top:u,left:c},y=zt().toLowerCase();t&&(m=pT(y)?oR:t),fT(y)&&(e=e||lR,p.scrollbars="yes");const E=Object.entries(p).reduce((x,[q,W])=>`${x}${q}=${W},`,"");if(GI(y)&&m!=="_self")return cR(e||"",m),new cb(null);const S=window.open(e||"",m,E);Te(S,r,"popup-blocked");try{S.focus()}catch{}return new cb(S)}function cR(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const hR="__/auth/handler",dR="emulator/auth/handler",fR=encodeURIComponent("fac");async function hb(r,e,t,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:$o,eventId:o};if(e instanceof mg){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",hw(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))c[E]=S}if(e instanceof $u){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(c.scopes=E.join(","))}r.tenantId&&(c.tid=r.tenantId);const m=c;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${fR}=${encodeURIComponent(p)}`:"";return`${mR(r)}?${Xu(m).slice(1)}${y}`}function mR({config:r}){return r.emulator?ug(r,dR):`https://${r.authDomain}/${hR}`}const hp="webStorageSupport";class pR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RT,this._completeRedirectFn=U2,this._overrideRedirectResult=P2}async _openPopup(e,t,s,o){ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await hb(e,t,s,Rp(),o);return uR(e,u,pg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await hb(e,t,s,Rp(),o);return _2(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ds(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await iR(e),s=new B2(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hp,{type:hp},o=>{const u=o?.[0]?.[hp];u!==void 0&&t(!!u),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=K2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bT()||mT()||dg()}}const gR=pR;var db="@firebase/auth",fb="1.12.0";class yR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _R(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vR(r){No(new da("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(r)},y=new $I(s,o,u,p);return i2(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),No(new da("auth-internal",e=>{const t=Vd(e.getProvider("auth").getImmediate());return(s=>new yR(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(db,fb,_R(r)),or(db,fb,"esm2020")}const bR=300,ER=YE("authIdTokenMaxAge")||bR;let mb=null;const TR=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>ER)return;const o=t?.token;mb!==o&&(mb=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function SR(r=iT()){const e=ag(r,"auth");if(e.isInitialized())return e.getImmediate();const t=n2(r,{popupRedirectResolver:gR,persistence:[I2,p2,RT]}),s=YE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=TR(u.toString());d2(t,c,()=>c(t.currentUser)),h2(t,m=>c(m))}}const o=$x("auth");return o&&s2(t,`http://${o}`),t}function AR(){return document.getElementsByTagName("head")?.[0]??document}ZI({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=li("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",AR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vR("Browser");var pb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,PT;(function(){var r;function e(I,w){function N(){}N.prototype=w.prototype,I.F=w.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(k,O,j){for(var R=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)R[lt-2]=arguments[lt];return w.prototype[O].apply(k,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,N){N||(N=0);const k=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)k[O]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(O=0;O<16;++O)k[O]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=I.g[0],N=I.g[1],O=I.g[2];let j=I.g[3],R;R=w+(j^N&(O^j))+k[0]+3614090360&4294967295,w=N+(R<<7&4294967295|R>>>25),R=j+(O^w&(N^O))+k[1]+3905402710&4294967295,j=w+(R<<12&4294967295|R>>>20),R=O+(N^j&(w^N))+k[2]+606105819&4294967295,O=j+(R<<17&4294967295|R>>>15),R=N+(w^O&(j^w))+k[3]+3250441966&4294967295,N=O+(R<<22&4294967295|R>>>10),R=w+(j^N&(O^j))+k[4]+4118548399&4294967295,w=N+(R<<7&4294967295|R>>>25),R=j+(O^w&(N^O))+k[5]+1200080426&4294967295,j=w+(R<<12&4294967295|R>>>20),R=O+(N^j&(w^N))+k[6]+2821735955&4294967295,O=j+(R<<17&4294967295|R>>>15),R=N+(w^O&(j^w))+k[7]+4249261313&4294967295,N=O+(R<<22&4294967295|R>>>10),R=w+(j^N&(O^j))+k[8]+1770035416&4294967295,w=N+(R<<7&4294967295|R>>>25),R=j+(O^w&(N^O))+k[9]+2336552879&4294967295,j=w+(R<<12&4294967295|R>>>20),R=O+(N^j&(w^N))+k[10]+4294925233&4294967295,O=j+(R<<17&4294967295|R>>>15),R=N+(w^O&(j^w))+k[11]+2304563134&4294967295,N=O+(R<<22&4294967295|R>>>10),R=w+(j^N&(O^j))+k[12]+1804603682&4294967295,w=N+(R<<7&4294967295|R>>>25),R=j+(O^w&(N^O))+k[13]+4254626195&4294967295,j=w+(R<<12&4294967295|R>>>20),R=O+(N^j&(w^N))+k[14]+2792965006&4294967295,O=j+(R<<17&4294967295|R>>>15),R=N+(w^O&(j^w))+k[15]+1236535329&4294967295,N=O+(R<<22&4294967295|R>>>10),R=w+(O^j&(N^O))+k[1]+4129170786&4294967295,w=N+(R<<5&4294967295|R>>>27),R=j+(N^O&(w^N))+k[6]+3225465664&4294967295,j=w+(R<<9&4294967295|R>>>23),R=O+(w^N&(j^w))+k[11]+643717713&4294967295,O=j+(R<<14&4294967295|R>>>18),R=N+(j^w&(O^j))+k[0]+3921069994&4294967295,N=O+(R<<20&4294967295|R>>>12),R=w+(O^j&(N^O))+k[5]+3593408605&4294967295,w=N+(R<<5&4294967295|R>>>27),R=j+(N^O&(w^N))+k[10]+38016083&4294967295,j=w+(R<<9&4294967295|R>>>23),R=O+(w^N&(j^w))+k[15]+3634488961&4294967295,O=j+(R<<14&4294967295|R>>>18),R=N+(j^w&(O^j))+k[4]+3889429448&4294967295,N=O+(R<<20&4294967295|R>>>12),R=w+(O^j&(N^O))+k[9]+568446438&4294967295,w=N+(R<<5&4294967295|R>>>27),R=j+(N^O&(w^N))+k[14]+3275163606&4294967295,j=w+(R<<9&4294967295|R>>>23),R=O+(w^N&(j^w))+k[3]+4107603335&4294967295,O=j+(R<<14&4294967295|R>>>18),R=N+(j^w&(O^j))+k[8]+1163531501&4294967295,N=O+(R<<20&4294967295|R>>>12),R=w+(O^j&(N^O))+k[13]+2850285829&4294967295,w=N+(R<<5&4294967295|R>>>27),R=j+(N^O&(w^N))+k[2]+4243563512&4294967295,j=w+(R<<9&4294967295|R>>>23),R=O+(w^N&(j^w))+k[7]+1735328473&4294967295,O=j+(R<<14&4294967295|R>>>18),R=N+(j^w&(O^j))+k[12]+2368359562&4294967295,N=O+(R<<20&4294967295|R>>>12),R=w+(N^O^j)+k[5]+4294588738&4294967295,w=N+(R<<4&4294967295|R>>>28),R=j+(w^N^O)+k[8]+2272392833&4294967295,j=w+(R<<11&4294967295|R>>>21),R=O+(j^w^N)+k[11]+1839030562&4294967295,O=j+(R<<16&4294967295|R>>>16),R=N+(O^j^w)+k[14]+4259657740&4294967295,N=O+(R<<23&4294967295|R>>>9),R=w+(N^O^j)+k[1]+2763975236&4294967295,w=N+(R<<4&4294967295|R>>>28),R=j+(w^N^O)+k[4]+1272893353&4294967295,j=w+(R<<11&4294967295|R>>>21),R=O+(j^w^N)+k[7]+4139469664&4294967295,O=j+(R<<16&4294967295|R>>>16),R=N+(O^j^w)+k[10]+3200236656&4294967295,N=O+(R<<23&4294967295|R>>>9),R=w+(N^O^j)+k[13]+681279174&4294967295,w=N+(R<<4&4294967295|R>>>28),R=j+(w^N^O)+k[0]+3936430074&4294967295,j=w+(R<<11&4294967295|R>>>21),R=O+(j^w^N)+k[3]+3572445317&4294967295,O=j+(R<<16&4294967295|R>>>16),R=N+(O^j^w)+k[6]+76029189&4294967295,N=O+(R<<23&4294967295|R>>>9),R=w+(N^O^j)+k[9]+3654602809&4294967295,w=N+(R<<4&4294967295|R>>>28),R=j+(w^N^O)+k[12]+3873151461&4294967295,j=w+(R<<11&4294967295|R>>>21),R=O+(j^w^N)+k[15]+530742520&4294967295,O=j+(R<<16&4294967295|R>>>16),R=N+(O^j^w)+k[2]+3299628645&4294967295,N=O+(R<<23&4294967295|R>>>9),R=w+(O^(N|~j))+k[0]+4096336452&4294967295,w=N+(R<<6&4294967295|R>>>26),R=j+(N^(w|~O))+k[7]+1126891415&4294967295,j=w+(R<<10&4294967295|R>>>22),R=O+(w^(j|~N))+k[14]+2878612391&4294967295,O=j+(R<<15&4294967295|R>>>17),R=N+(j^(O|~w))+k[5]+4237533241&4294967295,N=O+(R<<21&4294967295|R>>>11),R=w+(O^(N|~j))+k[12]+1700485571&4294967295,w=N+(R<<6&4294967295|R>>>26),R=j+(N^(w|~O))+k[3]+2399980690&4294967295,j=w+(R<<10&4294967295|R>>>22),R=O+(w^(j|~N))+k[10]+4293915773&4294967295,O=j+(R<<15&4294967295|R>>>17),R=N+(j^(O|~w))+k[1]+2240044497&4294967295,N=O+(R<<21&4294967295|R>>>11),R=w+(O^(N|~j))+k[8]+1873313359&4294967295,w=N+(R<<6&4294967295|R>>>26),R=j+(N^(w|~O))+k[15]+4264355552&4294967295,j=w+(R<<10&4294967295|R>>>22),R=O+(w^(j|~N))+k[6]+2734768916&4294967295,O=j+(R<<15&4294967295|R>>>17),R=N+(j^(O|~w))+k[13]+1309151649&4294967295,N=O+(R<<21&4294967295|R>>>11),R=w+(O^(N|~j))+k[4]+4149444226&4294967295,w=N+(R<<6&4294967295|R>>>26),R=j+(N^(w|~O))+k[11]+3174756917&4294967295,j=w+(R<<10&4294967295|R>>>22),R=O+(w^(j|~N))+k[2]+718787259&4294967295,O=j+(R<<15&4294967295|R>>>17),R=N+(j^(O|~w))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+j&4294967295}s.prototype.v=function(I,w){w===void 0&&(w=I.length);const N=w-this.blockSize,k=this.C;let O=this.h,j=0;for(;j<w;){if(O==0)for(;j<=N;)o(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<w;)if(k[O++]=I.charCodeAt(j++),O==this.blockSize){o(this,k),O=0;break}}else for(;j<w;)if(k[O++]=I[j++],O==this.blockSize){o(this,k),O=0;break}}this.h=O,this.o+=w},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)I[w++]=this.g[N]>>>k&255;return I};function u(I,w){var N=m;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=w(I)}function c(I,w){this.h=w;const N=[];let k=!0;for(let O=I.length-1;O>=0;O--){const j=I[O]|0;k&&j==w||(N[O]=j,k=!1)}this.g=N}var m={};function p(I){return-128<=I&&I<128?u(I,function(w){return new c([w|0],w<0?-1:0)}):new c([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return te(y(-I));const w=[];let N=1;for(let k=0;I>=N;k++)w[k]=I/N|0,N*=4294967296;return new c(w,0)}function E(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return te(E(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(w,8));let k=S;for(let j=0;j<I.length;j+=8){var O=Math.min(8,I.length-j);const R=parseInt(I.substring(j,j+O),w);O<8?(O=y(Math.pow(w,O)),k=k.j(O).add(y(R))):(k=k.j(N),k=k.add(y(R)))}return k}var S=p(0),x=p(1),q=p(16777216);r=c.prototype,r.m=function(){if(ee(this))return-te(this).m();let I=0,w=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);I+=(k>=0?k:4294967296+k)*w,w*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(ee(this))return"-"+te(this).toString(I);const w=y(Math.pow(I,6));var N=this;let k="";for(;;){const O=ge(N,w).g;N=he(N,O.j(w));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=O,W(N))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function ee(I){return I.h==-1}r.l=function(I){return I=he(this,I),ee(I)?-1:W(I)?0:1};function te(I){const w=I.g.length,N=[];for(let k=0;k<w;k++)N[k]=~I.g[k];return new c(N,~I.h).add(x)}r.abs=function(){return ee(this)?te(this):this},r.add=function(I){const w=Math.max(this.g.length,I.g.length),N=[];let k=0;for(let O=0;O<=w;O++){let j=k+(this.i(O)&65535)+(I.i(O)&65535),R=(j>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);k=R>>>16,j&=65535,R&=65535,N[O]=R<<16|j}return new c(N,N[N.length-1]&-2147483648?-1:0)};function he(I,w){return I.add(te(w))}r.j=function(I){if(W(this)||W(I))return S;if(ee(this))return ee(I)?te(this).j(te(I)):te(te(this).j(I));if(ee(I))return te(this.j(te(I)));if(this.l(q)<0&&I.l(q)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,N=[];for(var k=0;k<2*w;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<I.g.length;O++){const j=this.i(k)>>>16,R=this.i(k)&65535,lt=I.i(O)>>>16,kt=I.i(O)&65535;N[2*k+2*O]+=R*kt,me(N,2*k+2*O),N[2*k+2*O+1]+=j*kt,me(N,2*k+2*O+1),N[2*k+2*O+1]+=R*lt,me(N,2*k+2*O+1),N[2*k+2*O+2]+=j*lt,me(N,2*k+2*O+2)}for(I=0;I<w;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=w;I<2*w;I++)N[I]=0;return new c(N,0)};function me(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function D(I,w){this.g=I,this.h=w}function ge(I,w){if(W(w))throw Error("division by zero");if(W(I))return new D(S,S);if(ee(I))return w=ge(te(I),w),new D(te(w.g),te(w.h));if(ee(w))return w=ge(I,te(w)),new D(te(w.g),w.h);if(I.g.length>30){if(ee(I)||ee(w))throw Error("slowDivide_ only works with positive integers.");for(var N=x,k=w;k.l(I)<=0;)N=Ee(N),k=Ee(k);var O=ae(N,1),j=ae(k,1);for(k=ae(k,2),N=ae(N,2);!W(k);){var R=j.add(k);R.l(I)<=0&&(O=O.add(N),j=R),k=ae(k,1),N=ae(N,1)}return w=he(I,O.j(w)),new D(O,w)}for(O=S;I.l(w)>=0;){for(N=Math.max(1,Math.floor(I.m()/w.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=y(N),R=j.j(w);ee(R)||R.l(I)>0;)N-=k,j=y(N),R=j.j(w);W(j)&&(j=x),O=O.add(j),I=he(I,R)}return new D(O,I)}r.B=function(I){return ge(this,I).h},r.and=function(I){const w=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<w;k++)N[k]=this.i(k)&I.i(k);return new c(N,this.h&I.h)},r.or=function(I){const w=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<w;k++)N[k]=this.i(k)|I.i(k);return new c(N,this.h|I.h)},r.xor=function(I){const w=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<w;k++)N[k]=this.i(k)^I.i(k);return new c(N,this.h^I.h)};function Ee(I){const w=I.g.length+1,N=[];for(let k=0;k<w;k++)N[k]=I.i(k)<<1|I.i(k-1)>>>31;return new c(N,I.h)}function ae(I,w){const N=w>>5;w%=32;const k=I.g.length-N,O=[];for(let j=0;j<k;j++)O[j]=w>0?I.i(j+N)>>>w|I.i(j+N+1)<<32-w:I.i(j+N);return new c(O,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,PT=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=E,lr=c}).apply(typeof pb<"u"?pb:typeof self<"u"?self:typeof window<"u"?window:{});var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jT,gu,LT,Qh,Dp,UT,zT,BT;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ph=="object"&&Ph];for(var g=0;g<h.length;++g){var b=h[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function o(h,g){if(g)e:{var b=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var U=h[A];if(!(U in b))break e;b=b[U]}h=h[h.length-1],A=b[h],g=g(A),g!=A&&g!=null&&e(b,h,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(g){var b=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&b.push([A,g[A]]);return b}});var u=u||{},c=this||self;function m(h){var g=typeof h;return g=="object"&&h!=null||g=="function"}function p(h,g,b){return h.call.apply(h.bind,arguments)}function y(h,g,b){return y=p,y.apply(null,arguments)}function E(h,g){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function S(h,g){function b(){}b.prototype=g.prototype,h.Z=g.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(A,U,H){for(var ne=Array(arguments.length-2),we=2;we<arguments.length;we++)ne[we-2]=arguments[we];return g.prototype[U].apply(A,ne)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function q(h){const g=h.length;if(g>0){const b=Array(g);for(let A=0;A<g;A++)b[A]=h[A];return b}return[]}function W(h,g){for(let A=1;A<arguments.length;A++){const U=arguments[A];var b=typeof U;if(b=b!="object"?b:U?Array.isArray(U)?"array":b:"null",b=="array"||b=="object"&&typeof U.length=="number"){b=h.length||0;const H=U.length||0;h.length=b+H;for(let ne=0;ne<H;ne++)h[b+ne]=U[ne]}else h.push(U)}}class ee{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(h){c.setTimeout(()=>{throw h},0)}function he(){var h=I;let g=null;return h.g&&(g=h.g,h.g=h.g.next,h.g||(h.h=null),g.next=null),g}class me{constructor(){this.h=this.g=null}add(g,b){const A=D.get();A.set(g,b),this.h?this.h.next=A:this.g=A,this.h=A}}var D=new ee(()=>new ge,h=>h.reset());class ge{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ae=!1,I=new me,w=()=>{const h=Promise.resolve(void 0);Ee=()=>{h.then(N)}};function N(){for(var h;h=he();){try{h.h.call(h.g)}catch(b){te(b)}var g=D;g.j(h),g.h<100&&(g.h++,h.next=g.g,g.g=h)}ae=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,g){this.type=h,this.g=this.target=g,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,g=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,g),c.removeEventListener("test",b,g)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function lt(h,g){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,g)}S(lt,O),lt.prototype.init=function(h,g){const b=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=g,g=h.relatedTarget,g||(b=="mouseover"?g=h.fromElement:b=="mouseout"&&(g=h.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&lt.Z.h.call(this)},lt.prototype.h=function(){lt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var kt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ie(h,g,b,A,U){this.listener=h,this.proxy=null,this.src=g,this.type=b,this.capture=!!A,this.ha=U,this.key=++Q,this.da=this.fa=!1}function ve(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ze(h,g,b){for(const A in h)g.call(b,h[A],A,h)}function Ke(h,g){for(const b in h)g.call(void 0,h[b],b,h)}function M(h){const g={};for(const b in h)g[b]=h[b];return g}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(h,g){let b,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(b in A)h[b]=A[b];for(let H=0;H<J.length;H++)b=J[H],Object.prototype.hasOwnProperty.call(A,b)&&(h[b]=A[b])}}function le(h){this.src=h,this.g={},this.h=0}le.prototype.add=function(h,g,b,A,U){const H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);const ne=Re(h,g,A,U);return ne>-1?(g=h[ne],b||(g.fa=!1)):(g=new ie(g,this.src,H,!!A,U),g.fa=b,h.push(g)),g};function Se(h,g){const b=g.type;if(b in h.g){var A=h.g[b],U=Array.prototype.indexOf.call(A,g,void 0),H;(H=U>=0)&&Array.prototype.splice.call(A,U,1),H&&(ve(g),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Re(h,g,b,A){for(let U=0;U<h.length;++U){const H=h[U];if(!H.da&&H.listener==g&&H.capture==!!b&&H.ha==A)return U}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Pt={};function ut(h,g,b,A,U){if(Array.isArray(g)){for(let H=0;H<g.length;H++)ut(h,g[H],b,A,U);return null}return b=al(b),h&&h[kt]?h.J(g,b,m(A)?!!A.capture:!1,U):vr(h,g,b,!1,A,U)}function vr(h,g,b,A,U,H){if(!g)throw Error("Invalid event type");const ne=m(U)?!!U.capture:!!U;let we=br(h);if(we||(h[Le]=we=new le(h)),b=we.add(g,b,A,ne,H),b.proxy)return b;if(A=Sa(),b.proxy=A,A.src=h,A.listener=b,h.addEventListener)j||(U=ne),U===void 0&&(U=!1),h.addEventListener(g.toString(),A,U);else if(h.attachEvent)h.attachEvent(hi(g.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Sa(){function h(b){return g.call(h.src,h.listener,b)}const g=sl;return h}function Aa(h,g,b,A,U){if(Array.isArray(g))for(var H=0;H<g.length;H++)Aa(h,g[H],b,A,U);else A=m(A)?!!A.capture:!!A,b=al(b),h&&h[kt]?(h=h.i,H=String(g).toString(),H in h.g&&(g=h.g[H],b=Re(g,b,A,U),b>-1&&(ve(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete h.g[H],h.h--)))):h&&(h=br(h))&&(g=h.g[g.toString()],h=-1,g&&(h=Re(g,b,A,U)),(b=h>-1?g[h]:null)&&xa(b))}function xa(h){if(typeof h!="number"&&h&&!h.da){var g=h.src;if(g&&g[kt])Se(g.i,h);else{var b=h.type,A=h.proxy;g.removeEventListener?g.removeEventListener(b,A,h.capture):g.detachEvent?g.detachEvent(hi(b),A):g.addListener&&g.removeListener&&g.removeListener(A),(b=br(g))?(Se(b,h),b.h==0&&(b.src=null,g[Le]=null)):ve(h)}}}function hi(h){return h in Pt?Pt[h]:Pt[h]="on"+h}function sl(h,g){if(h.da)h=!0;else{g=new lt(g,this);const b=h.listener,A=h.ha||h.src;h.fa&&xa(h),h=b.call(A,g)}return h}function br(h){return h=h[Le],h instanceof le?h:null}var rl="__closure_events_fn_"+(Math.random()*1e9>>>0);function al(h){return typeof h=="function"?h:(h[rl]||(h[rl]=function(g){return h.handleEvent(g)}),h[rl])}function At(){k.call(this),this.i=new le(this),this.M=this,this.G=null}S(At,k),At.prototype[kt]=!0,At.prototype.removeEventListener=function(h,g,b,A){Aa(this,h,g,b,A)};function jt(h,g){var b,A=h.G;if(A)for(b=[];A;A=A.G)b.push(A);if(h=h.M,A=g.type||g,typeof g=="string")g=new O(g,h);else if(g instanceof O)g.target=g.target||h;else{var U=g;g=new O(A,h),se(g,U)}U=!0;let H,ne;if(b)for(ne=b.length-1;ne>=0;ne--)H=g.g=b[ne],U=ys(H,A,!0,g)&&U;if(H=g.g=h,U=ys(H,A,!0,g)&&U,U=ys(H,A,!1,g)&&U,b)for(ne=0;ne<b.length;ne++)H=g.g=b[ne],U=ys(H,A,!1,g)&&U}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var h=this.i;for(const g in h.g){const b=h.g[g];for(let A=0;A<b.length;A++)ve(b[A]);delete h.g[g],h.h--}}this.G=null},At.prototype.J=function(h,g,b,A){return this.i.add(String(h),g,!1,b,A)},At.prototype.K=function(h,g,b,A){return this.i.add(String(h),g,!0,b,A)};function ys(h,g,b,A){if(g=h.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let H=0;H<g.length;++H){const ne=g[H];if(ne&&!ne.da&&ne.capture==b){const we=ne.listener,_t=ne.ha||ne.src;ne.fa&&Se(h.i,ne),U=we.call(_t,A)!==!1&&U}}return U&&!A.defaultPrevented}function ef(h,g){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:c.setTimeout(h,g||0)}function ac(h){h.g=ef(()=>{h.g=null,h.i&&(h.i=!1,ac(h))},h.l);const g=h.h;h.h=null,h.m.apply(null,g)}class rn extends k{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ac(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(h){k.call(this),this.h=h,this.g={}}S(Er,k);var ol=[];function ll(h){ze(h.g,function(g,b){this.g.hasOwnProperty(b)&&xa(g)},h),h.g={}}Er.prototype.N=function(){Er.Z.N.call(this),ll(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=c.JSON.stringify,tf=c.JSON.parse,oc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function lc(){}function uc(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){O.call(this,"d")}S(Kt,O);function Vn(){O.call(this,"c")}S(Vn,O);var yt={},cc=null;function wa(){return cc=cc||new At}yt.Ia="serverreachability";function hc(h){O.call(this,yt.Ia,h)}S(hc,O);function di(h){const g=wa();jt(g,new hc(g))}yt.STAT_EVENT="statevent";function Tr(h,g){O.call(this,yt.STAT_EVENT,h),this.stat=g}S(Tr,O);function xt(h){const g=wa();jt(g,new Tr(g,h))}yt.Ja="timingevent";function fi(h,g){O.call(this,yt.Ja,h),this.size=g}S(fi,O);function mi(h,g){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},g)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function nf(h,g,b,A,U,H){h.info(function(){if(h.g)if(H){var ne="",we=H.split("&");for(let qe=0;qe<we.length;qe++){var _t=we[qe].split("=");if(_t.length>1){const ct=_t[0];_t=_t[1];const Pn=ct.split("_");ne=Pn.length>=2&&Pn[1]=="type"?ne+(ct+"="+_t+"&"):ne+(ct+"=redacted&")}}}else ne=null;else ne=H;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+g+`
`+b+`
`+ne})}function dc(h,g,b,A,U,H,ne){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+g+`
`+b+`
`+H+" "+ne})}function pi(h,g,b,A){h.info(function(){return"XMLHTTP TEXT ("+g+"): "+sf(h,b)+(A?" "+A:"")})}function Sr(h,g){h.info(function(){return"TIMEOUT: "+g})}Yn.prototype.info=function(){};function sf(h,g){if(!h.g)return g;if(!g)return null;try{const H=JSON.parse(g);if(H){for(h=0;h<H.length;h++)if(Array.isArray(H[h])){var b=H[h];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<A.length;ne++)A[ne]=""}}}}return _s(H)}catch{return g}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cl;function xr(){}S(xr,lc),xr.prototype.g=function(){return new XMLHttpRequest},cl=new xr;function Bi(h){return encodeURIComponent(String(h))}function fc(h){var g=1;h=h.split(":");const b=[];for(;g>0&&h.length;)b.push(h.shift()),g--;return h.length&&b.push(h.join(":")),b}function Xn(h,g,b,A){this.j=h,this.i=g,this.l=b,this.S=A||1,this.V=new Er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var wt={},Ft={};function gi(h,g,b){h.M=1,h.A=wr(Rt(g)),h.u=b,h.R=!0,Ia(h,null)}function Ia(h,g){h.F=Date.now(),yi(h),h.B=Rt(h.A);var b=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Da(b.i,"t",A),h.C=0,b=h.j.L,h.h=new Jn,h.g=Rc(h.j,b?g:null,!h.u),h.P>0&&(h.O=new rn(y(h.Y,h,h.g),h.P)),g=h.V,b=h.g,A=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(ol[0]=U.toString()),U=ol);for(let H=0;H<U.length;H++){const ne=ut(b,U[H],A||g.handleEvent,!1,g.h||g);if(!ne)break;g.g[ne.key]=ne}g=h.J?M(h.J):{},h.u?(h.v||(h.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,g)):(h.v="GET",h.g.ea(h.B,h.v,null,g)),di(),nf(h.i,h.v,h.B,h.l,h.S,h.u)}Xn.prototype.ba=function(h){h=h.target;const g=this.O;g&&Wn(h)==3?g.j():this.Y(h)},Xn.prototype.Y=function(h){try{if(h==this.g)e:{const we=Wn(this.g),_t=this.g.ya(),qe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||we!=4||_t==7||(_t==8||qe<=0?di(3):di(2)),_i(this);var g=this.g.ca();this.X=g;var b=rf(this);if(this.o=g==200,dc(this.i,this.v,this.B,this.l,this.S,we,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var H=A;break t}}H=null}if(h=H)pi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,h);else{this.o=!1,this.m=3,xt(12),_n(this),On(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<b.length;)if(ct=pc(this,b),ct==Ft){we==4&&(this.m=4,xt(14),h=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==wt){this.m=4,xt(15),pi(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else pi(this.i,this.l,ct,null),vi(this,ct);if(mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||b.length!=0||this.h.h||(this.m=1,xt(16),h=!1),this.o=this.o&&h,!h)pi(this.i,this.l,b,"[Invalid Chunked Response]"),_n(this),On(this);else if(b.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),xl(ne),ne.P=!0,xt(11))}}else pi(this.i,this.l,b,null),vi(this,b);we==4&&_n(this),this.o&&!this.K&&(we==4?Ac(this.j,this):(this.o=!1,yi(this)))}else qi(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),_n(this),On(this)}}}catch{}};function rf(h){if(!mc(h))return h.g.la();const g=Qt(h.g);if(g==="")return"";let b="";const A=g.length,U=Wn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return _n(h),On(h),"";h.h.i=new c.TextDecoder}for(let H=0;H<A;H++)h.h.h=!0,b+=h.h.i.decode(g[H],{stream:!(U&&H==A-1)});return g.length=0,h.h.g+=b,h.C=0,h.h.g}function mc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function pc(h,g){var b=h.C,A=g.indexOf(`
`,b);return A==-1?Ft:(b=Number(g.substring(b,A)),isNaN(b)?wt:(A+=1,A+b>g.length?Ft:(g=g.slice(A,A+b),h.C=A+b,g)))}Xn.prototype.cancel=function(){this.K=!0,_n(this)};function yi(h){h.T=Date.now()+h.H,Ra(h,h.H)}function Ra(h,g){if(h.D!=null)throw Error("WatchDog timer not null");h.D=mi(y(h.aa,h),g)}function _i(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Xn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(di(),xt(17)),_n(this),this.m=2,On(this)):Ra(this,this.T-h)};function On(h){h.j.I==0||h.K||Ac(h.j,h)}function _n(h){_i(h);var g=h.O;g&&typeof g.dispose=="function"&&g.dispose(),h.O=null,ll(h.V),h.g&&(g=h.g,h.g=null,g.abort(),g.dispose())}function vi(h,g){try{var b=h.j;if(b.I!=0&&(b.g==h||Ei(b.h,h))){if(!h.L&&Ei(b.h,h)&&b.I==3){try{var A=b.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Pa(b),ws(b);else break e;Or(b),xt(18)}}else b.xa=U[1],0<b.xa-b.K&&U[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=mi(y(b.Va,b),6e3));bi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Ii(b,11)}else if((h.L||b.g==h)&&Pa(b),!R(g))for(U=b.Ba.g.parse(g),g=0;g<U.length;g++){let qe=U[g];const ct=qe[0];if(!(ct<=b.K))if(b.K=ct,qe=qe[1],b.I==2)if(qe[0]=="c"){b.M=qe[1],b.ba=qe[2];const Pn=qe[3];Pn!=null&&(b.ka=Pn,b.j.info("VER="+b.ka));const Ri=qe[4];Ri!=null&&(b.za=Ri,b.j.info("SVER="+b.za));const ei=qe[5];ei!=null&&typeof ei=="number"&&ei>0&&(A=1.5*ei,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const ti=h.g;if(ti){const Mr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var H=A.h;H.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(fl(H,H.h),H.h=null))}if(A.G){const ja=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(A.wa=ja,Qe(A.J,A.G,ja))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var ne=h;if(A.na=Ic(A,A.L?A.ba:null,A.W),ne.L){ml(A.h,ne);var we=ne,_t=A.O;_t&&(we.H=_t),we.D&&(_i(we),yi(we)),A.g=ne}else Tc(A);b.i.length>0&&wi(b)}else qe[0]!="stop"&&qe[0]!="close"||Ii(b,7);else b.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ii(b,7):Sl(b):qe[0]!="noop"&&b.l&&b.l.qa(qe),b.A=0)}}di(4)}catch{}}var It=class{constructor(h,g){this.g=h,this.map=g}};function hl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bi(h){return h.h?1:h.g?h.g.size:0}function Ei(h,g){return h.h?h.h==g:h.g?h.g.has(g):!1}function fl(h,g){h.g?h.g.add(g):h.h=g}function ml(h,g){h.h&&h.h==g?h.h=null:h.g&&h.g.has(g)&&h.g.delete(g)}hl.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function pl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let g=h.i;for(const b of h.g.values())g=g.concat(b.G);return g}return q(h.i)}var gc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(h,g){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const A=h[b].indexOf("=");let U,H=null;A>=0?(U=h[b].substring(0,A),H=h[b].substring(A+1)):U=h[b],g(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;h instanceof vn?(this.l=h.l,qt(this,h.j),this.o=h.o,this.g=h.g,vs(this,h.u),this.h=h.h,gl(this,bc(h.i)),this.m=h.m):h&&(g=String(h).match(gc))?(this.l=!1,qt(this,g[1]||"",!0),this.o=Ti(g[2]||""),this.g=Ti(g[3]||"",!0),vs(this,g[4]),this.h=Ti(g[5]||"",!0),gl(this,g[6]||"",!0),this.m=Ti(g[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}vn.prototype.toString=function(){const h=[];var g=this.j;g&&h.push(Ir(g,Na,!0),":");var b=this.g;return(b||g=="file")&&(h.push("//"),(g=this.o)&&h.push(Ir(g,Na,!0),"@"),h.push(Bi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Ir(b,b.charAt(0)=="/"?yl:yc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Ir(b,_c)),h.join("")},vn.prototype.resolve=function(h){const g=Rt(this);let b=!!h.j;b?qt(g,h.j):b=!!h.o,b?g.o=h.o:b=!!h.g,b?g.g=h.g:b=h.u!=null;var A=h.h;if(b)vs(g,h.u);else if(b=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=g.h.lastIndexOf("/");U!=-1&&(A=g.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let ne=0;ne<U.length;){const we=U[ne++];we=="."?A&&ne==U.length&&H.push(""):we==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&ne==U.length&&H.push("")):(H.push(we),A=!0)}A=H.join("/")}else A=U}return b?g.h=A:b=h.i.toString()!=="",b?gl(g,bc(h.i)):b=!!h.m,b&&(g.m=h.m),g};function Rt(h){return new vn(h)}function qt(h,g,b){h.j=b?Ti(g,!0):g,h.j&&(h.j=h.j.replace(/:$/,""))}function vs(h,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);h.u=g}else h.u=null}function gl(h,g,b){g instanceof Es?(h.i=g,Va(h.i,h.l)):(b||(g=Ir(g,bs)),h.i=new Es(g,h.l))}function Qe(h,g,b){h.i.set(g,b)}function wr(h){return Qe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ti(h,g){return h?g?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ir(h,g,b){return typeof h=="string"?(h=encodeURI(h).replace(g,un),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function un(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Na=/[#\/\?@]/g,yc=/[#\?:]/g,yl=/[#\?]/g,bs=/[#\?@]/g,_c=/#/g;function Es(h,g){this.h=this.g=null,this.i=h||null,this.j=!!g}function cn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ca(h.i,function(g,b){h.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}r=Es.prototype,r.add=function(h,g){cn(this),this.i=null,h=Ts(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(g),this.h+=1,this};function vc(h,g){cn(h),g=Ts(h,g),h.g.has(g)&&(h.i=null,h.h-=h.g.get(g).length,h.g.delete(g))}function _l(h,g){return cn(h),g=Ts(h,g),h.g.has(g)}r.forEach=function(h,g){cn(this),this.g.forEach(function(b,A){b.forEach(function(U){h.call(g,U,A,this)},this)},this)};function vl(h,g){cn(h);let b=[];if(typeof g=="string")_l(h,g)&&(b=b.concat(h.g.get(Ts(h,g))));else for(h=Array.from(h.g.values()),g=0;g<h.length;g++)b=b.concat(h[g]);return b}r.set=function(h,g){return cn(this),this.i=null,h=Ts(this,h),_l(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[g]),this.h+=1,this},r.get=function(h,g){return h?(h=vl(this,h),h.length>0?String(h[0]):g):g};function Da(h,g,b){vc(h,g),b.length>0&&(h.i=null,h.g.set(Ts(h,g),q(b)),h.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var b=g[A];const U=Bi(b);b=vl(this,b);for(let H=0;H<b.length;H++){let ne=U;b[H]!==""&&(ne+="="+Bi(b[H])),h.push(ne)}}return this.i=h.join("&")};function bc(h){const g=new Es;return g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),g}function Ts(h,g){return g=String(g),h.j&&(g=g.toLowerCase()),g}function Va(h,g){g&&!h.j&&(cn(h),h.i=null,h.g.forEach(function(b,A){const U=A.toLowerCase();A!=U&&(vc(this,A),Da(this,U,b))},h)),h.j=g}function $n(h,g){const b=new Yn;if(c.Image){const A=new Image;A.onload=E(Mn,b,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Mn,b,"TestLoadImage: error",!1,g,A),A.onabort=E(Mn,b,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Mn,b,"TestLoadImage: timeout",!1,g,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else g(!1)}function bl(h,g){const b=new Yn,A=new AbortController,U=setTimeout(()=>{A.abort(),Mn(b,"TestPingServer: timeout",!1,g)},1e4);fetch(h,{signal:A.signal}).then(H=>{clearTimeout(U),H.ok?Mn(b,"TestPingServer: ok",!0,g):Mn(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Mn(b,"TestPingServer: error",!1,g)})}function Mn(h,g,b,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(b)}catch{}}function Ss(){this.g=new oc}function Si(h){this.i=h.Sb||null,this.h=h.ab||!1}S(Si,lc),Si.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(h,g){At.call(this),this.H=h,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Rr,At),r=Rr.prototype,r.open=function(h,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=g,this.readyState=1,Zn(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(g.body=h),(this.H||c).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Oa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Oa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var g=h.value?h.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!h.done}))&&(this.response=this.responseText+=g)}h.done?As(this):Zn(this),this.readyState==3&&Oa(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,As(this))},r.Na=function(h){this.g&&(this.response=h,As(this))},r.ga=function(){this.g&&As(this)};function As(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Zn(h)}r.setRequestHeader=function(h,g){this.A.append(h,g)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=g.next();return h.join(`\r
`)};function Zn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function kn(h){let g="";return ze(h,function(b,A){g+=A,g+=":",g+=b,g+=`\r
`}),g}function Cr(h,g,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=kn(b),typeof h=="string"?b!=null&&Bi(b):Qe(h,g,b))}function Ze(h){At.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Ze,At);var Ai=/^https?$/i,El=["POST","PUT"];r=Ze.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,g,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);g=g?g.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cl.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(h),!0),this.B=!1}catch(H){Nr(this,H);return}if(h=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)b.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())b.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(H=>H.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(El,g,void 0)>=0)||A||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ne]of b)this.g.setRequestHeader(H,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(H){Nr(this,H)}};function Nr(h,g){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=g,h.o=5,Tl(h),Fi(h)}function Tl(h){h.A||(h.A=!0,jt(h,"complete"),jt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,jt(this,"complete"),jt(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Ze.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},r.Xa=function(){Dr(this)};function Dr(h){if(h.h&&typeof u<"u"){if(h.v&&Wn(h)==4)setTimeout(h.Ca.bind(h),0);else if(jt(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const H=h.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var A;if(A=H===0){let ne=String(h.D).match(gc)[1]||null;!ne&&c.self&&c.self.location&&(ne=c.self.location.protocol.slice(0,-1)),A=!Ai.test(ne?ne.toLowerCase():"")}b=A}if(b)jt(h,"complete"),jt(h,"success");else{h.o=6;try{var U=Wn(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",Tl(h)}}finally{Fi(h)}}}}function Fi(h,g){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,g||jt(h,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var g=this.g.responseText;return h&&g.indexOf(h)==0&&(g=g.substring(h.length)),tf(g)}};function Qt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(h){const g={};h=(h.g&&Wn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(R(h[A]))continue;var b=fc(h[A]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const H=g[U]||[];g[U]=H,H.push(b)}Ke(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(h,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||g}function xs(h){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,h),this.Za=xi("retryDelaySeedMs",1e4,h),this.Ta=xi("forwardChannelMaxRetries",2,h),this.va=xi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new hl(h&&h.concurrentRequestLimit),this.Ba=new Ss,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=xs.prototype,r.ka=8,r.I=1,r.connect=function(h,g,b,A){xt(0),this.W=h,this.H=g||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=Ic(this,null,this.W),wi(this)};function Sl(h){if(Ma(h),h.I==3){var g=h.V++,b=Rt(h.J);if(Qe(b,"SID",h.M),Qe(b,"RID",g),Qe(b,"TYPE","terminate"),Vr(h,b),g=new Xn(h,h.j,g),g.M=2,g.A=wr(Rt(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=g.A,b=!0),b||(g.g=Rc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),yi(g)}wc(h)}function ws(h){h.g&&(xl(h),h.g.cancel(),h.g=null)}function Ma(h){ws(h),h.v&&(c.clearTimeout(h.v),h.v=null),Pa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function wi(h){if(!dl(h.h)&&!h.m){h.m=!0;var g=h.Ea;Ee||w(),ae||(Ee(),ae=!0),I.add(g,h),h.D=0}}function ka(h,g){return bi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=g.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=mi(y(h.Ea,h,g),xc(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new Xn(this,this.j,h);let H=this.o;if(this.U&&(H?(H=M(H),se(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Ec(this,U,g),b=Rt(this.J),Qe(b,"RID",h),Qe(b,"CVER",22),this.G&&Qe(b,"X-HTTP-Session-Id",this.G),Vr(this,b),H&&(this.R?g="headers="+Bi(kn(H))+"&"+g:this.u&&Cr(b,this.u,H)),fl(this.h,U),this.Ra&&Qe(b,"TYPE","init"),this.S?(Qe(b,"$req",g),Qe(b,"SID","null"),U.U=!0,gi(U,b,null)):gi(U,b,g),this.I=2}}else this.I==3&&(h?Al(this,h):this.i.length==0||dl(this.h)||Al(this))};function Al(h,g){var b;g?b=g.l:b=h.V++;const A=Rt(h.J);Qe(A,"SID",h.M),Qe(A,"RID",b),Qe(A,"AID",h.K),Vr(h,A),h.u&&h.o&&Cr(A,h.u,h.o),b=new Xn(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),g&&(h.i=g.G.concat(h.i)),g=Ec(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),fl(h.h,b),gi(b,A,g)}function Vr(h,g){h.H&&ze(h.H,function(b,A){Qe(g,A,b)}),h.l&&ze({},function(b,A){Qe(g,A,b)})}function Ec(h,g,b){b=Math.min(h.i.length,b);const A=h.l?y(h.l.Ka,h.l,h):null;e:{var U=h.i;let we=-1;for(;;){const _t=["count="+b];we==-1?b>0?(we=U[0].g,_t.push("ofs="+we)):we=0:_t.push("ofs="+we);let qe=!0;for(let ct=0;ct<b;ct++){var H=U[ct].g;const Pn=U[ct].map;if(H-=we,H<0)we=Math.max(0,U[ct].g-100),qe=!1;else try{H="req"+H+"_"||"";try{var ne=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ri,ei]of ne){let ti=ei;m(ei)&&(ti=_s(ei)),_t.push(H+Ri+"="+encodeURIComponent(ti))}}catch(Ri){throw _t.push(H+"type="+encodeURIComponent("_badmap")),Ri}}catch{A&&A(Pn)}}if(qe){ne=_t.join("&");break e}}ne=void 0}return h=h.i.splice(0,b),g.G=h,ne}function Tc(h){if(!h.g&&!h.v){h.Y=1;var g=h.Da;Ee||w(),ae||(Ee(),ae=!0),I.add(g,h),h.A=0}}function Or(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=mi(y(h.Da,h),xc(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Sc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=mi(y(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),ws(this),Sc(this))};function xl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Sc(h){h.g=new Xn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var g=Rt(h.na);Qe(g,"RID","rpc"),Qe(g,"SID",h.M),Qe(g,"AID",h.K),Qe(g,"CI",h.F?"0":"1"),!h.F&&h.ia&&Qe(g,"TO",h.ia),Qe(g,"TYPE","xmlhttp"),Vr(h,g),h.u&&h.o&&Cr(g,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=wr(Rt(g)),b.u=null,b.R=!0,Ia(b,h)}r.Va=function(){this.C!=null&&(this.C=null,ws(this),Or(this),xt(19))};function Pa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Ac(h,g){var b=null;if(h.g==g){Pa(h),xl(h),h.g=null;var A=2}else if(Ei(h.h,g))b=g.G,ml(h.h,g),A=1;else return;if(h.I!=0){if(g.o)if(A==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var U=h.D;A=wa(),jt(A,new fi(A,b)),wi(h)}else Tc(h);else if(U=g.m,U==3||U==0&&g.X>0||!(A==1&&ka(h,g)||A==2&&Or(h)))switch(b&&b.length>0&&(g=h.h,g.i=g.i.concat(b)),U){case 1:Ii(h,5);break;case 4:Ii(h,10);break;case 3:Ii(h,6);break;default:Ii(h,2)}}}function xc(h,g){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*g}function Ii(h,g){if(h.j.info("Error code "+g),g==2){var b=y(h.bb,h),A=h.Ua;const U=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qt(A,"https"),wr(A),U?$n(A.toString(),b):bl(A.toString(),b)}else xt(2);h.I=0,h.l&&h.l.pa(g),wc(h),Ma(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function wc(h){if(h.I=0,h.ja=[],h.l){const g=pl(h.h);(g.length!=0||h.i.length!=0)&&(W(h.ja,g),W(h.ja,h.i),h.h.i.length=0,q(h.i),h.i.length=0),h.l.oa()}}function Ic(h,g,b){var A=b instanceof vn?Rt(b):new vn(b);if(A.g!="")g&&(A.g=g+"."+A.g),vs(A,A.u);else{var U=c.location;A=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const H=new vn(null);A&&qt(H,A),g&&(H.g=g),U&&vs(H,U),b&&(H.h=b),A=H}return b=h.G,g=h.wa,b&&g&&Qe(A,b,g),Qe(A,"VER",h.ka),Vr(h,A),A}function Rc(h,g,b){if(g&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=h.Aa&&!h.ma?new Ze(new Si({ab:b})):new Ze(h.ma),g.Fa(h.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}r=Cc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Is(){}Is.prototype.g=function(h,g){return new an(h,g)};function an(h,g){At.call(this),this.g=new xs(g),this.l=h,this.h=g&&g.messageUrlParams||null,h=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(h?h["X-WebChannel-Content-Type"]=g.messageContentType:h={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(h?h["X-WebChannel-Client-Profile"]=g.sa:h={"X-WebChannel-Client-Profile":g.sa}),this.g.U=h,(h=g&&g.Qb)&&!R(h)&&(this.g.u=h),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,h=this.h,h!==null&&g in h&&(h=this.h,g in h&&delete h[g])),this.j=new Hi(this)}S(an,At),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Sl(this.g)},an.prototype.o=function(h){var g=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=_s(h),h=b);g.i.push(new It(g.Ya++,h)),g.I==3&&wi(g)},an.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,an.Z.N.call(this)};function Nc(h){Kt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var g=h.__sm__;if(g){e:{for(const b in g){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,g=g!==null&&h in g?g[h]:void 0),this.data=g}else this.data=h}S(Nc,Kt);function Dc(){Vn.call(this),this.status=1}S(Dc,Vn);function Hi(h){this.g=h}S(Hi,Cc),Hi.prototype.ra=function(){jt(this.g,"a")},Hi.prototype.qa=function(h){jt(this.g,new Nc(h))},Hi.prototype.pa=function(h){jt(this.g,new Dc)},Hi.prototype.oa=function(){jt(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,BT=function(){return new Is},zT=function(){return wa()},UT=yt,Dp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Qh=Ar,ul.COMPLETE="complete",LT=ul,uc.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",At.prototype.listen=At.prototype.J,gu=uc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,jT=Ze}).apply(typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Wo="12.8.0";function xR(r){Wo=r}const ma=new sg("@firebase/firestore");function bo(){return ma.logLevel}function Z(r,...e){if(ma.logLevel<=ke.DEBUG){const t=e.map(yg);ma.debug(`Firestore (${Wo}): ${r}`,...t)}}function Tt(r,...e){if(ma.logLevel<=ke.ERROR){const t=e.map(yg);ma.error(`Firestore (${Wo}): ${r}`,...t)}}function Pu(r,...e){if(ma.logLevel<=ke.WARN){const t=e.map(yg);ma.warn(`Firestore (${Wo}): ${r}`,...t)}}function yg(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function ue(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,FT(r,s,t)}function FT(r,e,t){let s=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Tt(s),new Error(s)}function pe(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||FT(e,o,s)}function de(r,e){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ps{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class wR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(tn.UNAUTHENTICATED)))}shutdown(){}}class RR{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new cs,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new cs)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(pe(typeof s.accessToken=="string",31837,{l:s}),new wR(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class CR{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NR{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new CR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pe(this.o===void 0,3512);const s=u=>{u.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,Z("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(pe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new gb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function VR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class _g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=VR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ae(r,e){return r<e?-1:r>e?1:0}function Vp(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return dp(o)===dp(u)?Ae(o,u):dp(o)?1:-1}return Ae(r.length,e.length)}const OR=55296,MR=57343;function dp(r){const e=r.charCodeAt(0);return e>=OR&&e<=MR}function Vo(r,e,t){return r.length===e.length&&r.every(((s,o)=>t(s,e[o])))}function qT(r){return r+"\0"}const yb="__name__";class Oi{constructor(e,t,s){t===void 0?t=0:t>e.length&&ue(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&ue(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ae(e.length,t.length)}static compareSegments(e,t){const s=Oi.isNumericId(e),o=Oi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):Vp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}}class Ge extends Oi{construct(e,t,s){return new Ge(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Ge(t)}static emptyPath(){return new Ge([])}}const kR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Oi{construct(e,t,s){return new ft(e,t,s)}static isValidIdentifier(e){return kR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yb}static keyField(){return new ft([yb])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new oe($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(t)}static emptyPath(){return new ft([])}}class re{constructor(e){this.path=e}static fromPath(e){return new re(Ge.fromString(e))}static fromName(e){return new re(Ge.fromString(e).popFirst(5))}static empty(){return new re(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Ge(e.slice()))}}function HT(r,e,t){if(!t)throw new oe($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function PR(r,e,t,s){if(e===!0&&s===!0)throw new oe($.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function _b(r){if(!re.isDocumentKey(r))throw new oe($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vb(r){if(re.isDocumentKey(r))throw new oe($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function GT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ue(12329,{type:typeof r})}function hd(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vg(r);throw new oe($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Mt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Wu(r,e){if(!GT(r))throw new oe($.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const c=r[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new oe($.INVALID_ARGUMENT,t);return!0}const bb=-62135596800,Eb=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Eb);return new Je(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<bb)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Eb}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wu(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Mt("string",Je._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Je(0,0))}static max(){return new _e(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Oo=-1;class dd{constructor(e,t,s,o){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=o}}function Op(r){return r.fields.find((e=>e.kind===2))}function Zr(r){return r.fields.filter((e=>e.kind!==2))}dd.UNKNOWN_ID=-1;class Yh{constructor(e,t){this.fieldPath=e,this.kind=t}}class ju{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ju(0,Dn.min())}}function KT(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=_e.fromTimestamp(s===1e9?new Je(t+1,0):new Je(t,s));return new Dn(o,re.empty(),e)}function QT(r){return new Dn(r.readTime,r.key,Oo)}class Dn{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Dn(_e.min(),re.empty(),Oo)}static max(){return new Dn(_e.max(),re.empty(),Oo)}}function bg(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=re.comparator(r.documentKey,e.documentKey),t!==0?t:Ae(r.largestBatchId,e.largestBatchId))}const YT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function pr(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==YT)throw r;Z("LocalStore","Unexpectedly lost primary lease")}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):L.reject(t)}static resolve(e){return new L(((t,s)=>{t(e)}))}static reject(e){return new L(((t,s)=>{s(e)}))}static waitFor(e){return new L(((t,s)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&t()}),(p=>s(p)))})),c=!0,u===o&&t()}))}static or(e){let t=L.resolve(!1);for(const s of e)t=t.next((o=>o?L.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new L(((s,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;t(e[y]).next((E=>{c[y]=E,++m,m===u&&s(c)}),(E=>o(E)))}}))}static doWhile(e,t){return new L(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}const In="SimpleDb";class kd{static open(e,t,s,o){try{return new kd(t,e.transaction(o,s))}catch(u){throw new Su(t,u)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new cs,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Su(e,t.error)):this.S.resolve()},this.transaction.onerror=s=>{const o=Eg(s.target.error);this.S.reject(new Su(e,o))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Z(In,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new LR(t)}}class ur{static delete(e){return Z(In,"Removing database:",e),ea(KE().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!WE())return!1;if(ur.F())return!0;const e=zt(),t=ur.M(e),s=0<t&&t<10,o=JT(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||u)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}constructor(e,t,s){this.name=e,this.version=t,this.N=s,this.B=null,ur.M(zt())===12.2&&Tt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(Z(In,"Opening database:",this.name),this.db=await new Promise(((t,s)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=u=>{const c=u.target.result;t(c)},o.onblocked=()=>{s(new Su(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const c=u.target.error;c.name==="VersionError"?s(new oe($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?s(new oe($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):s(new Su(e,c))},o.onupgradeneeded=u=>{Z(In,'Database "'+this.name+'" requires upgrade from version:',u.oldVersion);const c=u.target.result;this.N.k(c,o.transaction,u.oldVersion,this.version).next((()=>{Z(In,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,s,o){const u=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const m=kd.open(this.db,e,u?"readonly":"readwrite",s),p=o(m).next((y=>(m.C(),y))).catch((y=>(m.abort(y),L.reject(y)))).toPromise();return p.catch((()=>{})),await m.D,p}catch(m){const p=m,y=p.name!=="FirebaseError"&&c<3;if(Z(In,"Transaction failed with error:",p.message,"Retrying:",y),this.close(),!y)return Promise.reject(p)}}}close(){this.db&&this.db.close(),this.db=void 0}}function JT(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class jR{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return ea(this.U.delete())}}class Su extends oe{constructor(e,t){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function gr(r){return r.name==="IndexedDbTransactionError"}class LR{constructor(e){this.store=e}put(e,t){let s;return t!==void 0?(Z(In,"PUT",this.store.name,e,t),s=this.store.put(t,e)):(Z(In,"PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),ea(s)}add(e){return Z(In,"ADD",this.store.name,e,e),ea(this.store.add(e))}get(e){return ea(this.store.get(e)).next((t=>(t===void 0&&(t=null),Z(In,"GET",this.store.name,e,t),t)))}delete(e){return Z(In,"DELETE",this.store.name,e),ea(this.store.delete(e))}count(){return Z(In,"COUNT",this.store.name),ea(this.store.count())}H(e,t){const s=this.options(e,t),o=s.index?this.store.index(s.index):this.store;if(typeof o.getAll=="function"){const u=o.getAll(s.range);return new L(((c,m)=>{u.onerror=p=>{m(p.target.error)},u.onsuccess=p=>{c(p.target.result)}}))}{const u=this.cursor(s),c=[];return this.J(u,((m,p)=>{c.push(p)})).next((()=>c))}}Z(e,t){const s=this.store.getAll(e,t===null?void 0:t);return new L(((o,u)=>{s.onerror=c=>{u(c.target.error)},s.onsuccess=c=>{o(c.target.result)}}))}X(e,t){Z(In,"DELETE ALL",this.store.name);const s=this.options(e,t);s.Y=!1;const o=this.cursor(s);return this.J(o,((u,c,m)=>m.delete()))}ee(e,t){let s;t?s=e:(s={},t=e);const o=this.cursor(s);return this.J(o,t)}te(e){const t=this.cursor({});return new L(((s,o)=>{t.onerror=u=>{const c=Eg(u.target.error);o(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next((m=>{m?c.continue():s()})):s()}}))}J(e,t){const s=[];return new L(((o,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const m=c.target.result;if(!m)return void o();const p=new jR(m),y=t(m.primaryKey,m.value,p);if(y instanceof L){const E=y.catch((S=>(p.done(),L.reject(S))));s.push(E)}p.isDone?o():p.G===null?m.continue():m.continue(p.G)}})).next((()=>L.waitFor(s)))}options(e,t){let s;return e!==void 0&&(typeof e=="string"?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.Y?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ea(r){return new L(((e,t)=>{r.onsuccess=s=>{const o=s.target.result;e(o)},r.onerror=s=>{const o=Eg(s.target.error);t(o)}}))}let Tb=!1;function Eg(r){const e=ur.M(zt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const s=new oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Tb||(Tb=!0,setTimeout((()=>{throw s}),0)),s}}return r}const Au="IndexBackfiller";class UR{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){Z(Au,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();Z(Au,`Documents written: ${t}`)}catch(t){gr(t)?Z(Au,"Ignoring IndexedDB error during index backfill: ",t):await pr(t)}await this.re(6e4)}))}}class zR{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const s=new Set;let o=t,u=!0;return L.doWhile((()=>u===!0&&o>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!s.has(c))return Z(Au,`Processing collection: ${c}`),this.oe(e,c,o).next((m=>{o-=m,s.add(c)}));u=!1})))).next((()=>t-o))}oe(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((o=>this.localStore.localDocuments.getNextDocuments(e,t,o,s).next((u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(o,u))).next((m=>(Z(Au,`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m)))).next((()=>c.size))}))))}_e(e,t){let s=e;return t.changes.forEach(((o,u)=>{const c=QT(u);bg(c,s)>0&&(s=c)})),new Dn(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class yn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yn.ce=-1;const oa=-1;function Pd(r){return r==null}function Lu(r){return r===0&&1/r==-1/0}function $T(r){return typeof r=="number"&&Number.isInteger(r)&&!Lu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const fd="";function sn(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Sb(e)),e=BR(r.get(t),e);return Sb(e)}function BR(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case fd:t+="";break;default:t+=u}}return t}function Sb(r){return r+fd+""}function ki(r){const e=r.length;if(pe(e>=2,64408,{path:r}),e===2)return pe(r.charAt(0)===fd&&r.charAt(1)==="",56145,{path:r}),Ge.emptyPath();const t=e-2,s=[];let o="";for(let u=0;u<e;){const c=r.indexOf(fd,u);switch((c<0||c>t)&&ue(50515,{path:r}),r.charAt(c+1)){case"":const m=r.substring(u,c);let p;o.length===0?p=m:(o+=m,p=o,o=""),s.push(p);break;case"":o+=r.substring(u,c),o+="\0";break;case"":o+=r.substring(u,c+1);break;default:ue(61167,{path:r})}u=c+2}return new Ge(s)}const Wr="remoteDocuments",ec="owner",mo="owner",Uu="mutationQueues",FR="userId",ri="mutations",Ab="batchId",ra="userMutationsIndex",xb=["userId","batchId"];function Xh(r,e){return[r,sn(e)]}function ZT(r,e,t){return[r,sn(e),t]}const qR={},Mo="documentMutations",md="remoteDocumentsV14",HR=["prefixPath","collectionGroup","readTime","documentId"],Jh="documentKeyIndex",GR=["prefixPath","collectionGroup","documentId"],WT="collectionGroupIndex",KR=["collectionGroup","readTime","prefixPath","documentId"],zu="remoteDocumentGlobal",Mp="remoteDocumentGlobalKey",ko="targets",eS="queryTargetsIndex",QR=["canonicalId","targetId"],Po="targetDocuments",YR=["targetId","path"],Tg="documentTargetsIndex",XR=["path","targetId"],pd="targetGlobalKey",la="targetGlobal",Bu="collectionParents",JR=["collectionId","parent"],jo="clientMetadata",$R="clientId",jd="bundles",ZR="bundleId",Ld="namedQueries",WR="name",Sg="indexConfiguration",eC="indexId",kp="collectionGroupIndex",tC="collectionGroup",xu="indexState",nC=["indexId","uid"],tS="sequenceNumberIndex",iC=["uid","sequenceNumber"],wu="indexEntries",sC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nS="documentKeyIndex",rC=["indexId","uid","orderedDocumentKey"],Ud="documentOverlays",aC=["userId","collectionPath","documentId"],Pp="collectionPathOverlayIndex",oC=["userId","collectionPath","largestBatchId"],iS="collectionGroupOverlayIndex",lC=["userId","collectionGroup","largestBatchId"],Ag="globals",uC="name",sS=[Uu,ri,Mo,Wr,ko,ec,la,Po,jo,zu,Bu,jd,Ld],cC=[...sS,Ud],rS=[Uu,ri,Mo,md,ko,ec,la,Po,jo,zu,Bu,jd,Ld,Ud],aS=rS,xg=[...aS,Sg,xu,wu],hC=xg,oS=[...xg,Ag],dC=oS;class jp extends XT{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Bt(r,e){const t=de(r);return ur.O(t.le,e)}function wb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ea(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function lS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class st{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jh(this.root,e,this.comparator,!0)}}class jh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Zt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $e{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ib(this.data.getIterator())}getIteratorFrom(e){return new Ib(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $e(this.comparator);return t.data=e,t}}class Ib{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function po(r){return r.hasNext()?r.getNext():void 0}class Kn{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Kn([])}unionWith(e){let t=new $e(ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class uS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class St{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new uS("Invalid base64 string: "+u):u}})(e);return new St(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new St(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const fC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(r){if(pe(!!r,39018),typeof r=="string"){let e=0;const t=fC.exec(r);if(pe(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ms(r){return typeof r=="string"?St.fromBase64String(r):St.fromUint8Array(r)}const cS="server_timestamp",hS="__type__",dS="__previous_value__",fS="__local_write_time__";function wg(r){return(r?.mapValue?.fields||{})[hS]?.stringValue===cS}function zd(r){const e=r.mapValue.fields[dS];return wg(e)?zd(e):e}function Fu(r){const e=fs(r.mapValue.fields[fS].timestampValue);return new Je(e.seconds,e.nanos)}class mC{constructor(e,t,s,o,u,c,m,p,y,E,S){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const gd="(default)";class pa{constructor(e,t){this.projectId=e,this.database=t||gd}static empty(){return new pa("","")}get isDefaultDatabase(){return this.database===gd}isEqual(e){return e instanceof pa&&e.projectId===this.projectId&&e.database===this.database}}function pC(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new oe($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pa(r.options.projectId,e)}const Ig="__type__",mS="__max__",sr={mapValue:{fields:{__type__:{stringValue:mS}}}},Rg="__vector__",Lo="value",$h={nullValue:"NULL_VALUE"};function hr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wg(r)?4:pS(r)?9007199254740991:Bd(r)?10:11:ue(28295,{value:r})}function zi(r,e){if(r===e)return!0;const t=hr(r);if(t!==hr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Fu(r).isEqual(Fu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=fs(o.timestampValue),m=fs(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=dt(o.doubleValue),m=dt(u.doubleValue);return c===m?Lu(c)===Lu(m):isNaN(c)&&isNaN(m)}return!1})(r,e);case 9:return Vo(r.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(wb(c)!==wb(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!zi(c[p],m[p])))return!1;return!0})(r,e);default:return ue(52216,{left:r})}}function qu(r,e){return(r.values||[]).find((t=>zi(t,e)))!==void 0}function dr(r,e){if(r===e)return 0;const t=hr(r),s=hr(e);if(t!==s)return Ae(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ae(r.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=dt(u.integerValue||u.doubleValue),p=dt(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return Rb(r.timestampValue,e.timestampValue);case 4:return Rb(Fu(r),Fu(e));case 5:return Vp(r.stringValue,e.stringValue);case 6:return(function(u,c){const m=ms(u),p=ms(c);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ae(m[y],p[y]);if(E!==0)return E}return Ae(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Ae(dt(u.latitude),dt(c.latitude));return m!==0?m:Ae(dt(u.longitude),dt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Cb(r.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},y=m[Lo]?.arrayValue,E=p[Lo]?.arrayValue,S=Ae(y?.values?.length||0,E?.values?.length||0);return S!==0?S:Cb(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,c){if(u===sr.mapValue&&c===sr.mapValue)return 0;if(u===sr.mapValue)return 1;if(c===sr.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=c.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const x=Vp(p[S],E[S]);if(x!==0)return x;const q=dr(m[p[S]],y[E[S]]);if(q!==0)return q}return Ae(p.length,E.length)})(r.mapValue,e.mapValue);default:throw ue(23264,{he:t})}}function Rb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ae(r,e);const t=fs(r),s=fs(e),o=Ae(t.seconds,s.seconds);return o!==0?o:Ae(t.nanos,s.nanos)}function Cb(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=dr(t[o],s[o]);if(u)return u}return Ae(t.length,s.length)}function Uo(r){return Lp(r)}function Lp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=fs(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return ms(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return re.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Lp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Lp(t.fields[c])}`;return o+"}"})(r.mapValue):ue(61005,{value:r})}function Zh(r){switch(hr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zd(r);return e?16+Zh(e):16;case 5:return 2*r.stringValue.length;case 6:return ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Zh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ea(s.fields,((u,c)=>{o+=u.length+Zh(c)})),o})(r.mapValue);default:throw ue(13486,{value:r})}}function Cg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Up(r){return!!r&&"integerValue"in r}function Hu(r){return!!r&&"arrayValue"in r}function Nb(r){return!!r&&"nullValue"in r}function Db(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wh(r){return!!r&&"mapValue"in r}function Bd(r){return(r?.mapValue?.fields||{})[Ig]?.stringValue===Rg}function Iu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ea(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Iu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Iu(r.arrayValue.values[t]);return e}return{...r}}function pS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mS}const gS={mapValue:{fields:{[Ig]:{stringValue:Rg},[Lo]:{arrayValue:{}}}}};function gC(r){return"nullValue"in r?$h:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Cg(pa.empty(),re.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?Bd(r)?gS:{mapValue:{}}:ue(35942,{value:r})}function yC(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Cg(pa.empty(),re.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?gS:"mapValue"in r?Bd(r)?{mapValue:{}}:sr:ue(61959,{value:r})}function Vb(r,e){const t=dr(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function Ob(r,e){const t=dr(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Wh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Iu(t)}setAll(e){let t=ft.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}c?s[m.lastSegment()]=Iu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Wh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ea(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new gn(Iu(this.value))}}function yS(r){const e=[];return Ea(r.fields,((t,s)=>{const o=new ft([t]);if(Wh(s)){const u=yS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Kn(e)}class gt{constructor(e,t,s,o,u,c,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new gt(e,0,_e.min(),_e.min(),_e.min(),gn.empty(),0)}static newFoundDocument(e,t,s,o){return new gt(e,1,t,_e.min(),s,o,0)}static newNoDocument(e,t){return new gt(e,2,t,_e.min(),_e.min(),gn.empty(),0)}static newUnknownDocument(e,t){return new gt(e,3,t,_e.min(),_e.min(),gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zo{constructor(e,t){this.position=e,this.inclusive=t}}function Mb(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],c=r.position[o];if(u.field.isKeyField()?s=re.comparator(re.fromName(c.referenceValue),t.key):s=dr(c,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function kb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!zi(r.position[t],e.position[t]))return!1;return!0}class yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function _C(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class _S{}class je extends _S{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new vC(e,t,s):t==="array-contains"?new TC(e,s):t==="in"?new AS(e,s):t==="not-in"?new SC(e,s):t==="array-contains-any"?new AC(e,s):new je(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new bC(e,s):new EC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(dr(t,this.value)):t!==null&&hr(this.value)===hr(t)&&this.matchesComparison(dr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nt extends _S{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new nt(e,t)}matches(e){return Bo(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bo(r){return r.op==="and"}function zp(r){return r.op==="or"}function Ng(r){return vS(r)&&Bo(r)}function vS(r){for(const e of r.filters)if(e instanceof nt)return!1;return!0}function Bp(r){if(r instanceof je)return r.field.canonicalString()+r.op.toString()+Uo(r.value);if(Ng(r))return r.filters.map((e=>Bp(e))).join(",");{const e=r.filters.map((t=>Bp(t))).join(",");return`${r.op}(${e})`}}function bS(r,e){return r instanceof je?(function(s,o){return o instanceof je&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)})(r,e):r instanceof nt?(function(s,o){return o instanceof nt&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&bS(c,o.filters[m])),!0):!1})(r,e):void ue(19439)}function ES(r,e){const t=r.filters.concat(e);return nt.create(t,r.op)}function TS(r){return r instanceof je?(function(t){return`${t.field.canonicalString()} ${t.op} ${Uo(t.value)}`})(r):r instanceof nt?(function(t){return t.op.toString()+" {"+t.getFilters().map(TS).join(" ,")+"}"})(r):"Filter"}class vC extends je{constructor(e,t,s){super(e,t,s),this.key=re.fromName(s.referenceValue)}matches(e){const t=re.comparator(e.key,this.key);return this.matchesComparison(t)}}class bC extends je{constructor(e,t){super(e,"in",t),this.keys=SS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class EC extends je{constructor(e,t){super(e,"not-in",t),this.keys=SS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function SS(r,e){return(e.arrayValue?.values||[]).map((t=>re.fromName(t.referenceValue)))}class TC extends je{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hu(t)&&qu(t.arrayValue,this.value)}}class AS extends je{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&qu(this.value.arrayValue,t)}}class SC extends je{constructor(e,t){super(e,"not-in",t)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!qu(this.value.arrayValue,t)}}class AC extends je{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hu(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>qu(this.value.arrayValue,s)))}}class xC{constructor(e,t=null,s=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function Fp(r,e=null,t=[],s=[],o=null,u=null,c=null){return new xC(r,e,t,s,o,u,c)}function ga(r){const e=de(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Bp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Pd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Uo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Uo(s))).join(",")),e.Te=t}return e.Te}function tc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!_C(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!bS(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!kb(r.startAt,e.startAt)&&kb(r.endAt,e.endAt)}function _d(r){return re.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function vd(r,e){return r.filters.filter((t=>t instanceof je&&t.field.isEqual(e)))}function Pb(r,e,t){let s=$h,o=!0;for(const u of vd(r,e)){let c=$h,m=!0;switch(u.op){case"<":case"<=":c=gC(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,m=!1;break;case"!=":case"not-in":c=$h}Vb({value:s,inclusive:o},{value:c,inclusive:m})<0&&(s=c,o=m)}if(t!==null){for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const c=t.position[u];Vb({value:s,inclusive:o},{value:c,inclusive:t.inclusive})<0&&(s=c,o=t.inclusive);break}}return{value:s,inclusive:o}}function jb(r,e,t){let s=sr,o=!0;for(const u of vd(r,e)){let c=sr,m=!0;switch(u.op){case">=":case">":c=yC(u.value),m=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,m=!1;break;case"!=":case"not-in":c=sr}Ob({value:s,inclusive:o},{value:c,inclusive:m})>0&&(s=c,o=m)}if(t!==null){for(let u=0;u<r.orderBy.length;++u)if(r.orderBy[u].field.isEqual(e)){const c=t.position[u];Ob({value:s,inclusive:o},{value:c,inclusive:t.inclusive})>0&&(s=c,o=t.inclusive);break}}return{value:s,inclusive:o}}class Fd{constructor(e,t=null,s=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function xS(r,e,t,s,o,u,c,m){return new Fd(r,e,t,s,o,u,c,m)}function qd(r){return new Fd(r)}function Lb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wC(r){return re.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function IC(r){return r.collectionGroup!==null}function Ru(r){const e=de(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new $e(ft.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new yd(u,s))})),t.has(ft.keyField().canonicalString())||e.Ie.push(new yd(ft.keyField(),s))}return e.Ie}function Nn(r){const e=de(r);return e.Ee||(e.Ee=RC(e,Ru(r))),e.Ee}function RC(r,e){if(r.limitType==="F")return Fp(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new yd(o.field,u)}));const t=r.endAt?new zo(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new zo(r.startAt.position,r.startAt.inclusive):null;return Fp(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function qp(r,e,t){return new Fd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Hd(r,e){return tc(Nn(r),Nn(e))&&r.limitType===e.limitType}function wS(r){return`${ga(Nn(r))}|lt:${r.limitType}`}function Eo(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>TS(o))).join(", ")}]`),Pd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Uo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Uo(o))).join(",")),`Target(${s})`})(Nn(r))}; limitType=${r.limitType})`}function nc(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):re.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Ru(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const y=Mb(c,m,p);return c.inclusive?y<=0:y<0})(s.startAt,Ru(s),o)||s.endAt&&!(function(c,m,p){const y=Mb(c,m,p);return c.inclusive?y>=0:y>0})(s.endAt,Ru(s),o))})(r,e)}function IS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function RS(r){return(e,t)=>{let s=!1;for(const o of Ru(r)){const u=CC(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function CC(r,e,t){const s=r.field.isKeyField()?re.comparator(e.key,t.key):(function(u,c,m){const p=c.data.field(u),y=m.data.field(u);return p!==null&&y!==null?dr(p,y):ue(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ue(19790,{direction:r.dir})}}class gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return lS(this.inner)}size(){return this.innerSize}}const NC=new st(re.comparator);function Rn(){return NC}const CS=new st(re.comparator);function yu(...r){let e=CS;for(const t of r)e=e.insert(t.key,t);return e}function NS(r){let e=CS;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Pi(){return Cu()}function DS(){return Cu()}function Cu(){return new gs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const DC=new st(re.comparator),VC=new $e(re.comparator);function Ne(...r){let e=VC;for(const t of r)e=e.add(t);return e}const OC=new $e(Ae);function Dg(){return OC}function Vg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lu(e)?"-0":e}}function VS(r){return{integerValue:""+r}}function MC(r,e){return $T(e)?VS(e):Vg(r,e)}class Gd{constructor(){this._=void 0}}function kC(r,e,t){return r instanceof Fo?(function(o,u){const c={fields:{[hS]:{stringValue:cS},[fS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&wg(u)&&(u=zd(u)),u&&(c.fields[dS]=u),{mapValue:c}})(t,e):r instanceof qo?MS(r,e):r instanceof Ho?kS(r,e):(function(o,u){const c=OS(o,u),m=Ub(c)+Ub(o.Ae);return Up(c)&&Up(o.Ae)?VS(m):Vg(o.serializer,m)})(r,e)}function PC(r,e,t){return r instanceof qo?MS(r,e):r instanceof Ho?kS(r,e):t}function OS(r,e){return r instanceof Gu?(function(s){return Up(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Fo extends Gd{}class qo extends Gd{constructor(e){super(),this.elements=e}}function MS(r,e){const t=PS(e);for(const s of r.elements)t.some((o=>zi(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Ho extends Gd{constructor(e){super(),this.elements=e}}function kS(r,e){let t=PS(e);for(const s of r.elements)t=t.filter((o=>!zi(o,s)));return{arrayValue:{values:t}}}class Gu extends Gd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ub(r){return dt(r.integerValue||r.doubleValue)}function PS(r){return Hu(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class jS{constructor(e,t){this.field=e,this.transform=t}}function jC(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof qo&&o instanceof qo||s instanceof Ho&&o instanceof Ho?Vo(s.elements,o.elements,zi):s instanceof Gu&&o instanceof Gu?zi(s.Ae,o.Ae):s instanceof Fo&&o instanceof Fo})(r.transform,e.transform)}class LC{constructor(e,t){this.version=e,this.transformResults=t}}class Cn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ed(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kd{}function LS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Og(r.key,Cn.none()):new el(r.key,r.data,Cn.none());{const t=r.data,s=gn.empty();let o=new $e(ft.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new yr(r.key,s,new Kn(o.toArray()),Cn.none())}}function UC(r,e,t){r instanceof el?(function(o,u,c){const m=o.value.clone(),p=Bb(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,e,t):r instanceof yr?(function(o,u,c){if(!ed(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=Bb(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(US(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Nu(r,e,t,s){return r instanceof el?(function(u,c,m,p){if(!ed(u.precondition,c))return m;const y=u.value.clone(),E=Fb(u.fieldTransforms,p,c);return y.setAll(E),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(r,e,t,s):r instanceof yr?(function(u,c,m,p){if(!ed(u.precondition,c))return m;const y=Fb(u.fieldTransforms,p,c),E=c.data;return E.setAll(US(u)),E.setAll(y),c.convertToFoundDocument(c.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,t,s):(function(u,c,m){return ed(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(r,e,t)}function zC(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=OS(s.transform,o||null);u!=null&&(t===null&&(t=gn.empty()),t.set(s.field,u))}return t||null}function zb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Vo(s,o,((u,c)=>jC(u,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class el extends Kd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yr extends Kd{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function US(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function Bb(r,e,t){const s=new Map;pe(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let o=0;o<t.length;o++){const u=r[o],c=u.transform,m=e.data.field(u.field);s.set(u.field,PC(c,m,t[o]))}return s}function Fb(r,e,t){const s=new Map;for(const o of r){const u=o.transform,c=t.data.field(o.field);s.set(o.field,kC(u,c,e))}return s}class Og extends Kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zS extends Kd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Mg{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&UC(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Nu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Nu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=DS();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=t.has(o.key)?null:m;const p=LS(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(_e.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ne())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,((t,s)=>zb(t,s)))&&Vo(this.baseMutations,e.baseMutations,((t,s)=>zb(t,s)))}}class kg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){pe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return DC})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new kg(e,t,s,o)}}class Pg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BC{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ot,Ue;function FC(r){switch(r){case $.OK:return ue(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return ue(15467,{code:r})}}function BS(r){if(r===void 0)return Tt("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ot.OK:return $.OK;case Ot.CANCELLED:return $.CANCELLED;case Ot.UNKNOWN:return $.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return $.INTERNAL;case Ot.UNAVAILABLE:return $.UNAVAILABLE;case Ot.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ot.NOT_FOUND:return $.NOT_FOUND;case Ot.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ot.ABORTED:return $.ABORTED;case Ot.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ot.DATA_LOSS:return $.DATA_LOSS;default:return ue(39323,{code:r})}}(Ue=Ot||(Ot={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function qC(){return new TextEncoder}const HC=new lr([4294967295,4294967295],0);function qb(r){const e=qC().encode(r),t=new PT;return t.update(e),new Uint8Array(t.digest())}function Hb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new lr([t,s],0),new lr([o,u],0)]}class jg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new _u(`Invalid padding: ${t}`);if(s<0)throw new _u(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new _u(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new _u(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=lr.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(lr.fromNumber(s)));return o.compare(HC)===1&&(o=new lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=qb(e),[s,o]=Hb(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new jg(u,o,t);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const t=qb(e),[s,o]=Hb(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.be(c)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class _u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ic{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,sc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ic(_e.min(),o,new st(Ae),Rn(),Ne())}}class sc{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new sc(s,t,Ne(),Ne(),Ne())}}class td{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=o}}class FS{constructor(e,t){this.targetId=e,this.Ce=t}}class qS{constructor(e,t,s=St.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Gb{constructor(){this.ve=0,this.Fe=Kb(),this.Me=St.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),t=Ne(),s=Ne();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:ue(38017,{changeType:u})}})),new sc(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=Kb()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,pe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class GC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rn(),this.He=Lh(),this.Je=Lh(),this.Ze=new st(Ae)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(_d(u))if(s===0){const c=new re(u.path);this.et(t,c,gt.newNoDocument(c,_e.min()))}else pe(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let c,m;try{c=ms(s).toUint8Array()}catch(p){if(p instanceof uS)return Pu("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new jg(c,o,u)}catch(p){return Pu(p instanceof _u?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&_d(m.target)){const p=new re(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,gt.newNoDocument(p,e))}u.Be&&(t.set(c,u.ke()),u.Ke())}}));let s=Ne();this.Je.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new ic(e,t,this.Ze,this.je,s);return this.je=Rn(),this.He=Lh(),this.Je=Lh(),this.Ze=new st(Ae),o}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Gb,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new $e(Ae),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new $e(Ae),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Z("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Gb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Lh(){return new st(re.comparator)}function Kb(){return new st(re.comparator)}const KC={asc:"ASCENDING",desc:"DESCENDING"},QC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YC={and:"AND",or:"OR"};class XC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hp(r,e){return r.useProto3Json||Pd(e)?e:{value:e}}function Go(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function JC(r,e){return Go(r,e.toTimestamp())}function ln(r){return pe(!!r,49232),_e.fromTimestamp((function(t){const s=fs(t);return new Je(s.seconds,s.nanos)})(r))}function Lg(r,e){return Gp(r,e).canonicalString()}function Gp(r,e){const t=(function(o){return new Ge(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function GS(r){const e=Ge.fromString(r);return pe(e1(e),10190,{key:e.toString()}),e}function bd(r,e){return Lg(r.databaseId,e.path)}function ua(r,e){const t=GS(e);if(t.get(1)!==r.databaseId.projectId)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new oe($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new re(YS(t))}function KS(r,e){return Lg(r.databaseId,e)}function QS(r){const e=GS(r);return e.length===4?Ge.emptyPath():YS(e)}function Kp(r){return new Ge(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function YS(r){return pe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Qb(r,e,t){return{name:bd(r,e),fields:t.value.mapValue.fields}}function $C(r,e,t){const s=ua(r,e.name),o=ln(e.updateTime),u=e.createTime?ln(e.createTime):_e.min(),c=new gn({mapValue:{fields:e.fields}}),m=gt.newFoundDocument(s,o,u,c);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function ZC(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ue(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(pe(E===void 0||typeof E=="string",58123),St.fromBase64String(E||"")):(pe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),St.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(y){const E=y.code===void 0?$.UNKNOWN:BS(y.code);return new oe(E,y.message||"")})(c);t=new qS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ua(r,s.document.name),u=ln(s.document.updateTime),c=s.document.createTime?ln(s.document.createTime):_e.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=gt.newFoundDocument(o,u,c,m),y=s.targetIds||[],E=s.removedTargetIds||[];t=new td(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ua(r,s.document),u=s.readTime?ln(s.readTime):_e.min(),c=gt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new td([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ua(r,s.document),u=s.removedTargetIds||[];t=new td([],u,o,null)}else{if(!("filter"in e))return ue(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new BC(o,u),m=s.targetId;t=new FS(m,c)}}return t}function Ed(r,e){let t;if(e instanceof el)t={update:Qb(r,e.key,e.value)};else if(e instanceof Og)t={delete:bd(r,e.key)};else if(e instanceof yr)t={update:Qb(r,e.key,e.data),updateMask:sN(e.fieldMask)};else{if(!(e instanceof zS))return ue(16599,{dt:e.type});t={verify:bd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof Fo)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof qo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ho)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gu)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw ue(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:JC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ue(27497)})(r,e.precondition)),t}function Qp(r,e){const t=e.currentDocument?(function(u){return u.updateTime!==void 0?Cn.updateTime(ln(u.updateTime)):u.exists!==void 0?Cn.exists(u.exists):Cn.none()})(e.currentDocument):Cn.none(),s=e.updateTransforms?e.updateTransforms.map((o=>(function(c,m){let p=null;if("setToServerValue"in m)pe(m.setToServerValue==="REQUEST_TIME",16630,{proto:m}),p=new Fo;else if("appendMissingElements"in m){const E=m.appendMissingElements.values||[];p=new qo(E)}else if("removeAllFromArray"in m){const E=m.removeAllFromArray.values||[];p=new Ho(E)}else"increment"in m?p=new Gu(c,m.increment):ue(16584,{proto:m});const y=ft.fromServerFormat(m.fieldPath);return new jS(y,p)})(r,o))):[];if(e.update){e.update.name;const o=ua(r,e.update.name),u=new gn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(p){const y=p.fieldPaths||[];return new Kn(y.map((E=>ft.fromServerFormat(E))))})(e.updateMask);return new yr(o,u,c,t,s)}return new el(o,u,t,s)}if(e.delete){const o=ua(r,e.delete);return new Og(o,t)}if(e.verify){const o=ua(r,e.verify);return new zS(o,t)}return ue(1463,{proto:e})}function WC(r,e){return r&&r.length>0?(pe(e!==void 0,14353),r.map((t=>(function(o,u){let c=o.updateTime?ln(o.updateTime):ln(u);return c.isEqual(_e.min())&&(c=ln(u)),new LC(c,o.transformResults||[])})(t,e)))):[]}function XS(r,e){return{documents:[KS(r,e.path)]}}function JS(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=KS(r,o);const u=(function(y){if(y.length!==0)return WS(nt.create(y,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(y){if(y.length!==0)return y.map((E=>(function(x){return{field:To(x.field),direction:tN(x.dir)}})(E)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=Hp(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function $S(r){let e=QS(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){pe(s===1,65062);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=(function(S){const x=ZS(S);return x instanceof nt&&Ng(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(S){return S.map((x=>(function(W){return new yd(So(W.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(t.orderBy));let m=null;t.limit&&(m=(function(S){let x;return x=typeof S=="object"?S.value:S,Pd(x)?null:x})(t.limit));let p=null;t.startAt&&(p=(function(S){const x=!!S.before,q=S.values||[];return new zo(q,x)})(t.startAt));let y=null;return t.endAt&&(y=(function(S){const x=!S.before,q=S.values||[];return new zo(q,x)})(t.endAt)),xS(e,o,c,u,m,"F",p,y)}function eN(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ZS(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=So(t.unaryFilter.field);return je.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=So(t.unaryFilter.field);return je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=So(t.unaryFilter.field);return je.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(t.unaryFilter.field);return je.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}})(r):r.fieldFilter!==void 0?(function(t){return je.create(So(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return nt.create(t.compositeFilter.filters.map((s=>ZS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ue(1026)}})(t.compositeFilter.op))})(r):ue(30097,{filter:r})}function tN(r){return KC[r]}function nN(r){return QC[r]}function iN(r){return YC[r]}function To(r){return{fieldPath:r.canonicalString()}}function So(r){return ft.fromServerFormat(r.fieldPath)}function WS(r){return r instanceof je?(function(t){if(t.op==="=="){if(Db(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NAN"}};if(Nb(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Db(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NAN"}};if(Nb(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(t.field),op:nN(t.op),value:t.value}}})(r):r instanceof nt?(function(t){const s=t.getFilters().map((o=>WS(o)));return s.length===1?s[0]:{compositeFilter:{op:iN(t.op),filters:s}}})(r):ue(54877,{filter:r})}function sN(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function e1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function t1(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class us{constructor(e,t,s,o,u=_e.min(),c=_e.min(),m=St.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class n1{constructor(e){this.yt=e}}function rN(r,e){let t;if(e.document)t=$C(r.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=re.fromSegments(e.noDocument.path),o=_a(e.noDocument.readTime);t=gt.newNoDocument(s,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ue(56709);{const s=re.fromSegments(e.unknownDocument.path),o=_a(e.unknownDocument.version);t=gt.newUnknownDocument(s,o)}}return e.readTime&&t.setReadTime((function(o){const u=new Je(o[0],o[1]);return _e.fromTimestamp(u)})(e.readTime)),t}function Yb(r,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Td(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document=(function(u,c){return{name:bd(u,c.key),fields:c.data.value.mapValue.fields,updateTime:Go(u,c.version.toTimestamp()),createTime:Go(u,c.createTime.toTimestamp())}})(r.yt,e);else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:ya(e.version)};else{if(!e.isUnknownDocument())return ue(57904,{document:e});s.unknownDocument={path:t.path.toArray(),version:ya(e.version)}}return s}function Td(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function ya(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _a(r){const e=new Je(r.seconds,r.nanoseconds);return _e.fromTimestamp(e)}function ta(r,e){const t=(e.baseMutations||[]).map((u=>Qp(r.yt,u)));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];if(u+1<e.mutations.length&&e.mutations[u+1].transform!==void 0){const m=e.mutations[u+1];c.updateTransforms=m.transform.fieldTransforms,e.mutations.splice(u+1,1),++u}}const s=e.mutations.map((u=>Qp(r.yt,u))),o=Je.fromMillis(e.localWriteTimeMs);return new Mg(e.batchId,o,t,s)}function vu(r){const e=_a(r.readTime),t=r.lastLimboFreeSnapshotVersion!==void 0?_a(r.lastLimboFreeSnapshotVersion):_e.min();let s;return s=(function(u){return u.documents!==void 0})(r.query)?(function(u){const c=u.documents.length;return pe(c===1,1966,{count:c}),Nn(qd(QS(u.documents[0])))})(r.query):(function(u){return Nn($S(u))})(r.query),new us(s,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,St.fromBase64String(r.resumeToken))}function i1(r,e){const t=ya(e.snapshotVersion),s=ya(e.lastLimboFreeSnapshotVersion);let o;o=_d(e.target)?XS(r.yt,e.target):JS(r.yt,e.target).ft;const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ga(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:o}}function s1(r){const e=$S({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qp(e,e.limit,"L"):e}function fp(r,e){return new Pg(e.largestBatchId,Qp(r.yt,e.overlayMutation))}function Xb(r,e){const t=e.path.lastSegment();return[r,sn(e.path.popLast()),t]}function Jb(r,e,t,s){return{indexId:r,uid:e,sequenceNumber:t,readTime:ya(s.readTime),documentKey:sn(s.documentKey.path),largestBatchId:s.largestBatchId}}class aN{getBundleMetadata(e,t){return $b(e).get(t).next((s=>{if(s)return(function(u){return{id:u.bundleId,createTime:_a(u.createTime),version:u.version}})(s)}))}saveBundleMetadata(e,t){return $b(e).put((function(o){return{bundleId:o.id,createTime:ya(ln(o.createTime)),version:o.version}})(t))}getNamedQuery(e,t){return Zb(e).get(t).next((s=>{if(s)return(function(u){return{name:u.name,query:s1(u.bundledQuery),readTime:_a(u.readTime)}})(s)}))}saveNamedQuery(e,t){return Zb(e).put((function(o){return{name:o.name,readTime:ya(ln(o.readTime)),bundledQuery:o.bundledQuery}})(t))}}function $b(r){return Bt(r,jd)}function Zb(r){return Bt(r,Ld)}class Qd{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const s=t.uid||"";return new Qd(e,s)}getOverlay(e,t){return cu(e).get(Xb(this.userId,t)).next((s=>s?fp(this.serializer,s):null))}getOverlays(e,t){const s=Pi();return L.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){const o=[];return s.forEach(((u,c)=>{const m=new Pg(t,c);o.push(this.bt(e,m))})),L.waitFor(o)}removeOverlaysForBatchId(e,t,s){const o=new Set;t.forEach((c=>o.add(sn(c.getCollectionPath()))));const u=[];return o.forEach((c=>{const m=IDBKeyRange.bound([this.userId,c,s],[this.userId,c,s+1],!1,!0);u.push(cu(e).X(Pp,m))})),L.waitFor(u)}getOverlaysForCollection(e,t,s){const o=Pi(),u=sn(t),c=IDBKeyRange.bound([this.userId,u,s],[this.userId,u,Number.POSITIVE_INFINITY],!0);return cu(e).H(Pp,c).next((m=>{for(const p of m){const y=fp(this.serializer,p);o.set(y.getKey(),y)}return o}))}getOverlaysForCollectionGroup(e,t,s,o){const u=Pi();let c;const m=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return cu(e).ee({index:iS,range:m},((p,y,E)=>{const S=fp(this.serializer,y);u.size()<o||S.largestBatchId===c?(u.set(S.getKey(),S),c=S.largestBatchId):E.done()})).next((()=>u))}bt(e,t){return cu(e).put((function(o,u,c){const[m,p,y]=Xb(u,c.mutation.key);return{userId:u,collectionPath:p,documentId:y,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Ed(o.yt,c.mutation)}})(this.serializer,this.userId,t))}}function cu(r){return Bt(r,Ud)}class oN{St(e){return Bt(e,Ag)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const s=t?.value;return s?St.fromUint8Array(s):St.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class na{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(dt(e.integerValue));else if("doubleValue"in e){const s=dt(e.doubleValue);isNaN(s)?this.Ft(t,13):(this.Ft(t,15),Lu(s)?t.Mt(0):t.Mt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Ft(t,20),typeof s=="string"&&(s=fs(s)),t.xt(`${s.seconds||""}`),t.Mt(s.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ms(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.Ft(t,45),t.Mt(s.latitude||0),t.Mt(s.longitude||0)}else"mapValue"in e?pS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Bd(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):ue(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const s=e.fields||{};this.Ft(t,55);for(const o of Object.keys(s))this.Ot(o,t),this.Ct(s[o],t)}kt(e,t){const s=e.fields||{};this.Ft(t,53);const o=Lo,u=s[o].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(dt(u)),this.Ot(o,t),this.Ct(s[o],t)}qt(e,t){const s=e.values||[];this.Ft(t,50);for(const o of s)this.Ct(o,t)}Lt(e,t){this.Ft(t,37),re.fromName(e).path.forEach((s=>{this.Ft(t,60),this.$t(s,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}na.Wt=new na;const go=255;function lN(r){if(r===0)return 8;let e=0;return r>>4||(e+=4,r<<=4),r>>6||(e+=2,r<<=2),r>>7||(e+=1),e}function Wb(r){const e=64-(function(s){let o=0;for(let u=0;u<8;++u){const c=lN(255&s[u]);if(o+=c,c!==8)break}return o})(r);return Math.ceil(e/8)}class uN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Gt(s.value),s=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ht(s.value),s=t.next();this.Jt()}Zt(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Gt(s);else if(s<2048)this.Gt(960|s>>>6),this.Gt(128|63&s);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s);else{const o=t.codePointAt(0);this.Gt(240|o>>>18),this.Gt(128|63&o>>>12),this.Gt(128|63&o>>>6),this.Gt(128|63&o)}}this.zt()}Xt(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ht(s);else if(s<2048)this.Ht(960|s>>>6),this.Ht(128|63&s);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|s>>>12),this.Ht(128|63&s>>>6),this.Ht(128|63&s);else{const o=t.codePointAt(0);this.Ht(240|o>>>18),this.Ht(128|63&o>>>12),this.Ht(128|63&o>>>6),this.Ht(128|63&o)}}this.Jt()}Yt(e){const t=this.en(e),s=Wb(t);this.tn(1+s),this.buffer[this.position++]=255&s;for(let o=t.length-s;o<t.length;++o)this.buffer[this.position++]=255&t[o]}nn(e){const t=this.en(e),s=Wb(t);this.tn(1+s),this.buffer[this.position++]=~(255&s);for(let o=t.length-s;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}rn(){this.sn(go),this.sn(255)}_n(){this.an(go),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(u){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,u,!1),new Uint8Array(c.buffer)})(e),s=!!(128&t[0]);t[0]^=s?255:128;for(let o=1;o<t.length;++o)t[o]^=s?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===go?(this.sn(go),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===go?(this.an(go),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const o=new Uint8Array(s);o.set(this.buffer),this.buffer=o}}class cN{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class hN{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class hu{constructor(){this.cn=new uN,this.ascending=new cN(this.cn),this.descending=new hN(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class ia{constructor(e,t,s,o){this.hn=e,this.Pn=t,this.Tn=s,this.In=o}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,s=new Uint8Array(t);return s.set(this.In,0),t!==e?s.set([0],this.In.length):++s[s.length-1],new ia(this.hn,this.Pn,this.Tn,s)}Rn(e,t,s){return{indexId:this.hn,uid:e,arrayValue:nd(this.Tn),directionalValue:nd(this.In),orderedDocumentKey:nd(t),documentKey:s.path.toArray()}}An(e,t,s){const o=this.Rn(e,t,s);return[o.indexId,o.uid,o.arrayValue,o.directionalValue,o.orderedDocumentKey,o.documentKey]}}function $s(r,e){let t=r.hn-e.hn;return t!==0?t:(t=eE(r.Tn,e.Tn),t!==0?t:(t=eE(r.In,e.In),t!==0?t:re.comparator(r.Pn,e.Pn)))}function eE(r,e){for(let t=0;t<r.length&&t<e.length;++t){const s=r[t]-e[t];if(s!==0)return s}return r.length-e.length}function nd(r){return ZE()?(function(t){let s="";for(let o=0;o<t.length;o++)s+=String.fromCharCode(t[o]);return s})(r):r}function tE(r){return typeof r!="string"?r:(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(r)}class nE{constructor(e){this.Vn=new $e(((t,s)=>ft.comparator(t.field,s.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const s=t;s.isInequality()?this.Vn=this.Vn.add(s):this.mn.push(s)}}get fn(){return this.Vn.size>1}gn(e){if(pe(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=Op(e);if(t!==void 0&&!this.pn(t))return!1;const s=Zr(e);let o=new Set,u=0,c=0;for(;u<s.length&&this.pn(s[u]);++u)o=o.add(s[u].fieldPath.canonicalString());if(u===s.length)return!0;if(this.Vn.size>0){const m=this.Vn.getIterator().getNext();if(!o.has(m.field.canonicalString())){const p=s[u];if(!this.yn(m,p)||!this.wn(this.dn[c++],p))return!1}++u}for(;u<s.length;++u){const m=s[u];if(c>=this.dn.length||!this.wn(this.dn[c++],m))return!1}return!0}bn(){if(this.fn)return null;let e=new $e(ft.comparator);const t=[];for(const s of this.mn)if(!s.field.isKeyField())if(s.op==="array-contains"||s.op==="array-contains-any")t.push(new Yh(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),t.push(new Yh(s.field,0))}for(const s of this.dn)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),t.push(new Yh(s.field,s.dir==="asc"?0:1)));return new dd(dd.UNKNOWN_ID,this.collectionId,t,ju.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const s=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===s}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function r1(r){if(pe(r instanceof je||r instanceof nt,20012),r instanceof je){if(r instanceof AS){const t=r.value.arrayValue?.values?.map((s=>je.create(r.field,"==",s)))||[];return nt.create(t,"or")}return r}const e=r.filters.map((t=>r1(t)));return nt.create(e,r.op)}function dN(r){if(r.getFilters().length===0)return[];const e=Jp(r1(r));return pe(a1(e),7391),Yp(e)||Xp(e)?[e]:e.getFilters()}function Yp(r){return r instanceof je}function Xp(r){return r instanceof nt&&Ng(r)}function a1(r){return Yp(r)||Xp(r)||(function(t){if(t instanceof nt&&zp(t)){for(const s of t.getFilters())if(!Yp(s)&&!Xp(s))return!1;return!0}return!1})(r)}function Jp(r){if(pe(r instanceof je||r instanceof nt,34018),r instanceof je)return r;if(r.filters.length===1)return Jp(r.filters[0]);const e=r.filters.map((s=>Jp(s)));let t=nt.create(e,r.op);return t=Sd(t),a1(t)?t:(pe(t instanceof nt,64498),pe(Bo(t),40251),pe(t.filters.length>1,57927),t.filters.reduce(((s,o)=>Ug(s,o))))}function Ug(r,e){let t;return pe(r instanceof je||r instanceof nt,38388),pe(e instanceof je||e instanceof nt,25473),t=r instanceof je?e instanceof je?(function(o,u){return nt.create([o,u],"and")})(r,e):iE(r,e):e instanceof je?iE(e,r):(function(o,u){if(pe(o.filters.length>0&&u.filters.length>0,48005),Bo(o)&&Bo(u))return ES(o,u.getFilters());const c=zp(o)?o:u,m=zp(o)?u:o,p=c.filters.map((y=>Ug(y,m)));return nt.create(p,"or")})(r,e),Sd(t)}function iE(r,e){if(Bo(e))return ES(e,r.getFilters());{const t=e.filters.map((s=>Ug(r,s)));return nt.create(t,"or")}}function Sd(r){if(pe(r instanceof je||r instanceof nt,11850),r instanceof je)return r;const e=r.getFilters();if(e.length===1)return Sd(e[0]);if(vS(r))return r;const t=e.map((o=>Sd(o))),s=[];return t.forEach((o=>{o instanceof je?s.push(o):o instanceof nt&&(o.op===r.op?s.push(...o.filters):s.push(o))})),s.length===1?s[0]:nt.create(s,r.op)}class fN{constructor(){this.Sn=new zg}addToCollectionParentIndex(e,t){return this.Sn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Dn.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Dn.min())}updateCollectionGroup(e,t,s){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class zg{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new $e(Ge.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new $e(Ge.comparator)).toArray()}}const sE="IndexedDbIndexManager",Uh=new Uint8Array(0);class mN{constructor(e,t){this.databaseId=t,this.Dn=new zg,this.Cn=new gs((s=>ga(s)),((s,o)=>tc(s,o))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const s=t.lastSegment(),o=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const u={collectionId:s,parent:sn(o)};return rE(e).put(u)}return L.resolve()}getCollectionParents(e,t){const s=[],o=IDBKeyRange.bound([t,""],[qT(t),""],!1,!0);return rE(e).H(o).next((u=>{for(const c of u){if(c.collectionId!==t)break;s.push(ki(c.parent))}return s}))}addFieldIndex(e,t){const s=du(e),o=(function(m){return{indexId:m.indexId,collectionGroup:m.collectionGroup,fields:m.fields.map((p=>[p.fieldPath.canonicalString(),p.kind]))}})(t);delete o.indexId;const u=s.add(o);if(t.indexState){const c=_o(e);return u.next((m=>{c.put(Jb(m,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return u.next()}deleteFieldIndex(e,t){const s=du(e),o=_o(e),u=yo(e);return s.delete(t.indexId).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=du(e),s=yo(e),o=_o(e);return t.X().next((()=>s.X())).next((()=>o.X()))}createTargetIndexes(e,t){return L.forEach(this.vn(t),(s=>this.getIndexType(e,s).next((o=>{if(o===0||o===1){const u=new nE(s).bn();if(u!=null)return this.addFieldIndex(e,u)}}))))}getDocumentsMatchingTarget(e,t){const s=yo(e);let o=!0;const u=new Map;return L.forEach(this.vn(t),(c=>this.Fn(e,c).next((m=>{o&&(o=!!m),u.set(c,m)})))).next((()=>{if(o){let c=Ne();const m=[];return L.forEach(u,((p,y)=>{Z(sE,`Using index ${(function(D){return`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map((ge=>`${ge.fieldPath}:${ge.kind}`)).join(",")}`})(p)} to execute ${ga(t)}`);const E=(function(D,ge){const Ee=Op(ge);if(Ee===void 0)return null;for(const ae of vd(D,Ee.fieldPath))switch(ae.op){case"array-contains-any":return ae.value.arrayValue.values||[];case"array-contains":return[ae.value]}return null})(y,p),S=(function(D,ge){const Ee=new Map;for(const ae of Zr(ge))for(const I of vd(D,ae.fieldPath))switch(I.op){case"==":case"in":Ee.set(ae.fieldPath.canonicalString(),I.value);break;case"not-in":case"!=":return Ee.set(ae.fieldPath.canonicalString(),I.value),Array.from(Ee.values())}return null})(y,p),x=(function(D,ge){const Ee=[];let ae=!0;for(const I of Zr(ge)){const w=I.kind===0?Pb(D,I.fieldPath,D.startAt):jb(D,I.fieldPath,D.startAt);Ee.push(w.value),ae&&(ae=w.inclusive)}return new zo(Ee,ae)})(y,p),q=(function(D,ge){const Ee=[];let ae=!0;for(const I of Zr(ge)){const w=I.kind===0?jb(D,I.fieldPath,D.endAt):Pb(D,I.fieldPath,D.endAt);Ee.push(w.value),ae&&(ae=w.inclusive)}return new zo(Ee,ae)})(y,p),W=this.Mn(p,y,x),ee=this.Mn(p,y,q),te=this.xn(p,y,S),he=this.On(p.indexId,E,W,x.inclusive,ee,q.inclusive,te);return L.forEach(he,(me=>s.Z(me,t.limit).next((D=>{D.forEach((ge=>{const Ee=re.fromSegments(ge.documentKey);c.has(Ee)||(c=c.add(Ee),m.push(Ee))}))}))))})).next((()=>m))}return L.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=dN(nt.create(e.filters,"and")).map((s=>Fp(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,s,o,u,c,m){const p=(t!=null?t.length:1)*Math.max(s.length,u.length),y=p/(t!=null?t.length:1),E=[];for(let S=0;S<p;++S){const x=t?this.Nn(t[S/y]):Uh,q=this.Bn(e,x,s[S%y],o),W=this.Ln(e,x,u[S%y],c),ee=m.map((te=>this.Bn(e,x,te,!0)));E.push(...this.createRange(q,W,ee))}return E}Bn(e,t,s,o){const u=new ia(e,re.empty(),t,s);return o?u:u.En()}Ln(e,t,s,o){const u=new ia(e,re.empty(),t,s);return o?u.En():u}Fn(e,t){const s=new nE(t),o=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next((u=>{let c=null;for(const m of u)s.gn(m)&&(!c||m.fields.length>c.fields.length)&&(c=m);return c}))}getIndexType(e,t){let s=2;const o=this.vn(t);return L.forEach(o,(u=>this.Fn(e,u).next((c=>{c?s!==0&&c.fields.length<(function(p){let y=new $e(ft.comparator),E=!1;for(const S of p.filters)for(const x of S.getFlattenedFilters())x.field.isKeyField()||(x.op==="array-contains"||x.op==="array-contains-any"?E=!0:y=y.add(x.field));for(const S of p.orderBy)S.field.isKeyField()||(y=y.add(S.field));return y.size+(E?1:0)})(u)&&(s=1):s=0})))).next((()=>(function(c){return c.limit!==null})(t)&&o.length>1&&s===2?1:s))}kn(e,t){const s=new hu;for(const o of Zr(e)){const u=t.data.field(o.fieldPath);if(u==null)return null;const c=s.ln(o.kind);na.Wt.Dt(u,c)}return s.un()}Nn(e){const t=new hu;return na.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const s=new hu;return na.Wt.Dt(Cg(this.databaseId,t),s.ln((function(u){const c=Zr(u);return c.length===0?0:c[c.length-1].kind})(e))),s.un()}xn(e,t,s){if(s===null)return[];let o=[];o.push(new hu);let u=0;for(const c of Zr(e)){const m=s[u++];for(const p of o)if(this.qn(t,c.fieldPath)&&Hu(m))o=this.Un(o,c,m);else{const y=p.ln(c.kind);na.Wt.Dt(m,y)}}return this.$n(o)}Mn(e,t,s){return this.xn(e,t,s.position)}$n(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].un();return t}Un(e,t,s){const o=[...e],u=[];for(const c of s.arrayValue.values||[])for(const m of o){const p=new hu;p.seed(m.un()),na.Wt.Dt(c,p.ln(t.kind)),u.push(p)}return u}qn(e,t){return!!e.filters.find((s=>s instanceof je&&s.field.isEqual(t)&&(s.op==="in"||s.op==="not-in")))}getFieldIndexes(e,t){const s=du(e),o=_o(e);return(t?s.H(kp,IDBKeyRange.bound(t,t)):s.H()).next((u=>{const c=[];return L.forEach(u,(m=>o.get([m.indexId,this.uid]).next((p=>{c.push((function(E,S){const x=S?new ju(S.sequenceNumber,new Dn(_a(S.readTime),new re(ki(S.documentKey)),S.largestBatchId)):ju.empty(),q=E.fields.map((([W,ee])=>new Yh(ft.fromServerFormat(W),ee)));return new dd(E.indexId,E.collectionGroup,q,x)})(m,p))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((s,o)=>{const u=s.indexState.sequenceNumber-o.indexState.sequenceNumber;return u!==0?u:Ae(s.collectionGroup,o.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,s){const o=du(e),u=_o(e);return this.Wn(e).next((c=>o.H(kp,IDBKeyRange.bound(t,t)).next((m=>L.forEach(m,(p=>u.put(Jb(p.indexId,this.uid,c,s))))))))}updateIndexEntries(e,t){const s=new Map;return L.forEach(t,((o,u)=>{const c=s.get(o.collectionGroup);return(c?L.resolve(c):this.getFieldIndexes(e,o.collectionGroup)).next((m=>(s.set(o.collectionGroup,m),L.forEach(m,(p=>this.Qn(e,o,p).next((y=>{const E=this.Gn(u,p);return y.isEqual(E)?L.resolve():this.zn(e,u,p,y,E)})))))))}))}jn(e,t,s,o){return yo(e).put(o.Rn(this.uid,this.Kn(s,t.key),t.key))}Hn(e,t,s,o){return yo(e).delete(o.An(this.uid,this.Kn(s,t.key),t.key))}Qn(e,t,s){const o=yo(e);let u=new $e($s);return o.ee({index:nS,range:IDBKeyRange.only([s.indexId,this.uid,nd(this.Kn(s,t))])},((c,m)=>{u=u.add(new ia(s.indexId,t,tE(m.arrayValue),tE(m.directionalValue)))})).next((()=>u))}Gn(e,t){let s=new $e($s);const o=this.kn(t,e);if(o==null)return s;const u=Op(t);if(u!=null){const c=e.data.field(u.fieldPath);if(Hu(c))for(const m of c.arrayValue.values||[])s=s.add(new ia(t.indexId,e.key,this.Nn(m),o))}else s=s.add(new ia(t.indexId,e.key,Uh,o));return s}zn(e,t,s,o,u){Z(sE,"Updating index entries for document '%s'",t.key);const c=[];return(function(p,y,E,S,x){const q=p.getIterator(),W=y.getIterator();let ee=po(q),te=po(W);for(;ee||te;){let he=!1,me=!1;if(ee&&te){const D=E(ee,te);D<0?me=!0:D>0&&(he=!0)}else ee!=null?me=!0:he=!0;he?(S(te),te=po(W)):me?(x(ee),ee=po(q)):(ee=po(q),te=po(W))}})(o,u,$s,(m=>{c.push(this.jn(e,t,s,m))}),(m=>{c.push(this.Hn(e,t,s,m))})),L.waitFor(c)}Wn(e){let t=1;return _o(e).ee({index:tS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((s,o,u)=>{u.done(),t=o.sequenceNumber+1})).next((()=>t))}createRange(e,t,s){s=s.sort(((c,m)=>$s(c,m))).filter(((c,m,p)=>!m||$s(c,p[m-1])!==0));const o=[];o.push(e);for(const c of s){const m=$s(c,e),p=$s(c,t);if(m===0)o[0]=e.En();else if(m>0&&p<0)o.push(c),o.push(c.En());else if(p>0)break}o.push(t);const u=[];for(let c=0;c<o.length;c+=2){if(this.Jn(o[c],o[c+1]))return[];const m=o[c].An(this.uid,Uh,re.empty()),p=o[c+1].An(this.uid,Uh,re.empty());u.push(IDBKeyRange.bound(m,p))}return u}Jn(e,t){return $s(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(aE)}getMinOffset(e,t){return L.mapArray(this.vn(t),(s=>this.Fn(e,s).next((o=>o||ue(44426))))).next(aE)}}function rE(r){return Bt(r,Bu)}function yo(r){return Bt(r,wu)}function du(r){return Bt(r,Sg)}function _o(r){return Bt(r,xu)}function aE(r){pe(r.length!==0,28825);let e=r[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<r.length;s++){const o=r[s].indexState.offset;bg(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new Dn(e.readTime,e.documentKey,t)}const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o1=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}function l1(r,e,t){const s=r.store(ri),o=r.store(Mo),u=[],c=IDBKeyRange.only(t.batchId);let m=0;const p=s.ee({range:c},((E,S,x)=>(m++,x.delete())));u.push(p.next((()=>{pe(m===1,47070,{batchId:t.batchId})})));const y=[];for(const E of t.mutations){const S=ZT(e,E.key.path,t.batchId);u.push(o.delete(S)),y.push(E.key)}return L.waitFor(u).next((()=>y))}function Ad(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw ue(14731);e=r.noDocument}return JSON.stringify(e).length}nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(o1,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);class Yd{constructor(e,t,s,o){this.userId=e,this.serializer=t,this.indexManager=s,this.referenceDelegate=o,this.Zn={}}static wt(e,t,s,o){pe(e.uid!=="",64387);const u=e.isAuthenticated()?e.uid:"";return new Yd(u,t,s,o)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zs(e).ee({index:ra,range:s},((o,u,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,s,o){const u=Ao(e),c=Zs(e);return c.add({}).next((m=>{pe(typeof m=="number",49019);const p=new Mg(m,t,s,o),y=(function(q,W,ee){const te=ee.baseMutations.map((me=>Ed(q.yt,me))),he=ee.mutations.map((me=>Ed(q.yt,me)));return{userId:W,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:te,mutations:he}})(this.serializer,this.userId,p),E=[];let S=new $e(((x,q)=>Ae(x.canonicalString(),q.canonicalString())));for(const x of o){const q=ZT(this.userId,x.key.path,m);S=S.add(x.key.path.popLast()),E.push(c.put(y)),E.push(u.put(q,qR))}return S.forEach((x=>{E.push(this.indexManager.addToCollectionParentIndex(e,x))})),e.addOnCommittedListener((()=>{this.Zn[m]=p.keys()})),L.waitFor(E).next((()=>p))}))}lookupMutationBatch(e,t){return Zs(e).get(t).next((s=>s?(pe(s.userId===this.userId,48,"Unexpected user for mutation batch",{userId:s.userId,batchId:t}),ta(this.serializer,s)):null))}Xn(e,t){return this.Zn[t]?L.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((s=>{if(s){const o=s.keys();return this.Zn[t]=o,o}return null}))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return Zs(e).ee({index:ra,range:o},((c,m,p)=>{m.userId===this.userId&&(pe(m.batchId>=s,47524,{Yn:s}),u=ta(this.serializer,m)),p.done()})).next((()=>u))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=oa;return Zs(e).ee({index:ra,range:t,reverse:!0},((o,u,c)=>{s=u.batchId,c.done()})).next((()=>s))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,oa],[this.userId,Number.POSITIVE_INFINITY]);return Zs(e).H(ra,t).next((s=>s.map((o=>ta(this.serializer,o)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=Xh(this.userId,t.path),o=IDBKeyRange.lowerBound(s),u=[];return Ao(e).ee({range:o},((c,m,p)=>{const[y,E,S]=c,x=ki(E);if(y===this.userId&&t.path.isEqual(x))return Zs(e).get(S).next((q=>{if(!q)throw ue(61480,{er:c,batchId:S});pe(q.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:q.userId,batchId:S}),u.push(ta(this.serializer,q))}));p.done()})).next((()=>u))}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new $e(Ae);const o=[];return t.forEach((u=>{const c=Xh(this.userId,u.path),m=IDBKeyRange.lowerBound(c),p=Ao(e).ee({range:m},((y,E,S)=>{const[x,q,W]=y,ee=ki(q);x===this.userId&&u.path.isEqual(ee)?s=s.add(W):S.done()}));o.push(p)})),L.waitFor(o).next((()=>this.tr(e,s)))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1,u=Xh(this.userId,s),c=IDBKeyRange.lowerBound(u);let m=new $e(Ae);return Ao(e).ee({range:c},((p,y,E)=>{const[S,x,q]=p,W=ki(x);S===this.userId&&s.isPrefixOf(W)?W.length===o&&(m=m.add(q)):E.done()})).next((()=>this.tr(e,m)))}tr(e,t){const s=[],o=[];return t.forEach((u=>{o.push(Zs(e).get(u).next((c=>{if(c===null)throw ue(35274,{batchId:u});pe(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:u}),s.push(ta(this.serializer,c))})))})),L.waitFor(o).next((()=>s))}removeMutationBatch(e,t){return l1(e.le,this.userId,t).next((s=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),L.forEach(s,(o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return L.resolve();const s=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),o=[];return Ao(e).ee({range:s},((u,c,m)=>{if(u[0]===this.userId){const p=ki(u[1]);o.push(p)}else m.done()})).next((()=>{pe(o.length===0,56720,{rr:o.map((u=>u.canonicalString()))})}))}))}containsKey(e,t){return u1(e,this.userId,t)}ir(e){return c1(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:oa,lastStreamToken:""}))}}function u1(r,e,t){const s=Xh(e,t.path),o=s[1],u=IDBKeyRange.lowerBound(s);let c=!1;return Ao(r).ee({range:u,Y:!0},((m,p,y)=>{const[E,S,x]=m;E===e&&S===o&&(c=!0),y.done()})).next((()=>c))}function Zs(r){return Bt(r,ri)}function Ao(r){return Bt(r,Mo)}function c1(r){return Bt(r,Uu)}class va{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new va(0)}static ar(){return new va(-1)}}class pN{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const s=new va(t.highestTargetId);return t.highestTargetId=s.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>_e.fromTimestamp(new Je(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,s){return this.ur(e).next((o=>(o.highestListenSequenceNumber=t,s&&(o.lastRemoteSnapshotVersion=s.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.cr(e,o))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((s=>(s.targetCount+=1,this.hr(t,s),this.cr(e,s))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>vo(e).delete(t.targetId))).next((()=>this.ur(e))).next((s=>(pe(s.targetCount>0,8065),s.targetCount-=1,this.cr(e,s))))}removeTargets(e,t,s){let o=0;const u=[];return vo(e).ee(((c,m)=>{const p=vu(m);p.sequenceNumber<=t&&s.get(p.targetId)===null&&(o++,u.push(this.removeTargetData(e,p)))})).next((()=>L.waitFor(u))).next((()=>o))}forEachTarget(e,t){return vo(e).ee(((s,o)=>{const u=vu(o);t(u)}))}ur(e){return lE(e).get(pd).next((t=>(pe(t!==null,2888),t)))}cr(e,t){return lE(e).put(pd,t)}lr(e,t){return vo(e).put(i1(this.serializer,t))}hr(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const s=ga(t),o=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return vo(e).ee({range:o,index:eS},((c,m,p)=>{const y=vu(m);tc(t,y.target)&&(u=y,p.done())})).next((()=>u))}addMatchingKeys(e,t,s){const o=[],u=ir(e);return t.forEach((c=>{const m=sn(c.path);o.push(u.put({targetId:s,path:m})),o.push(this.referenceDelegate.addReference(e,s,c))})),L.waitFor(o)}removeMatchingKeys(e,t,s){const o=ir(e);return L.forEach(t,(u=>{const c=sn(u.path);return L.waitFor([o.delete([s,c]),this.referenceDelegate.removeReference(e,s,u)])}))}removeMatchingKeysForTargetId(e,t){const s=ir(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(o)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),o=ir(e);let u=Ne();return o.ee({range:s,Y:!0},((c,m,p)=>{const y=ki(c[1]),E=new re(y);u=u.add(E)})).next((()=>u))}containsKey(e,t){const s=sn(t.path),o=IDBKeyRange.bound([s],[qT(s)],!1,!0);let u=0;return ir(e).ee({index:Tg,Y:!0,range:o},(([c,m],p,y)=>{c!==0&&(u++,y.done())})).next((()=>u>0))}At(e,t){return vo(e).get(t).next((s=>s?vu(s):null))}}function vo(r){return Bt(r,ko)}function lE(r){return Bt(r,la)}function ir(r){return Bt(r,Po)}const uE="LruGarbageCollector",h1=1048576;function cE([r,e],[t,s]){const o=Ae(r,t);return o===0?Ae(e,s):o}class gN{constructor(e){this.Pr=e,this.buffer=new $e(cE),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();cE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d1{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Z(uE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gr(t)?Z(uE,"Ignoring IndexedDB error during garbage collection: ",t):await pr(t)}await this.Ar(3e5)}))}}class yN{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return L.resolve(yn.ce);const s=new gN(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(oE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,o,u,c,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,c=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,t)))).next((S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(y=Date.now(),bo()<=ke.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-E}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function f1(r,e){return new yN(r,e)}class _N{constructor(e,t){this.db=e,this.garbageCollector=f1(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((s,o)=>t(o)))}addReference(e,t,s){return zh(e,s)}removeReference(e,t,s){return zh(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return zh(e,t)}wr(e,t){return(function(o,u){let c=!1;return c1(o).te((m=>u1(o,m,u).next((p=>(p&&(c=!0),L.resolve(!p)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.yr(e,((c,m)=>{if(m<=t){const p=this.wr(e,c).next((y=>{if(!y)return u++,s.getEntry(e,c).next((()=>(s.removeEntry(c,_e.min()),ir(e).delete((function(S){return[0,sn(S.path)]})(c)))))}));o.push(p)}})).next((()=>L.waitFor(o))).next((()=>s.apply(e))).next((()=>u))}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return zh(e,t)}yr(e,t){const s=ir(e);let o,u=yn.ce;return s.ee({index:Tg},(([c,m],{path:p,sequenceNumber:y})=>{c===0?(u!==yn.ce&&t(new re(ki(o)),u),u=y,o=p):u=yn.ce})).next((()=>{u!==yn.ce&&t(new re(ki(o)),u)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zh(r,e){return ir(r).put((function(s,o){return{targetId:0,path:sn(s.path),sequenceNumber:o}})(e,r.currentSequenceNumber))}class m1{constructor(){this.changes=new gs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?L.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vN{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Jr(e).put(s)}removeEntry(e,t,s){return Jr(e).delete((function(u,c){const m=u.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],Td(c),m[m.length-1]]})(t,s))}updateMetadata(e,t){return this.getMetadata(e).next((s=>(s.byteSize+=t,this.br(e,s))))}getEntry(e,t){let s=gt.newInvalidDocument(t);return Jr(e).ee({index:Jh,range:IDBKeyRange.only(fu(t))},((o,u)=>{s=this.Sr(t,u)})).next((()=>s))}Dr(e,t){let s={size:0,document:gt.newInvalidDocument(t)};return Jr(e).ee({index:Jh,range:IDBKeyRange.only(fu(t))},((o,u)=>{s={document:this.Sr(t,u),size:Ad(u)}})).next((()=>s))}getEntries(e,t){let s=Rn();return this.Cr(e,t,((o,u)=>{const c=this.Sr(o,u);s=s.insert(o,c)})).next((()=>s))}vr(e,t){let s=Rn(),o=new st(re.comparator);return this.Cr(e,t,((u,c)=>{const m=this.Sr(u,c);s=s.insert(u,m),o=o.insert(u,Ad(c))})).next((()=>({documents:s,Fr:o})))}Cr(e,t,s){if(t.isEmpty())return L.resolve();let o=new $e(fE);t.forEach((p=>o=o.add(p)));const u=IDBKeyRange.bound(fu(o.first()),fu(o.last())),c=o.getIterator();let m=c.getNext();return Jr(e).ee({index:Jh,range:u},((p,y,E)=>{const S=re.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;m&&fE(m,S)<0;)s(m,null),m=c.getNext();m&&m.isEqual(S)&&(s(m,y),m=c.hasNext()?c.getNext():null),m?E.j(fu(m)):E.done()})).next((()=>{for(;m;)s(m,null),m=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,s,o,u){const c=t.path,m=[c.popLast().toArray(),c.lastSegment(),Td(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],p=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jr(e).H(IDBKeyRange.bound(m,p,!0)).next((y=>{u?.incrementDocumentReadCount(y.length);let E=Rn();for(const S of y){const x=this.Sr(re.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);x.isFoundDocument()&&(nc(t,x)||o.has(x.key))&&(E=E.insert(x.key,x))}return E}))}getAllFromCollectionGroup(e,t,s,o){let u=Rn();const c=dE(t,s),m=dE(t,Dn.max());return Jr(e).ee({index:WT,range:IDBKeyRange.bound(c,m,!0)},((p,y,E)=>{const S=this.Sr(re.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);u=u.insert(S.key,S),u.size===o&&E.done()})).next((()=>u))}newChangeBuffer(e){return new bN(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return hE(e).get(Mp).next((t=>(pe(!!t,20021),t)))}br(e,t){return hE(e).put(Mp,t)}Sr(e,t){if(t){const s=rN(this.serializer,t);if(!(s.isNoDocument()&&s.version.isEqual(_e.min())))return s}return gt.newInvalidDocument(e)}}function p1(r){return new vN(r)}class bN extends m1{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new gs((s=>s.toString()),((s,o)=>s.isEqual(o)))}applyChanges(e){const t=[];let s=0,o=new $e(((u,c)=>Ae(u.canonicalString(),c.canonicalString())));return this.changes.forEach(((u,c)=>{const m=this.Or.get(u);if(t.push(this.Mr.removeEntry(e,u,m.readTime)),c.isValidDocument()){const p=Yb(this.Mr.serializer,c);o=o.add(u.path.popLast());const y=Ad(p);s+=y-m.size,t.push(this.Mr.addEntry(e,u,p))}else if(s-=m.size,this.trackRemovals){const p=Yb(this.Mr.serializer,c.convertToNoDocument(_e.min()));t.push(this.Mr.addEntry(e,u,p))}})),o.forEach((u=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,u))})),t.push(this.Mr.updateMetadata(e,s)),L.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((s=>(this.Or.set(t,{size:s.size,readTime:s.document.readTime}),s.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:s,Fr:o})=>(o.forEach(((u,c)=>{this.Or.set(u,{size:c,readTime:s.get(u).readTime})})),s)))}}function hE(r){return Bt(r,zu)}function Jr(r){return Bt(r,md)}function fu(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dE(r,e){const t=e.documentKey.path.toArray();return[r,Td(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function fE(r,e){const t=r.path.toArray(),s=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<s.length-2;++u)if(o=Ae(t[u],s[u]),o)return o;return o=Ae(t.length,s.length),o||(o=Ae(t[t.length-2],s[s.length-2]),o||Ae(t[t.length-1],s[s.length-1]))}class EN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class g1{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Nu(s.mutation,o,Kn.empty(),Je.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Ne()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Ne()){const o=Pi();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let c=yu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Pi();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Ne())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,s,o){let u=Rn();const c=Cu(),m=(function(){return Cu()})();return t.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof yr)?u=u.insert(y.key,y):E!==void 0?(c.set(y.key,E.mutation.getFieldMask()),Nu(E.mutation,y,E.mutation.getFieldMask(),Je.now())):c.set(y.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,E)=>c.set(y,E))),t.forEach(((y,E)=>m.set(y,new EN(E,c.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=Cu();let o=new st(((c,m)=>c-m)),u=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let E=s.get(p)||Kn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(o.get(m.batchId)||Ne()).add(p);o=o.insert(m.batchId,S)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=DS();E.forEach((x=>{if(!u.has(x)){const q=LS(t.get(x),s.get(x));q!==null&&S.set(x,q),u=u.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,S))}return L.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return wC(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):IC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):L.resolve(Pi());let m=Oo,p=u;return c.next((y=>L.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?L.resolve():this.remoteDocumentCache.getEntry(e,E).next((x=>{p=p.insert(E,x)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Ne()))).next((E=>({batchId:m,changes:NS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new re(t)).next((s=>{let o=yu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let c=yu();return this.indexManager.getCollectionParents(e,u).next((m=>L.forEach(m,(p=>{const y=(function(S,x){return new Fd(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((S,x)=>{c=c.insert(S,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((c=>{u.forEach(((p,y)=>{const E=y.getKey();c.get(E)===null&&(c=c.insert(E,gt.newInvalidDocument(E)))}));let m=yu();return c.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Nu(E.mutation,y,Kn.empty(),Je.now()),nc(t,y)&&(m=m.insert(p,y))})),m}))}}class TN{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return L.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ln(o.createTime)}})(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:s1(o.bundledQuery),readTime:ln(o.readTime)}})(t)),L.resolve()}}class SN{constructor(){this.overlays=new st(re.comparator),this.Lr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Pi();return L.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.bt(e,t,u)})),L.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),L.resolve()}getOverlaysForCollection(e,t,s){const o=Pi(),u=t.length+1,c=new re(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return L.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new st(((y,E)=>y-E));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Pi(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Pi(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return L.resolve(m)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new Pg(t,s));let u=this.Lr.get(t);u===void 0&&(u=Ne(),this.Lr.set(t,u)),this.Lr.set(t,u.add(s.key))}}class AN{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}}class Bg{constructor(){this.kr=new $e(Gt.Kr),this.qr=new $e(Gt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new Gt(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Gt(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new re(new Ge([])),s=new Gt(t,e),o=new Gt(t,e+1),u=[];return this.qr.forEachInRange([s,o],(c=>{this.Wr(c),u.push(c.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new re(new Ge([])),s=new Gt(t,e),o=new Gt(t,e+1);let u=Ne();return this.qr.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new Gt(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return re.comparator(e.key,t.key)||Ae(e.Hr,t.Hr)}static Ur(e,t){return Ae(e.Hr,t.Hr)||re.comparator(e.key,t.key)}}class xN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new $e(Gt.Kr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Mg(u,t,s,o);this.mutationQueue.push(c);for(const m of o)this.Jr=this.Jr.add(new Gt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return L.resolve(c)}lookupMutationBatch(e,t){return L.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return L.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?oa:this.Yn-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Gt(t,0),o=new Gt(t,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(c=>{const m=this.Zr(c.Hr);u.push(m)})),L.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new $e(Ae);return t.forEach((o=>{const u=new Gt(o,0),c=new Gt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,c],(m=>{s=s.add(m.Hr)}))})),L.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;re.isDocumentKey(u)||(u=u.child(""));const c=new Gt(new re(u),0);let m=new $e(Ae);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),c),L.resolve(this.Yr(m))}Yr(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){pe(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return L.forEach(t.mutations,(o=>{const u=new Gt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new Gt(t,0),o=this.Jr.firstAfterOrEqual(s);return L.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wN{constructor(e){this.ti=e,this.docs=(function(){return new st(re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,c=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return L.resolve(s?s.document.mutableCopy():gt.newInvalidDocument(t))}getEntries(e,t){let s=Rn();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():gt.newInvalidDocument(o))})),L.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Rn();const c=t.path,m=new re(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||bg(QT(E),s)<=0||(o.has(E.key)||nc(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return L.resolve(u)}getAllFromCollectionGroup(e,t,s,o){ue(9500)}ni(e,t){return L.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new IN(this)}getSize(e){return L.resolve(this.size)}}class IN extends m1{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),L.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class RN{constructor(e){this.persistence=e,this.ri=new gs((t=>ga(t)),tc),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.ii=0,this.si=new Bg,this.targetCount=0,this.oi=va._r()}forEachTarget(e,t){return this.ri.forEach(((s,o)=>t(o))),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),L.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new va(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.lr(t),L.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ri.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),L.waitFor(u).next((()=>o))}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return L.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),L.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),L.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),L.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return L.resolve(s)}containsKey(e,t){return L.resolve(this.si.containsKey(t))}}class Fg{constructor(e,t){this._i={},this.overlays={},this.ai=new yn(0),this.ui=!1,this.ui=!0,this.ci=new AN,this.referenceDelegate=e(this),this.li=new RN(this),this.indexManager=new fN,this.remoteDocumentCache=(function(o){return new wN(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new n1(t),this.Pi=new TN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new xN(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){Z("MemoryPersistence","Starting transaction:",e);const o=new CN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,t){return L.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class CN extends XT{constructor(e){super(),this.currentSequenceNumber=e}}class Xd{constructor(e){this.persistence=e,this.Ri=new Bg,this.Ai=null}static Vi(e){return new Xd(e)}get di(){if(this.Ai)return this.Ai;throw ue(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),L.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),L.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.di,(s=>{const o=re.fromPath(s);return this.mi(e,o).next((u=>{u||t.removeEntry(o,_e.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return L.or([()=>L.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class xd{constructor(e,t){this.persistence=e,this.fi=new gs((s=>sn(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=f1(this,t)}static Vi(e,t){return new xd(e,t)}Ti(){}Ii(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return L.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?L.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(c=>this.wr(e,c,t).next((m=>{m||(s++,u.removeEntry(c,_e.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),L.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),L.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zh(e.data.value)),t}wr(e,t,s){return L.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return L.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class NN{constructor(e){this.serializer=e}k(e,t,s,o){const u=new kd("createOrUpgrade",t);s<1&&o>=1&&((function(p){p.createObjectStore(ec)})(e),(function(p){p.createObjectStore(Uu,{keyPath:FR}),p.createObjectStore(ri,{keyPath:Ab,autoIncrement:!0}).createIndex(ra,xb,{unique:!0}),p.createObjectStore(Mo)})(e),mE(e),(function(p){p.createObjectStore(Wr)})(e));let c=L.resolve();return s<3&&o>=3&&(s!==0&&((function(p){p.deleteObjectStore(Po),p.deleteObjectStore(ko),p.deleteObjectStore(la)})(e),mE(e)),c=c.next((()=>(function(p){const y=p.store(la),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_e.min().toTimestamp(),targetCount:0};return y.put(pd,E)})(u)))),s<4&&o>=4&&(s!==0&&(c=c.next((()=>(function(p,y){return y.store(ri).H().next((S=>{p.deleteObjectStore(ri),p.createObjectStore(ri,{keyPath:Ab,autoIncrement:!0}).createIndex(ra,xb,{unique:!0});const x=y.store(ri),q=S.map((W=>x.put(W)));return L.waitFor(q)}))})(e,u)))),c=c.next((()=>{(function(p){p.createObjectStore(jo,{keyPath:$R})})(e)}))),s<5&&o>=5&&(c=c.next((()=>this.gi(u)))),s<6&&o>=6&&(c=c.next((()=>((function(p){p.createObjectStore(zu)})(e),this.pi(u))))),s<7&&o>=7&&(c=c.next((()=>this.yi(u)))),s<8&&o>=8&&(c=c.next((()=>this.wi(e,u)))),s<9&&o>=9&&(c=c.next((()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(e)}))),s<10&&o>=10&&(c=c.next((()=>this.bi(u)))),s<11&&o>=11&&(c=c.next((()=>{(function(p){p.createObjectStore(jd,{keyPath:ZR})})(e),(function(p){p.createObjectStore(Ld,{keyPath:WR})})(e)}))),s<12&&o>=12&&(c=c.next((()=>{(function(p){const y=p.createObjectStore(Ud,{keyPath:aC});y.createIndex(Pp,oC,{unique:!1}),y.createIndex(iS,lC,{unique:!1})})(e)}))),s<13&&o>=13&&(c=c.next((()=>(function(p){const y=p.createObjectStore(md,{keyPath:HR});y.createIndex(Jh,GR),y.createIndex(WT,KR)})(e))).next((()=>this.Si(e,u))).next((()=>e.deleteObjectStore(Wr)))),s<14&&o>=14&&(c=c.next((()=>this.Di(e,u)))),s<15&&o>=15&&(c=c.next((()=>(function(p){p.createObjectStore(Sg,{keyPath:eC,autoIncrement:!0}).createIndex(kp,tC,{unique:!1}),p.createObjectStore(xu,{keyPath:nC}).createIndex(tS,iC,{unique:!1}),p.createObjectStore(wu,{keyPath:sC}).createIndex(nS,rC,{unique:!1})})(e)))),s<16&&o>=16&&(c=c.next((()=>{t.objectStore(xu).clear()})).next((()=>{t.objectStore(wu).clear()}))),s<17&&o>=17&&(c=c.next((()=>{(function(p){p.createObjectStore(Ag,{keyPath:uC})})(e)}))),s<18&&o>=18&&ZE()&&(c=c.next((()=>{t.objectStore(xu).clear()})).next((()=>{t.objectStore(wu).clear()}))),c}pi(e){let t=0;return e.store(Wr).ee(((s,o)=>{t+=Ad(o)})).next((()=>{const s={byteSize:t};return e.store(zu).put(Mp,s)}))}gi(e){const t=e.store(Uu),s=e.store(ri);return t.H().next((o=>L.forEach(o,(u=>{const c=IDBKeyRange.bound([u.userId,oa],[u.userId,u.lastAcknowledgedBatchId]);return s.H(ra,c).next((m=>L.forEach(m,(p=>{pe(p.userId===u.userId,18650,"Cannot process batch from unexpected user",{batchId:p.batchId});const y=ta(this.serializer,p);return l1(e,u.userId,y).next((()=>{}))}))))}))))}yi(e){const t=e.store(Po),s=e.store(Wr);return e.store(la).get(pd).next((o=>{const u=[];return s.ee(((c,m)=>{const p=new Ge(c),y=(function(S){return[0,sn(S)]})(p);u.push(t.get(y).next((E=>E?L.resolve():(S=>t.put({targetId:0,path:sn(S),sequenceNumber:o.highestListenSequenceNumber}))(p))))})).next((()=>L.waitFor(u)))}))}wi(e,t){e.createObjectStore(Bu,{keyPath:JR});const s=t.store(Bu),o=new zg,u=c=>{if(o.add(c)){const m=c.lastSegment(),p=c.popLast();return s.put({collectionId:m,parent:sn(p)})}};return t.store(Wr).ee({Y:!0},((c,m)=>{const p=new Ge(c);return u(p.popLast())})).next((()=>t.store(Mo).ee({Y:!0},(([c,m,p],y)=>{const E=ki(m);return u(E.popLast())}))))}bi(e){const t=e.store(ko);return t.ee(((s,o)=>{const u=vu(o),c=i1(this.serializer,u);return t.put(c)}))}Si(e,t){const s=t.store(Wr),o=[];return s.ee(((u,c)=>{const m=t.store(md),p=(function(S){return S.document?new re(Ge.fromString(S.document.name).popFirst(5)):S.noDocument?re.fromSegments(S.noDocument.path):S.unknownDocument?re.fromSegments(S.unknownDocument.path):ue(36783)})(c).path.toArray(),y={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};o.push(m.put(y))})).next((()=>L.waitFor(o)))}Di(e,t){const s=t.store(ri),o=p1(this.serializer),u=new Fg(Xd.Vi,this.serializer.yt);return s.H().next((c=>{const m=new Map;return c.forEach((p=>{let y=m.get(p.userId)??Ne();ta(this.serializer,p).keys().forEach((E=>y=y.add(E))),m.set(p.userId,y)})),L.forEach(m,((p,y)=>{const E=new tn(y),S=Qd.wt(this.serializer,E),x=u.getIndexManager(E),q=Yd.wt(E,this.serializer,x,u.referenceDelegate);return new g1(o,q,S,x).recalculateAndSaveOverlaysForDocumentKeys(new jp(t,yn.ce),p).next()}))}))}}function mE(r){r.createObjectStore(Po,{keyPath:YR}).createIndex(Tg,XR,{unique:!0}),r.createObjectStore(ko,{keyPath:"targetId"}).createIndex(eS,QR,{unique:!0}),r.createObjectStore(la)}const Ws="IndexedDbPersistence",mp=18e5,pp=5e3,gp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",DN="main";class qg{constructor(e,t,s,o,u,c,m,p,y,E,S=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Ci=u,this.window=c,this.document=m,this.Fi=y,this.Mi=E,this.xi=S,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=x=>Promise.resolve(),!qg.v())throw new oe($.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _N(this,o),this.Ki=t+DN,this.serializer=new n1(p),this.qi=new ur(this.Ki,this.xi,new NN(this.serializer)),this.ci=new oN,this.li=new pN(this.referenceDelegate,this.serializer),this.remoteDocumentCache=p1(this.serializer),this.Pi=new aN,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,E===!1&&Tt(Ws,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oe($.FAILED_PRECONDITION,gp);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new yn(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Bh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(gr(e))return Z(Ws,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Z(Ws,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return mu(e).get(mo).next((t=>L.resolve(this.Xi(t))))}Yi(e){return Bh(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,mp)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const s=Bt(t,jo);return s.H().next((o=>{const u=this.ns(o,mp),c=o.filter((m=>u.indexOf(m)===-1));return L.forEach(c,(m=>s.delete(m.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?L.resolve(!0):mu(e).get(mo).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,pp)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new oe($.FAILED_PRECONDITION,gp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bh(e).H().next((s=>this.ns(s,pp).find((o=>{if(this.clientId!==o.clientId){const u=!this.networkEnabled&&o.networkEnabled,c=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(u||c&&m)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&Z(Ws,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[ec,jo],(e=>{const t=new jp(e,yn.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((s=>this.ts(s.updateTimeMs,t)&&!this.ss(s.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Bh(e).H().next((t=>this.ns(t,mp).map((s=>s.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return Yd.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mN(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Qd.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,s){Z(Ws,"Starting transaction:",e);const o=t==="readonly"?"readonly":"readwrite",u=(function(p){return p===18?dC:p===17?oS:p===16?hC:p===15?xg:p===14?aS:p===13?rS:p===12?cC:p===11?sS:void ue(60245)})(this.xi);let c;return this.qi.runTransaction(e,o,u,(m=>(c=new jp(m,this.ai?this.ai.next():yn.ce),t==="readwrite-primary"?this.ji(c).next((p=>!!p||this.Hi(c))).next((p=>{if(!p)throw Tt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new oe($.FAILED_PRECONDITION,YT);return s(c)})).next((p=>this.Zi(c).next((()=>p)))):this.Ps(c).next((()=>s(c)))))).then((m=>(c.raiseOnCommittedEvent(),m)))}Ps(e){return mu(e).get(mo).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,pp)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new oe($.FAILED_PRECONDITION,gp)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mu(e).put(mo,t)}static v(){return ur.v()}Ji(e){const t=mu(e);return t.get(mo).next((s=>this.Xi(s)?(Z(Ws,"Releasing primary lease."),t.delete(mo)):L.resolve()))}ts(e,t){const s=Date.now();return!(e<s-t)&&(!(e>s)||(Tt(`Detected an update time that is in the future: ${e} > ${s}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;$E()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return Z(Ws,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Tt(Ws,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Tt("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mu(r){return Bt(r,ec)}function Bh(r){return Bt(r,jo)}function y1(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Hg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=o}static Es(e,t){let s=Ne(),o=Ne();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Hg(e,t.fromCache,s,o)}}class VN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _1{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return $E()?8:JT(zt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.gs(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ps(e,t,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new VN;return this.ys(e,t,c).next((m=>{if(u.result=m,this.As)return this.ws(e,t,c,m.size)}))})).next((()=>u.result))}ws(e,t,s,o){return s.documentReadCount<this.Vs?(bo()<=ke.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(bo()<=ke.DEBUG&&Z("QueryEngine","Query:",Eo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(bo()<=ke.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(t))):L.resolve())}gs(e,t){if(Lb(t))return L.resolve(null);let s=Nn(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=qp(t,null,"F"),s=Nn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=Ne(...u);return this.fs.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.bs(t,m);return this.Ss(t,y,c,p.readTime)?this.gs(e,qp(t,null,"F")):this.Ds(e,y,t,p)}))))})))))}ps(e,t,s,o){return Lb(t)||o.isEqual(_e.min())?L.resolve(null):this.fs.getDocuments(e,s).next((u=>{const c=this.bs(t,u);return this.Ss(t,c,s,o)?L.resolve(null):(bo()<=ke.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(t)),this.Ds(e,c,t,KT(o,Oo)).next((m=>m)))}))}bs(e,t){let s=new $e(RS(e));return t.forEach(((o,u)=>{nc(e,u)&&(s=s.add(u))})),s}Ss(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,t,s){return bo()<=ke.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.fs.getDocumentsMatchingQuery(e,t,Dn.min(),s)}Ds(e,t,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Gg="LocalStore",ON=3e8;class MN{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new st(Ae),this.Fs=new gs((u=>ga(u)),tc),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g1(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function v1(r,e,t,s){return new MN(r,e,t,s)}async function b1(r,e){const t=de(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=Ne();for(const y of o){c.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next((y=>({Ns:y,removedBatchIds:c,addedBatchIds:m})))}))}))}function kN(r,e){const t=de(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const S=y.batch,x=S.keys();let q=L.resolve();return x.forEach((W=>{q=q.next((()=>E.getEntry(p,W))).next((ee=>{const te=y.docVersions.get(W);pe(te!==null,48541),ee.version.compareTo(te)<0&&(S.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),E.addEntry(ee)))}))})),q.next((()=>m.mutationQueue.removeMutationBatch(p,S)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ne();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function E1(r){const e=de(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function PN(r,e){const t=de(r),s=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const m=[];e.targetChanges.forEach(((E,S)=>{const x=o.get(S);if(!x)return;m.push(t.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>t.li.addMatchingKeys(u,E.addedDocuments,S))));let q=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?q=q.withResumeToken(St.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):E.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(E.resumeToken,s)),o=o.insert(S,q),(function(ee,te,he){return ee.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=ON?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(x,q,E)&&m.push(t.li.updateTargetData(u,q))}));let p=Rn(),y=Ne();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(jN(u,c,e.documentUpdates).next((E=>{p=E.Bs,y=E.Ls}))),!s.isEqual(_e.min())){const E=t.li.getLastRemoteSnapshotVersion(u).next((S=>t.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return L.waitFor(m).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(t.vs=o,u)))}function jN(r,e,t){let s=Ne(),o=Ne();return t.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let c=Rn();return t.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(_e.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):Z(Gg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:c,Ls:o}}))}function LN(r,e){const t=de(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=oa),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function wd(r,e){const t=de(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.li.getTargetData(s,e).next((u=>u?(o=u,L.resolve(o)):t.li.allocateTargetId(s).next((c=>(o=new us(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function Ko(r,e,t){const s=de(r),o=s.vs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!gr(c))throw c;Z(Gg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function $p(r,e,t){const s=de(r);let o=_e.min(),u=Ne();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,y,E){const S=de(p),x=S.Fs.get(E);return x!==void 0?L.resolve(S.vs.get(x)):S.li.getTargetData(y,E)})(s,c,Nn(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,t?o:_e.min(),t?u:Ne()))).next((m=>(A1(s,IS(e),m),{documents:m,ks:u})))))}function T1(r,e){const t=de(r),s=de(t.li),o=t.vs.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",(u=>s.At(u,e).next((c=>c?c.target:null))))}function S1(r,e){const t=de(r),s=t.Ms.get(e)||_e.min();return t.persistence.runTransaction("Get new document changes","readonly",(o=>t.xs.getAllFromCollectionGroup(o,e,KT(s,Oo),Number.MAX_SAFE_INTEGER))).then((o=>(A1(t,e,o),o)))}function A1(r,e,t){let s=r.Ms.get(e)||_e.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}const x1="firestore_clients";function pE(r,e){return`${x1}_${r}_${e}`}const w1="firestore_mutations";function gE(r,e,t){let s=`${w1}_${r}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}const I1="firestore_targets";function yp(r,e){return`${I1}_${r}_${e}`}const Mi="SharedClientState";class Id{constructor(e,t,s,o){this.user=e,this.batchId=t,this.state=s,this.error=o}static $s(e,t,s){const o=JSON.parse(s);let u,c=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return c&&o.error&&(c=typeof o.error.message=="string"&&typeof o.error.code=="string",c&&(u=new oe(o.error.code,o.error.message))),c?new Id(e,t,o.state,u):(Tt(Mi,`Failed to parse mutation state for ID '${t}': ${s}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Du{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static $s(e,t){const s=JSON.parse(t);let o,u=typeof s=="object"&&["not-current","current","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string",u&&(o=new oe(s.error.code,s.error.message))),u?new Du(e,s.state,o):(Tt(Mi,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const s=JSON.parse(t);let o=typeof s=="object"&&s.activeTargetIds instanceof Array,u=Dg();for(let c=0;o&&c<s.activeTargetIds.length;++c)o=$T(s.activeTargetIds[c]),u=u.add(s.activeTargetIds[c]);return o?new Rd(e,u):(Tt(Mi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Kg{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Kg(t.clientId,t.onlineState):(Tt(Mi,`Failed to parse online state: ${e}`),null)}}class Zp{constructor(){this.activeTargetIds=Dg()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _p{constructor(e,t,s,o,u){this.window=e,this.Ci=t,this.persistenceKey=s,this.zs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new st(Ae),this.started=!1,this.Zs=[];const c=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Xs=pE(this.persistenceKey,this.zs),this.Ys=(function(p){return`firestore_sequence_number_${p}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Zp),this.eo=new RegExp(`^${x1}_${c}_([^_]*)$`),this.no=new RegExp(`^${w1}_${c}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${I1}_${c}_(\\d+)$`),this.io=(function(p){return`firestore_online_state_${p}`})(this.persistenceKey),this.so=(function(p){return`firestore_bundle_loaded_v2_${p}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const s of e){if(s===this.zs)continue;const o=this.getItem(pE(this.persistenceKey,s));if(o){const u=Rd.$s(s,o);u&&(this.Js=this.Js.insert(u.clientId,u))}}this.oo();const t=this.storage.getItem(this.io);if(t){const s=this._o(t);s&&this.ao(s)}for(const s of this.Zs)this.Hs(s);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((s,o)=>{o.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,s){this.co(e,t,s),this.lo(e)}addLocalQueryTarget(e,t=!0){let s="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(yp(this.persistenceKey,e));if(o){const u=Du.$s(e,o);u&&(s=u.state)}}return t&&this.ho.Qs(e),this.oo(),s}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(yp(this.persistenceKey,e))}updateQueryState(e,t,s){this.Po(e,t,s)}handleUserChange(e,t,s){t.forEach((o=>{this.lo(o)})),this.currentUser=e,s.forEach((o=>{this.addPendingMutation(o)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Z(Mi,"READ",e,t),t}setItem(e,t){Z(Mi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){Z(Mi,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(Z(Mi,"EVENT",t.key,t.newValue),t.key===this.Xs)return void Tt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const s=this.Eo(t.key);return this.Ro(s,null)}{const s=this.Ao(t.key,t.newValue);if(s)return this.Ro(s.clientId,s)}}else if(this.no.test(t.key)){if(t.newValue!==null){const s=this.Vo(t.key,t.newValue);if(s)return this.mo(s)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const s=this.fo(t.key,t.newValue);if(s)return this.po(s)}}else if(t.key===this.io){if(t.newValue!==null){const s=this._o(t.newValue);if(s)return this.ao(s)}}else if(t.key===this.Ys){const s=(function(u){let c=yn.ce;if(u!=null)try{const m=JSON.parse(u);pe(typeof m=="number",30636,{yo:u}),c=m}catch(m){Tt(Mi,"Failed to read sequence number from WebStorage",m)}return c})(t.newValue);s!==yn.ce&&this.sequenceNumberHandler(s)}else if(t.key===this.so){const s=this.wo(t.newValue);await Promise.all(s.map((o=>this.syncEngine.bo(o))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,s){const o=new Id(this.currentUser,e,t,s),u=gE(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Ws())}lo(e){const t=gE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,s){const o=yp(this.persistenceKey,e),u=new Du(e,t,s);this.setItem(o,u.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const s=this.Eo(e);return Rd.$s(s,t)}Vo(e,t){const s=this.no.exec(e),o=Number(s[1]),u=s[2]!==void 0?s[2]:null;return Id.$s(new tn(u),o,t)}fo(e,t){const s=this.ro.exec(e),o=Number(s[1]);return Du.$s(o,t)}_o(e){return Kg.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);Z(Mi,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const s=t?this.Js.insert(e,t):this.Js.remove(e),o=this.uo(this.Js),u=this.uo(s),c=[],m=[];return u.forEach((p=>{o.has(p)||c.push(p)})),o.forEach((p=>{u.has(p)||m.push(p)})),this.syncEngine.Co(c,m).then((()=>{this.Js=s}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=Dg();return e.forEach(((s,o)=>{t=t.unionWith(o.activeTargetIds)})),t}}class R1{constructor(){this.vo=new Zp,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Zp,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class UN{Mo(e){}shutdown(){}}const yE="ConnectivityMonitor";class _E{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Z(yE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Z(yE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fh=null;function Wp(){return Fh===null?Fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fh++,"0x"+Fh.toString(16)}const vp="RestConnection",zN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===gd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const c=Wp(),m=this.Qo(e,t.toUriEncodedString());Z(vp,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:y}=new URL(m),E=Jo(y);return this.zo(e,m,p,s,E).then((S=>(Z(vp,`Received RPC '${e}' ${c}: `,S),S)),(S=>{throw Pu(vp,`RPC '${e}' ${c} failed with error: `,S,"url: ",m,"request:",s),S}))}jo(e,t,s,o,u,c){return this.Wo(e,t,s,o,u)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,t){const s=zN[e];let o=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class FN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",pu=(r,e,t)=>{r.listen(e,(s=>{try{t(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ro extends BN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ro.c_){const e=zT();pu(e,UT.STAT_EVENT,(t=>{t.stat===Dp.PROXY?Z(en,"STAT_EVENT: detected buffering proxy"):t.stat===Dp.NOPROXY&&Z(en,"STAT_EVENT: detected no buffering proxy")})),Ro.c_=!0}}zo(e,t,s,o,u){const c=Wp();return new Promise(((m,p)=>{const y=new jT;y.setWithCredentials(!0),y.listenOnce(LT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Qh.NO_ERROR:const S=y.getResponseJson();Z(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(S)),m(S);break;case Qh.TIMEOUT:Z(en,`RPC '${e}' ${c} timed out`),p(new oe($.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const x=y.getStatus();if(Z(en,`RPC '${e}' ${c} failed with status:`,x,"response text:",y.getResponseText()),x>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const W=q?.error;if(W&&W.status&&W.message){const ee=(function(he){const me=he.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(me)>=0?me:$.UNKNOWN})(W.status);p(new oe(ee,W.message))}else p(new oe($.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new oe($.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{Z(en,`RPC '${e}' ${c} completed.`)}}));const E=JSON.stringify(o);Z(en,`RPC '${e}' ${c} sending request:`,o),y.send(t,"POST",E,s,15)}))}T_(e,t,s){const o=Wp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const y=u.join("");Z(en,`Creating RPC '${e}' stream ${o}: ${y}`,m);const E=c.createWebChannel(y,m);this.I_(E);let S=!1,x=!1;const q=new FN({Ho:W=>{x?Z(en,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(S||(Z(en,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),Z(en,`RPC '${e}' stream ${o} sending:`,W),E.send(W))},Jo:()=>E.close()});return pu(E,gu.EventType.OPEN,(()=>{x||(Z(en,`RPC '${e}' stream ${o} transport opened.`),q.i_())})),pu(E,gu.EventType.CLOSE,(()=>{x||(x=!0,Z(en,`RPC '${e}' stream ${o} transport closed`),q.o_(),this.E_(E))})),pu(E,gu.EventType.ERROR,(W=>{x||(x=!0,Pu(en,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),q.o_(new oe($.UNAVAILABLE,"The operation could not be completed")))})),pu(E,gu.EventType.MESSAGE,(W=>{if(!x){const ee=W.data[0];pe(!!ee,16349);const te=ee,he=te?.error||te[0]?.error;if(he){Z(en,`RPC '${e}' stream ${o} received error:`,he);const me=he.status;let D=(function(ae){const I=Ot[ae];if(I!==void 0)return BS(I)})(me),ge=he.message;D===void 0&&(D=$.INTERNAL,ge="Unknown error status: "+me+" with message "+he.message),x=!0,q.o_(new oe(D,ge)),E.close()}else Z(en,`RPC '${e}' stream ${o} received:`,ee),q.__(ee)}})),Ro.u_(),setTimeout((()=>{q.s_()}),0),q}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return BT()}}function qN(r){return new Ro(r)}function C1(){return typeof window<"u"?window:null}function id(){return typeof document<"u"?document:null}function Jd(r){return new XC(r,!0)}Ro.c_=!1;class N1{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&Z("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const vE="PersistentStream";class D1{constructor(e,t,s,o,u,c,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new N1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===$.RESOURCE_EXHAUSTED?(Tt(t.toString()),Tt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Z(vE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Z(vE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HN extends D1{constructor(e,t,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ZC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return _e.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?_e.min():c.readTime?ln(c.readTime):_e.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Kp(this.serializer),t.addTarget=(function(u,c){let m;const p=c.target;if(m=_d(p)?{documents:XS(u,p)}:{query:JS(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=HS(u,c.resumeToken);const y=Hp(u,c.expectedCount);y!==null&&(m.expectedCount=y)}else if(c.snapshotVersion.compareTo(_e.min())>0){m.readTime=Go(u,c.snapshotVersion.toTimestamp());const y=Hp(u,c.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=eN(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Kp(this.serializer),t.removeTarget=e,this.K_(t)}}class GN extends D1{constructor(e,t,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=WC(e.writeResults,e.commitTime),s=ln(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Kp(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>Ed(this.serializer,s)))};this.K_(t)}}class KN{}class QN extends KN{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Wo(e,Gp(t,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe($.UNKNOWN,u.toString())}))}jo(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(e,Gp(t,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe($.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function YN(r,e,t,s){return new QN(r,e,t,s)}class XN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tt(t),this.aa=!1):Z("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ba="RemoteStore";class JN{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{Ta(this)&&(Z(ba,"Restarting streams for network reachability change."),await(async function(p){const y=de(p);y.Ea.add(4),await rc(y),y.Va.set("Unknown"),y.Ea.delete(4),await $d(y)})(this))}))})),this.Va=new XN(s,o)}}async function $d(r){if(Ta(r))for(const e of r.Ra)await e(!0)}async function rc(r){for(const e of r.Ra)await e(!1)}function Zd(r,e){const t=de(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Xg(t)?Yg(t):nl(t).O_()&&Qg(t,e))}function Qo(r,e){const t=de(r),s=nl(t);t.Ia.delete(e),s.O_()&&V1(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ta(t)&&t.Va.set("Unknown"))}function Qg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nl(r).Z_(e)}function V1(r,e){r.da.$e(e),nl(r).X_(e)}function Yg(r){r.da=new GC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),nl(r).start(),r.Va.ua()}function Xg(r){return Ta(r)&&!nl(r).x_()&&r.Ia.size>0}function Ta(r){return de(r).Ea.size===0}function O1(r){r.da=void 0}async function $N(r){r.Va.set("Online")}async function ZN(r){r.Ia.forEach(((e,t)=>{Qg(r,e)}))}async function WN(r,e){O1(r),Xg(r)?(r.Va.ha(e),Yg(r)):r.Va.set("Unknown")}async function eD(r,e,t){if(r.Va.set("Online"),e instanceof qS&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){Z(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Cd(r,s)}else if(e instanceof td?r.da.Xe(e):e instanceof FS?r.da.st(e):r.da.tt(e),!t.isEqual(_e.min()))try{const s=await E1(r.localStore);t.compareTo(s)>=0&&await(function(u,c){const m=u.da.Tt(c);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(St.EMPTY_BYTE_STRING,E.snapshotVersion)),V1(u,p);const S=new us(E.target,p,y,E.sequenceNumber);Qg(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,t)}catch(s){Z(ba,"Failed to raise snapshot:",s),await Cd(r,s)}}async function Cd(r,e,t){if(!gr(e))throw e;r.Ea.add(1),await rc(r),r.Va.set("Offline"),t||(t=()=>E1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Z(ba,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await $d(r)}))}function M1(r,e){return e().catch((t=>Cd(r,t,e)))}async function tl(r){const e=de(r),t=fr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:oa;for(;tD(e);)try{const o=await LN(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,nD(e,o)}catch(o){await Cd(e,o)}k1(e)&&P1(e)}function tD(r){return Ta(r)&&r.Ta.length<10}function nD(r,e){r.Ta.push(e);const t=fr(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function k1(r){return Ta(r)&&!fr(r).x_()&&r.Ta.length>0}function P1(r){fr(r).start()}async function iD(r){fr(r).ra()}async function sD(r){const e=fr(r);for(const t of r.Ta)e.ea(t.mutations)}async function rD(r,e,t){const s=r.Ta.shift(),o=kg.from(s,e,t);await M1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await tl(r)}async function aD(r,e){e&&fr(r).Y_&&await(async function(s,o){if((function(c){return FC(c)&&c!==$.ABORTED})(o.code)){const u=s.Ta.shift();fr(s).B_(),await M1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await tl(s)}})(r,e),k1(r)&&P1(r)}async function bE(r,e){const t=de(r);t.asyncQueue.verifyOperationInProgress(),Z(ba,"RemoteStore received new credentials");const s=Ta(t);t.Ea.add(3),await rc(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await $d(t)}async function eg(r,e){const t=de(r);e?(t.Ea.delete(2),await $d(t)):e||(t.Ea.add(2),await rc(t),t.Va.set("Unknown"))}function nl(r){return r.ma||(r.ma=(function(t,s,o){const u=de(t);return u.sa(),new HN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:$N.bind(null,r),Yo:ZN.bind(null,r),t_:WN.bind(null,r),J_:eD.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Xg(r)?Yg(r):r.Va.set("Unknown")):(await r.ma.stop(),O1(r))}))),r.ma}function fr(r){return r.fa||(r.fa=(function(t,s,o){const u=de(t);return u.sa(),new GN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:iD.bind(null,r),t_:aD.bind(null,r),ta:sD.bind(null,r),na:rD.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await tl(r)):(await r.fa.stop(),r.Ta.length>0&&(Z(ba,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Jg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const c=Date.now()+s,m=new Jg(e,t,c,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $g(r,e){if(Tt("AsyncQueue",`${e}: ${r}`),gr(r))return new oe($.UNAVAILABLE,`${e}: ${r}`);throw r}class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||re.comparator(t.key,s.key):(t,s)=>re.comparator(t.key,s.key),this.keyedMap=yu(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class EE{constructor(){this.ga=new st(re.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ue(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Yo{constructor(e,t,s,o,u,c,m,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new Yo(e,t,Co.emptySet(t),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class oD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class lD{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=de(t),u=o.queries;o.queries=TE(),u.forEach(((c,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new oe($.ABORTED,"Firestore shutting down"))}}function TE(){return new gs((r=>wS(r)),Hd)}async function uD(r,e){const t=de(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new oD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=$g(c,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ba.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Zg(t)}async function cD(r,e){const t=de(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const c=u.ba.indexOf(e);c>=0&&(u.ba.splice(c,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function hD(r,e){const t=de(r);let s=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const m of c.ba)m.Fa(o)&&(s=!0);c.wa=o}}s&&Zg(t)}function dD(r,e,t){const s=de(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(t);s.queries.delete(e)}function Zg(r){r.Ca.forEach((e=>{e.next()}))}var tg,SE;(SE=tg||(tg={})).Ma="default",SE.Cache="cache";class fD{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tg.Cache}}class j1{constructor(e){this.key=e}}class L1{constructor(e){this.key=e}}class mD{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ne(),this.mutatedKeys=Ne(),this.eu=RS(e),this.tu=new Co(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new EE,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const x=o.get(E),q=nc(this.query,S)?S:null,W=!!x&&this.mutatedKeys.has(x.key),ee=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let te=!1;x&&q?x.data.isEqual(q.data)?W!==ee&&(s.track({type:3,doc:q}),te=!0):this.su(x,q)||(s.track({type:2,doc:q}),te=!0,(p&&this.eu(q,p)>0||y&&this.eu(q,y)<0)&&(m=!0)):!x&&q?(s.track({type:0,doc:q}),te=!0):x&&!q&&(s.track({type:1,doc:x}),te=!0,(p||y)&&(m=!0)),te&&(q?(c=c.add(q),u=ee?u.add(E):u.delete(E)):(c=c.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const E=this.query.limitType==="F"?c.last():c.first();c=c.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:c,iu:s,Ss:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((E,S)=>(function(q,W){const ee=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{Vt:te})}};return ee(q)-ee(W)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Xa;return this.Xa=p,c.length!==0||y?{snapshot:new Yo(this.query,e.tu,u,c,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new EE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ne(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new L1(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new j1(s))})),t}cu(e){this.Za=e.ks,this.Ya=Ne();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const il="SyncEngine";class pD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class gD{constructor(e){this.key=e,this.hu=!1}}class yD{constructor(e,t,s,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new gs((m=>wS(m)),Hd),this.Iu=new Map,this.Eu=new Set,this.Ru=new st(re.comparator),this.Au=new Map,this.Vu=new Bg,this.du={},this.mu=new Map,this.fu=va.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _D(r,e,t=!0){const s=Wd(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await U1(s,e,t,!0),o}async function vD(r,e){const t=Wd(r);await U1(t,e,!0,!1)}async function U1(r,e,t,s){const o=await wd(r.localStore,Nn(e)),u=o.targetId,c=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await Wg(r,e,u,c==="current",o.resumeToken)),r.isPrimaryClient&&t&&Zd(r.remoteStore,o),m}async function Wg(r,e,t,s,o){r.pu=(S,x,q)=>(async function(ee,te,he,me){let D=te.view.ru(he);D.Ss&&(D=await $p(ee.localStore,te.query,!1).then((({documents:I})=>te.view.ru(I,D))));const ge=me&&me.targetChanges.get(te.targetId),Ee=me&&me.targetMismatches.get(te.targetId)!=null,ae=te.view.applyChanges(D,ee.isPrimaryClient,ge,Ee);return ng(ee,te.targetId,ae.au),ae.snapshot})(r,S,x,q);const u=await $p(r.localStore,e,!0),c=new mD(e,u.ks),m=c.ru(u.documents),p=sc.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=c.applyChanges(m,r.isPrimaryClient,p);ng(r,t,y.au);const E=new pD(e,t,c);return r.Tu.set(e,E),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),y.snapshot}async function bD(r,e,t){const s=de(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Hd(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ko(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Qo(s.remoteStore,o.targetId),Xo(s,o.targetId)})).catch(pr)):(Xo(s,o.targetId),await Ko(s.localStore,o.targetId,!0))}async function ED(r,e){const t=de(r),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Qo(t.remoteStore,s.targetId))}async function TD(r,e,t){const s=iy(r);try{const o=await(function(c,m){const p=de(c),y=Je.now(),E=m.reduce(((q,W)=>q.add(W.key)),Ne());let S,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let W=Rn(),ee=Ne();return p.xs.getEntries(q,E).next((te=>{W=te,W.forEach(((he,me)=>{me.isValidDocument()||(ee=ee.add(he))}))})).next((()=>p.localDocuments.getOverlayedDocuments(q,W))).next((te=>{S=te;const he=[];for(const me of m){const D=zC(me,S.get(me.key).overlayedDocument);D!=null&&he.push(new yr(me.key,D,yS(D.value.mapValue),Cn.exists(!0)))}return p.mutationQueue.addMutationBatch(q,y,he,m)})).next((te=>{x=te;const he=te.applyToLocalDocumentSet(S,ee);return p.documentOverlayCache.saveOverlays(q,te.batchId,he)}))})).then((()=>({batchId:x.batchId,changes:NS(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let y=c.du[c.currentUser.toKey()];y||(y=new st(Ae)),y=y.insert(m,p),c.du[c.currentUser.toKey()]=y})(s,o.batchId,t),await _r(s,o.changes),await tl(s.remoteStore)}catch(o){const u=$g(o,"Failed to persist write");t.reject(u)}}async function z1(r,e){const t=de(r);try{const s=await PN(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Au.get(u);c&&(pe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?pe(c.hu,14607):o.removedDocuments.size>0&&(pe(c.hu,42227),c.hu=!1))})),await _r(t,s,e)}catch(s){await pr(s)}}function AE(r,e,t){const s=de(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=de(c);p.onlineState=m;let y=!1;p.queries.forEach(((E,S)=>{for(const x of S.ba)x.va(m)&&(y=!0)})),y&&Zg(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function SD(r,e,t){const s=de(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new st(re.comparator);c=c.insert(u,gt.newNoDocument(u,_e.min()));const m=Ne().add(u),p=new ic(_e.min(),new Map,new st(Ae),c,m);await z1(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),ny(s)}else await Ko(s.localStore,e,!1).then((()=>Xo(s,e,t))).catch(pr)}async function AD(r,e){const t=de(r),s=e.batch.batchId;try{const o=await kN(t.localStore,e);ty(t,s,null),ey(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await _r(t,o)}catch(o){await pr(o)}}async function xD(r,e,t){const s=de(r);try{const o=await(function(c,m){const p=de(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((S=>(pe(S!==null,37113),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);ty(s,e,t),ey(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await _r(s,o)}catch(o){await pr(o)}}function ey(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function ty(r,e,t){const s=de(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Xo(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||B1(r,s)}))}function B1(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(Qo(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),ny(r))}function ng(r,e,t){for(const s of t)s instanceof j1?(r.Vu.addReference(s.key,e),wD(r,s)):s instanceof L1?(Z(il,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||B1(r,s.key)):ue(19791,{wu:s})}function wD(r,e){const t=e.key,s=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(s)||(Z(il,"New document in limbo: "+t),r.Eu.add(s),ny(r))}function ny(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new re(Ge.fromString(e)),s=r.fu.next();r.Au.set(s,new gD(t)),r.Ru=r.Ru.insert(t,s),Zd(r.remoteStore,new us(Nn(qd(t.path)),s,"TargetPurposeLimboResolution",yn.ce))}}async function _r(r,e,t){const s=de(r),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,e,t).then((y=>{if((y||t)&&s.isPrimaryClient){const E=y?!y.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Hg.Es(p.targetId,y);u.push(E)}})))})),await Promise.all(c),s.Pu.J_(o),await(async function(p,y){const E=de(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>L.forEach(y,(x=>L.forEach(x.Ts,(q=>E.persistence.referenceDelegate.addReference(S,x.targetId,q))).next((()=>L.forEach(x.Is,(q=>E.persistence.referenceDelegate.removeReference(S,x.targetId,q)))))))))}catch(S){if(!gr(S))throw S;Z(Gg,"Failed to update sequence numbers: "+S)}for(const S of y){const x=S.targetId;if(!S.fromCache){const q=E.vs.get(x),W=q.snapshotVersion,ee=q.withLastLimboFreeSnapshotVersion(W);E.vs=E.vs.insert(x,ee)}}})(s.localStore,u))}async function ID(r,e){const t=de(r);if(!t.currentUser.isEqual(e)){Z(il,"User change. New user:",e.toKey());const s=await b1(t.localStore,e);t.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe($.CANCELLED,c))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _r(t,s.Ns)}}function RD(r,e){const t=de(r),s=t.Au.get(e);if(s&&s.hu)return Ne().add(s.key);{let o=Ne();const u=t.Iu.get(e);if(!u)return o;for(const c of u){const m=t.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}async function CD(r,e){const t=de(r),s=await $p(t.localStore,e.query,!0),o=e.view.cu(s);return t.isPrimaryClient&&ng(t,e.targetId,o.au),o}async function ND(r,e){const t=de(r);return S1(t.localStore,e).then((s=>_r(t,s)))}async function DD(r,e,t,s){const o=de(r),u=await(function(m,p){const y=de(m),E=de(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",(S=>E.Xn(S,p).next((x=>x?y.localDocuments.getDocuments(S,x):L.resolve(null)))))})(o.localStore,e);u!==null?(t==="pending"?await tl(o.remoteStore):t==="acknowledged"||t==="rejected"?(ty(o,e,s||null),ey(o,e),(function(m,p){de(de(m).mutationQueue).nr(p)})(o.localStore,e)):ue(6720,"Unknown batchState",{bu:t}),await _r(o,u)):Z(il,"Cannot apply mutation batch with id: "+e)}async function VD(r,e){const t=de(r);if(Wd(t),iy(t),e===!0&&t.gu!==!0){const s=t.sharedClientState.getAllActiveQueryTargets(),o=await xE(t,s.toArray());t.gu=!0,await eg(t.remoteStore,!0);for(const u of o)Zd(t.remoteStore,u)}else if(e===!1&&t.gu!==!1){const s=[];let o=Promise.resolve();t.Iu.forEach(((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?s.push(c):o=o.then((()=>(Xo(t,c),Ko(t.localStore,c,!0)))),Qo(t.remoteStore,c)})),await o,await xE(t,s),(function(c){const m=de(c);m.Au.forEach(((p,y)=>{Qo(m.remoteStore,y)})),m.Vu.zr(),m.Au=new Map,m.Ru=new st(re.comparator)})(t),t.gu=!1,await eg(t.remoteStore,!1)}}async function xE(r,e,t){const s=de(r),o=[],u=[];for(const c of e){let m;const p=s.Iu.get(c);if(p&&p.length!==0){m=await wd(s.localStore,Nn(p[0]));for(const y of p){const E=s.Tu.get(y),S=await CD(s,E);S.snapshot&&u.push(S.snapshot)}}else{const y=await T1(s.localStore,c);m=await wd(s.localStore,y),await Wg(s,F1(y),c,!1,m.resumeToken)}o.push(m)}return s.Pu.J_(u),o}function F1(r){return xS(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function OD(r){return(function(t){return de(de(t).persistence).hs()})(de(r).localStore)}async function MD(r,e,t,s){const o=de(r);if(o.gu)return void Z(il,"Ignoring unexpected query state notification.");const u=o.Iu.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=await S1(o.localStore,IS(u[0])),m=ic.createSynthesizedRemoteEventForCurrentChange(e,t==="current",St.EMPTY_BYTE_STRING);await _r(o,c,m);break}case"rejected":await Ko(o.localStore,e,!0),Xo(o,e,s);break;default:ue(64155,t)}}async function kD(r,e,t){const s=Wd(r);if(s.gu){for(const o of e){if(s.Iu.has(o)&&s.sharedClientState.isActiveQueryTarget(o)){Z(il,"Adding an already active target "+o);continue}const u=await T1(s.localStore,o),c=await wd(s.localStore,u);await Wg(s,F1(u),c.targetId,!1,c.resumeToken),Zd(s.remoteStore,c)}for(const o of t)s.Iu.has(o)&&await Ko(s.localStore,o,!1).then((()=>{Qo(s.remoteStore,o),Xo(s,o)})).catch(pr)}}function Wd(r){const e=de(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=z1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SD.bind(null,e),e.Pu.J_=hD.bind(null,e.eventManager),e.Pu.yu=dD.bind(null,e.eventManager),e}function iy(r){const e=de(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xD.bind(null,e),e}class Ku{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return v1(this.persistence,new _1,e.initialUser,this.serializer)}Cu(e){return new Fg(Xd.Vi,this.serializer)}Du(e){return new R1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ku.provider={build:()=>new Ku};class PD extends Ku{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){pe(this.persistence.referenceDelegate instanceof xd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new d1(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Fg((s=>xd.Vi(s,t)),this.serializer)}}class q1 extends Ku{constructor(e,t,s){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await iy(this.xu.syncEngine),await tl(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return v1(this.persistence,new _1,e.initialUser,this.serializer)}Fu(e,t){const s=this.persistence.referenceDelegate.garbageCollector;return new d1(s,e.asyncQueue,t)}Mu(e,t){const s=new zR(t,this.persistence);return new UR(e.asyncQueue,s)}Cu(e){const t=y1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new qg(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,C1(),id(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new R1}}class jD extends q1{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof _p&&(this.sharedClientState.syncEngine={So:DD.bind(null,t),Do:MD.bind(null,t),Co:kD.bind(null,t),hs:OD.bind(null,t),bo:ND.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async s=>{await VD(this.xu.syncEngine,s),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start():s||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(s&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():s||this.indexBackfillerScheduler.stop())}))}Du(e){const t=C1();if(!_p.v(t))throw new oe($.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=y1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _p(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Qu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>AE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ID.bind(null,this.syncEngine),await eg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lD})()}createDatastore(e){const t=Jd(e.databaseInfo.databaseId),s=qN(e.databaseInfo);return YN(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,c,m){return new JN(s,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>AE(this.syncEngine,t,0)),(function(){return _E.v()?new _E:new UN})())}createSyncEngine(e,t){return(function(o,u,c,m,p,y,E){const S=new yD(o,u,c,m,p,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=de(t);Z(ba,"RemoteStore shutting down."),s.Ea.add(5),await rc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qu.provider={build:()=>new Qu};class LD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const mr="FirestoreClient";class UD{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=_g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{Z(mr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(Z(mr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=$g(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function bp(r,e){r.asyncQueue.verifyOperationInProgress(),Z(mr,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await b1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function wE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await zD(r);Z(mr,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>bE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>bE(e.remoteStore,o))),r._onlineComponents=e}async function zD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Z(mr,"Using user provided OfflineComponentProvider");try{await bp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Pu("Error using user provided cache. Falling back to memory cache: "+t),await bp(r,new Ku)}}else Z(mr,"Using default OfflineComponentProvider"),await bp(r,new PD(void 0));return r._offlineComponents}async function H1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Z(mr,"Using user provided OnlineComponentProvider"),await wE(r,r._uninitializedComponentsProvider._online)):(Z(mr,"Using default OnlineComponentProvider"),await wE(r,new Qu))),r._onlineComponents}function BD(r){return H1(r).then((e=>e.syncEngine))}async function FD(r){const e=await H1(r),t=e.eventManager;return t.onListen=_D.bind(null,e.syncEngine),t.onUnlisten=bD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ED.bind(null,e.syncEngine),t}function qD(r,e,t={}){const s=new cs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,y){const E=new LD({next:x=>{E.Nu(),c.enqueueAndForget((()=>cD(u,S)));const q=x.docs.has(m);!q&&x.fromCache?y.reject(new oe($.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&x.fromCache&&p&&p.source==="server"?y.reject(new oe($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),S=new fD(qd(m.path),E,{includeMetadataChanges:!0,Ka:!0});return uD(u,S)})(await FD(r),r.asyncQueue,e,t,s))),s.promise}function HD(r,e){const t=new cs;return r.asyncQueue.enqueueAndForget((async()=>TD(await BD(r),e,t))),t.promise}function G1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const GD="ComponentProvider",IE=new Map;function KD(r,e,t,s,o){return new mC(r,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,G1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const QD="firestore.googleapis.com",RE=!0;class CE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QD,this.ssl=RE}else this.host=e.host,this.ssl=e.ssl??RE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h1)throw new oe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=G1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sy{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new IR;switch(s.type){case"firstParty":return new NR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=IE.get(t);s&&(Z(GD,"Removing Datastore"),IE.delete(t),s.terminate())})(this),Promise.resolve()}}class ry{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ry(this.firestore,e,this._query)}}class Ut{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Wu(t,Ut._jsonSchema))return new Ut(e,s||null,new re(Ge.fromString(t.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Mt("string",Ut._jsonSchemaVersion),referencePath:Mt("string")};class cr extends ry{constructor(e,t,s){super(e,t,qd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new re(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function YD(r,e,...t){if(r=ci(r),HT("collection","path",e),r instanceof sy){const s=Ge.fromString(e,...t);return vb(s),new cr(r,null,s)}{if(!(r instanceof Ut||r instanceof cr))throw new oe($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ge.fromString(e,...t));return vb(s),new cr(r.firestore,null,s)}}function Ep(r,e,...t){if(r=ci(r),arguments.length===1&&(e=_g.newId()),HT("doc","path",e),r instanceof sy){const s=Ge.fromString(e,...t);return _b(s),new Ut(r,null,new re(s))}{if(!(r instanceof Ut||r instanceof cr))throw new oe($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ge.fromString(e,...t));return _b(s),new Ut(r.firestore,r instanceof cr?r.converter:null,new re(s))}}const NE="AsyncQueue";class DE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new N1(this,"async_queue_retry"),this._c=()=>{const s=id();s&&Z(NE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=id();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=id();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!gr(e))throw e;Z(NE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Tt("INTERNAL UNHANDLED ERROR: ",VE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Jg.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ue(47125,{Pc:VE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function VE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ay extends sy{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new DE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DE(e),this._firestoreClient=void 0,await e}}}function XD(r,e,t){t||(t=gd);const s=ag(r,"firestore");if(s.isInitialized(t)){const o=s.getImmediate({identifier:t}),u=s.getOptions(t);if(ha(u,e))return o;throw new oe($.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new oe($.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h1)throw new oe($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Jo(e.host)&&XE(e.host),s.initialize({options:e,instanceIdentifier:t})}function K1(r){if(r._terminated)throw new oe($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||JD(r),r._firestoreClient}function JD(r){const e=r._freezeSettings(),t=KD(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new UD(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(St.fromBase64String(e))}catch(t){throw new oe($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Gn(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Mt("string",Gn._jsonSchemaVersion),bytes:Mt("string")};class Q1{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oy{constructor(e){this._methodName=e}}class Li{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(Wu(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Mt("string",Li._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class ui{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wu(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ui(e.vectorValues);throw new oe($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:Mt("string",ui._jsonSchemaVersion),vectorValues:Mt("object")};const $D=/^__.*__$/;class ZD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,t,this.fieldTransforms):new el(e,this.data,t,this.fieldTransforms)}}function Y1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{dataSource:r})}}class ly{constructor(e,t,s,o,u,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ly({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Nd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Y1(this.dataSource)&&$D.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class WD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Jd(e)}createContext(e,t,s,o=!1){return new ly({dataSource:e,methodName:t,targetDoc:s,path:ft.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eV(r){const e=r._freezeSettings(),t=Jd(r._databaseId);return new WD(r._databaseId,!!e.ignoreUndefinedProperties,t)}function tV(r,e,t,s,o,u={}){const c=r.createContext(u.merge||u.mergeFields?2:0,e,t,o);Z1("Data must be an object, but it was:",c,s);const m=J1(s,c);let p,y;if(u.merge)p=new Kn(c.fieldMask),y=c.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const x=cy(e,S,t);if(!c.contains(x))throw new oe($.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);sV(E,x)||E.push(x)}p=new Kn(E),y=c.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,y=c.fieldTransforms;return new ZD(new gn(m),p,y)}class uy extends oy{_toFieldTransform(e){return new jS(e.path,new Fo)}isEqual(e){return e instanceof uy}}function X1(r,e){if($1(r=ci(r)))return Z1("Unsupported field value:",e,r),J1(r,e);if(r instanceof oy)return(function(s,o){if(!Y1(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let p=X1(m,o.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=ci(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Je.fromDate(s);return{timestampValue:Go(o.serializer,u)}}if(s instanceof Je){const u=new Je(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Go(o.serializer,u)}}if(s instanceof Li)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Gn)return{bytesValue:HS(o.serializer,s._byteString)};if(s instanceof Ut){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ui)return(function(c,m){const p=c instanceof ui?c.toArray():c;return{mapValue:{fields:{[Ig]:{stringValue:Rg},[Lo]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Vg(m.serializer,E)}))}}}}}})(s,o);if(t1(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${vg(s)}`)})(r,e)}function J1(r,e){const t={};return lS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(r,((s,o)=>{const u=X1(o,e.childContextForField(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function $1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Je||r instanceof Li||r instanceof Gn||r instanceof Ut||r instanceof oy||r instanceof ui||t1(r))}function Z1(r,e,t){if(!$1(t)||!GT(t)){const s=vg(t);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function cy(r,e,t){if((e=ci(e))instanceof Q1)return e._internalPath;if(typeof e=="string")return iV(r,e);throw Nd("Field path arguments must be of type string or ",r,!1,void 0,t)}const nV=new RegExp("[~\\*/\\[\\]]");function iV(r,e,t){if(e.search(nV)>=0)throw Nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Q1(...e.split("."))._internalPath}catch{throw Nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Nd(r,e,t,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new oe($.INVALID_ARGUMENT,m+r+p)}function sV(r,e){return r.some((t=>t.isEqual(e)))}class rV{convertValue(e,t="none"){switch(hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ea(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[Lo].arrayValue?.values?.map((s=>dt(s.doubleValue)));return new ui(t)}convertGeoPoint(e){return new Li(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=zd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const t=fs(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ge.fromString(e);pe(e1(s),9688,{name:e});const o=new pa(s.get(1),s.get(3)),u=new re(s.popFirst(5));return o.isEqual(t)||Tt(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}class aV extends rV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}}function OE(){return new uy("serverTimestamp")}const ME="@firebase/firestore",kE="4.10.0";class W1{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(cy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class oV extends W1{data(){return super.data()}}function lV(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class uV{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=fV(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function cV(r){return new uV(r)}class hV{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Qu.provider,this._offlineComponentProvider={build:t=>new q1(t,e?.cacheSizeBytes,this.forceOwnership)}}}class dV{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Qu.provider,this._offlineComponentProvider={build:t=>new jD(t,e?.cacheSizeBytes)}}}function fV(r){return new hV(r?.forceOwnership)}function mV(){return new dV}class bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends W1{constructor(e,t,s,o,u,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(cy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ca._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Mt("string",ca._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class sd extends ca{data(e={}){return super.data(e)}}class Vu{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new bu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new sd(this._firestore,this._userDataWriter,s.key,s,new bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new sd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new sd(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),E=c.indexOf(m.doc.key)),{type:pV(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pV(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:r})}}Vu._jsonSchemaVersion="firestore/querySnapshot/1.0",Vu._jsonSchema={type:Mt("string",Vu._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};function gV(r){r=hd(r,Ut);const e=hd(r.firestore,ay),t=K1(e);return qD(t,r._key).then((s=>_V(e,r,s)))}function PE(r,e,t){r=hd(r,Ut);const s=hd(r.firestore,ay),o=lV(r.converter,e,t),u=eV(s);return yV(s,[tV(u,"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Cn.none())])}function yV(r,e){const t=K1(r);return HD(t,e)}function _V(r,e,t){const s=t.docs.get(e._key),o=new aV(r);return new ca(r,o,e._key,s,new bu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){xR($o),No(new da("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new ay(new RR(s.getProvider("auth-internal")),new DR(c,s.getProvider("app-check-internal")),pC(c,o),c);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),or(ME,kE,e),or(ME,kE,"esm2020")})();const vV={apiKey:"AIzaSyACUOe0aisPsX4UE8kCKhlOEab0PmNOXFo",authDomain:"mcfpeaifmc.firebaseapp.com",databaseURL:"https://mcfpeaifmc-default-rtdb.firebaseio.com",projectId:"mcfpeaifmc",storageBucket:"mcfpeaifmc.firebasestorage.app",messagingSenderId:"349371650104",appId:"1:349371650104:web:ad260e17e9cfd31ac456cd",measurementId:"G-LKC910C004"},eA=fI().length?iT():nT(vV),bV=SR(eA),EV=new as,Tp=XD(eA,{experimentalForceLongPolling:!0,localCache:cV({tabManager:mV()})}),jE="postulantes",LE=(r,e)=>{const t=e instanceof Error?{message:e.message,code:e.code,stack:e.stack}:String(e);console.error(r,JSON.parse(JSON.stringify(t)))},tA={getFicha:async r=>{try{const e=Ep(Tp,jE,r),t=await gV(e);if(t.exists()){const s=t.data(),o=JSON.parse(JSON.stringify(s));return s.fecha_actualizacion?.toDate&&(o.fecha_actualizacion=s.fecha_actualizacion.toDate().toISOString()),s.createdAt?.toDate&&(o.createdAt=s.createdAt.toDate().toISOString()),o}return null}catch(e){throw LE("Error Firestore Get:",e),e.code==="unavailable"||!navigator.onLine?new Error("El sistema est operando en modo offline."):new Error("Error al consultar la ficha.")}},updateFicha:async(r,e)=>{try{const t=Ep(Tp,jE,r),s={...e,fecha_actualizacion:OE()};return await PE(t,s,{merge:!0}),!0}catch(t){throw LE("[Firestore] Error al guardar:",t),new Error("No se pudo sincronizar el registro.")}},saveLog:async r=>{try{const e=YD(Tp,"logs"),t=Ep(e);await PE(t,{...r,timestamp:OE()})}catch{}}},UE=({onLogin:r})=>{const[e,t]=ot.useState(!1),[s,o]=ot.useState(null),u=async()=>{t(!0),o(null);try{const m=(await V2(bV,EV)).user,p={uid:m.uid,email:m.email||"No email provided",displayName:m.displayName||"No name provided",photoURL:m.photoURL};r(p)}catch(c){o(c.message)}finally{t(!1)}};return v.jsxs("div",{className:"bg-[#f0f2f5] text-black dark:bg-gradient-to-b dark:from-[#1a237e] dark:to-[#0c0f2e] dark:text-white min-h-screen flex flex-col font-sans",children:[v.jsx("header",{className:"w-full py-6 px-6 flex items-center justify-center",children:v.jsx("h1",{className:"text-2xl font-bold tracking-wider",children:"Inicio de Sesin"})}),v.jsxs("main",{className:"flex-grow flex flex-col items-center justify-center px-4 text-center",children:[v.jsx("div",{className:"mb-8 text-blue-400",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-32 h-32 mx-auto",children:v.jsx("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",clipRule:"evenodd"})})}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-10",children:"Accede a tu cuenta."}),v.jsx("div",{className:"flex justify-center",children:v.jsxs("button",{onClick:u,disabled:e,className:"inline-flex items-center justify-center gap-3 bg-[#4285F4] hover:bg-[#357ae8] active:scale-[0.98] transition-all py-3 px-6 rounded-lg text-white font-medium shadow-md text-base w-full",children:[e?v.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):v.jsx("div",{className:"bg-white p-1 rounded-full flex items-center justify-center",children:v.jsxs("svg",{height:"20",viewBox:"0 0 24 24",width:"20",children:[v.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),v.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),v.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),v.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}),v.jsx("span",{children:e?"CONECTANDO...":"Continuar con Google"})]})}),s&&v.jsx("p",{className:"text-red-400 text-sm mt-4",children:s})]})]})},TV=({user:r,onLogout:e,onStartRegistration:t})=>v.jsxs("div",{className:"p-6 md:p-12 space-y-10 animate-fadeIn bg-white rounded-[2rem] shadow-xl border border-slate-100",children:[v.jsxs("div",{className:"flex flex-col space-y-2",children:[v.jsx("h2",{className:"text-3xl font-extrabold tracking-tight text-slate-800",children:"Panel de Gestin"}),v.jsxs("p",{className:"text-slate-500 font-medium",children:["Bienvenido(a), ",v.jsx("span",{className:"text-blue-600 font-bold",children:r?.displayName})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("button",{onClick:t,className:"group flex flex-col items-start p-8 bg-blue-600 text-white rounded-[2rem] transition-all hover:bg-blue-700 hover:scale-[1.02] active:scale-95 shadow-xl shadow-blue-100",children:[v.jsx("div",{className:"bg-white/20 p-3 rounded-2xl mb-4 group-hover:rotate-12 transition-transform",children:v.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M12 4v16m8-8H4"})})}),v.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"Nueva Ficha"}),v.jsx("span",{className:"text-blue-100 text-sm mt-1",children:"Iniciar registro de postulante"})]}),v.jsxs("button",{className:"group flex flex-col items-start p-8 bg-slate-800 text-white rounded-[2rem] transition-all hover:bg-slate-900 opacity-90 cursor-not-allowed",children:[v.jsx("div",{className:"bg-white/10 p-3 rounded-2xl mb-4",children:v.jsx("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),v.jsx("span",{className:"text-xl font-black uppercase tracking-tight text-slate-400",children:"Informes"}),v.jsx("span",{className:"text-slate-500 text-sm mt-1 italic",children:"Mdulo en mantenimiento"})]})]}),v.jsxs("div",{className:"p-6 bg-slate-50 rounded-3xl border border-slate-100 flex items-center gap-6",children:[v.jsx("div",{className:"bg-amber-100 text-amber-600 p-3 rounded-2xl",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest leading-none",children:"Recordatorio"}),v.jsx("p",{className:"text-sm font-bold text-slate-700 tracking-tight",children:"Recuerde verificar la cdula antes de iniciar el registro."})]})]})]}),SV=({onBack:r,onSuccess:e})=>{const[t,s]=ot.useState(""),[o,u]=ot.useState(""),[c,m]=ot.useState(!1),p=()=>{const E=Math.floor(1e3+Math.random()*9e3).toString();s(E),m(!1)},y=()=>{o===t&&t!==""?e():(m(!0),u(""))};return v.jsxs("div",{className:"p-8 flex flex-col items-center space-y-8 animate-fadeIn",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Validacin de Usuario"}),v.jsx("p",{className:"text-slate-500",children:"Paso 1: Seguridad del Operador"})]}),v.jsx("div",{className:"bg-slate-100 p-8 rounded-2xl w-full max-w-sm text-center border border-slate-200",children:t?v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"p-4 bg-white border-2 border-dashed border-indigo-300 rounded-lg",children:v.jsx("span",{className:"text-4xl font-mono font-bold tracking-[0.5em] text-indigo-600",children:t})}),v.jsx("p",{className:"text-xs text-slate-400",children:"Memoriza este cdigo e ingrsalo debajo."}),v.jsx("input",{type:"text",maxLength:4,value:o,onChange:E=>u(E.target.value.replace(/\D/g,"")),placeholder:"Ingrese cdigo",className:`w-full text-center text-2xl font-mono p-3 border-2 rounded-xl focus:outline-none focus:ring-2 ${c?"border-red-500 focus:ring-red-200":"border-slate-200 focus:ring-indigo-200"}`}),c&&v.jsx("p",{className:"text-red-500 text-xs font-bold",children:"Cdigo incorrecto. Intntelo de nuevo."}),v.jsx("button",{onClick:y,className:"w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg",children:"Ingresar Ficha"})]}):v.jsx("button",{onClick:p,className:"bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors w-full shadow-lg",children:"Generar Cdigo Secreto"})}),v.jsx("button",{onClick:r,className:"text-slate-500 hover:text-slate-800 font-medium transition-colors",children:" Volver al Panel"})]})},AV=r=>({documentNumber:r.documentNumber||"",documentType:r.documentType||"Cdula de ciudadana",countryCode:r.countryCode||"+57",estado:r.estado||"Pendiente",phoneNumber:r.phoneNumber||"",fichaId:r.fichaId||"",createdAt:r.createdAt||"",fecha_actualizacion:r.fecha_actualizacion||"",createdBy:r.createdBy||"",nombre:r.grupo1_personal?.nombre||"",apellidos:r.grupo1_personal?.apellidos||"",fechaNacimiento:r.grupo1_personal?.fechanacimiento||"",edad:r.grupo1_personal?.edad||"",nacionalidad:r.grupo1_personal?.nacionalidad||"Colombiano(a)",direccion:r.grupo2_ubicacion?.direccion||"",barrio:r.grupo2_ubicacion?.barrio||"",municipio:r.grupo2_ubicacion?.municipio||"",departamento:r.grupo2_ubicacion?.departamento||"",estrato:r.grupo2_ubicacion?.estrato||"",telefonoFijo:r.grupo2_ubicacion?.telefonoFijo||"",emailPersonal:r.grupo2_ubicacion?.email||"",esMadreCabezaHogar:r.grupo3_socioeconomico?.esMadreCabezaHogar||"No",estadoCivil:r.grupo3_socioeconomico?.estadoCivil||"Soltero(a)",nivelEstudios:r.grupo3_socioeconomico?.nivelEstudios||"Bachillerato",numeroHijos:r.grupo3_socioeconomico?.numeroHijos||"0",ocupacion:r.grupo3_socioeconomico?.ocupacion||"",personasACargo:r.grupo3_socioeconomico?.personasACargo||"0",tipoVivienda:r.grupo3_socioeconomico?.tipoVivienda||"Propia",zonaVivienda:r.grupo3_socioeconomico?.zonaVivienda||"Urbana",grupoFamiliar:r.grupo3_socioeconomico?.grupoFamiliar||[],afiliadoSalud:r.grupo4_seguridad_social?.afiliadoSalud||"S",condicionMedica:r.grupo4_seguridad_social?.condicionMedica||"No",cotizaPension:r.grupo4_seguridad_social?.cotizaPension||"No",cualCondicion:r.grupo4_seguridad_social?.cualCondicion||"",discapacidad:r.grupo4_seguridad_social?.discapacidad||"No",eps:r.grupo4_seguridad_social?.eps||"",fondoPension:r.grupo4_seguridad_social?.fondoPension||"",regimenSalud:r.grupo4_seguridad_social?.regimenSalud||"Contributivo",tipoDiscapacidad:r.grupo4_seguridad_social?.tipoDiscapacidad||"",cajaCompensacion:r.grupo4_seguridad_social?.cajaCompensacion||"",autorizaTratamiento:r.grupo5_adicional?.autorizaTratamiento??!0,cualBeneficio:r.grupo5_adicional?.cualBeneficio||"",observaciones:r.grupo5_adicional?.observaciones||"",poblacionVulnerable:r.grupo5_adicional?.poblacionVulnerable||"Ninguna",recibeBeneficio:r.grupo3_socioeconomico?.recibeBeneficio||"No",estudiosRealizados:r.grupo5_adicional?.estudiosRealizados||"",profesion:r.grupo5_adicional?.profesion||""}),xV=({user:r,onBack:e,onFichaFound:t,onViewSummary:s})=>{const[o,u]=ot.useState(""),[c,m]=ot.useState("Cdula de ciudadana"),[p,y]=ot.useState(""),[E,S]=ot.useState(""),[x,q]=ot.useState(!1),[W,ee]=ot.useState(null),[te,he]=ot.useState(!1),[me,D]=ot.useState(null),ge=async()=>{if(o.trim()){q(!0),he(!1),D(null);try{const ae=await tA.getFicha(o);if(ae){const I=AV(ae);y(I.documentNumber),S(I.phoneNumber),m(I.documentType),ee(I),he(!0)}else y(o),S(""),he(!1)}catch(ae){D(ae.message||"Error de conexin inesperado.")}finally{q(!1)}}},Ee=()=>{if(te&&W)t(W);else{if(!p||!E){alert("Por favor ingrese el nmero de documento y el celular para iniciar el registro.");return}const ae={documentNumber:p,documentType:c,countryCode:"+57",estado:"Pendiente",phoneNumber:E,nombre:"",apellidos:"",fechaNacimiento:"",edad:"",nacionalidad:"Colombiano(a)",direccion:"",barrio:"",municipio:"",departamento:"",estrato:"",telefonoFijo:"",emailPersonal:"",esMadreCabezaHogar:"No",estadoCivil:"Soltero(a)",nivelEstudios:"Bachillerato",numeroHijos:"0",ocupacion:"",personasACargo:"0",tipoVivienda:"Propia",zonaVivienda:"Urbana",grupoFamiliar:[],afiliadoSalud:"S",condicionMedica:"No",cotizaPension:"No",cualCondicion:"",discapacidad:"No",eps:"",fondoPension:"",regimenSalud:"Contributivo",tipoDiscapacidad:"",cajaCompensacion:"",autorizaTratamiento:!0,cualBeneficio:"",observaciones:"",poblacionVulnerable:"Ninguna",recibeBeneficio:"No",estudiosRealizados:"",profesion:"",createdBy:r?.email||"sistema"};t(ae)}};return v.jsxs("div",{className:"flex flex-col w-full max-w-lg mx-auto bg-white rounded-[3rem] shadow-2xl overflow-hidden animate-fadeIn p-5 md:p-8 space-y-5",children:[v.jsxs("div",{className:"flex justify-between items-start px-2",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("h2",{className:"text-xl md:text-3xl font-black text-slate-900 tracking-tighter uppercase leading-none",children:"Buscar Postulante"}),v.jsx("p",{className:"text-slate-400 text-[10px] md:text-sm font-medium",children:"Ingrese los datos para verificar o iniciar un registro."})]}),v.jsx("button",{onClick:e,className:"p-2 text-slate-300 hover:text-slate-600 transition-colors",children:v.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsx("div",{className:"w-full h-[1px] bg-slate-100"}),me&&v.jsx("div",{className:"px-2",children:v.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-3 rounded-2xl flex items-center gap-3",children:[v.jsx("svg",{className:"w-5 h-5 text-amber-600",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),v.jsx("p",{className:"text-[10px] font-bold text-amber-800 uppercase leading-tight",children:me})]})}),v.jsx("div",{className:"px-2",children:v.jsxs("div",{className:"flex items-center bg-slate-50 border border-slate-100 rounded-full p-1.5 focus-within:ring-2 focus-within:ring-blue-500/20 transition-all",children:[v.jsx("div",{className:"pl-4 pr-2",children:v.jsx("svg",{className:"h-4 w-4 md:h-5 md:w-5 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),v.jsx("input",{type:"text",placeholder:"Buscar por cdula...",value:o,onChange:ae=>u(ae.target.value),onKeyPress:ae=>ae.key==="Enter"&&ge(),className:"flex-grow min-w-0 bg-transparent border-none focus:ring-0 text-slate-600 font-bold placeholder-slate-300 text-xs md:text-base py-2.5"}),v.jsx("button",{onClick:ge,disabled:x,className:"flex-shrink-0 bg-blue-600 hover:bg-blue-700 text-white px-5 md:px-8 py-2.5 rounded-full text-[9px] md:text-[11px] font-black uppercase tracking-widest transition-all shadow-md active:scale-95",children:x?"...":"BUSCAR"})]})}),v.jsx("div",{className:"px-1",children:v.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-[2.2rem] p-5 md:p-8 space-y-5",children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Tipo de Documento"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{value:c,onChange:ae=>m(ae.target.value),className:"w-full bg-white border border-slate-100 rounded-2xl p-3.5 text-xs md:text-sm font-bold text-slate-700 outline-none appearance-none cursor-pointer pr-10",children:[v.jsx("option",{children:"Cdula de ciudadana"}),v.jsx("option",{children:"Cdula de extranjera"}),v.jsx("option",{children:"Pasaporte"})]}),v.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M19 9l-7 7-7-7"})})})]})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Nmero de Documento"}),v.jsx("input",{type:"text",value:p,onChange:ae=>y(ae.target.value),placeholder:"72167569",className:"w-full bg-white border border-slate-100 rounded-2xl p-3.5 text-xs md:text-sm font-bold text-slate-700 outline-none"})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Nmero de Celular"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("div",{className:"bg-blue-50 border border-blue-100 px-4 py-3.5 rounded-2xl flex items-center justify-center font-black text-blue-900 text-[10px] md:text-sm",children:"+57"}),v.jsx("input",{type:"text",value:E,onChange:ae=>S(ae.target.value),placeholder:"3XXXXXXXXX",className:"flex-grow min-w-0 bg-white border border-slate-100 rounded-2xl p-3.5 text-xs md:text-sm font-bold text-slate-700 outline-none"})]})]})]})}),v.jsx("div",{className:"px-4 md:px-2 pt-2",children:v.jsx("button",{onClick:Ee,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 text-white py-4 md:py-5 rounded-full font-black text-[10px] md:text-sm uppercase tracking-[0.25em] shadow-[0_10px_20px_rgba(249,115,22,0.25)] hover:scale-[1.01] active:scale-95 transition-all",children:te?"CONTINUAR REGISTRO":"INICIAR REGISTRO"})}),te&&v.jsx("button",{onClick:()=>W&&s(W),className:"w-full text-[9px] font-black text-blue-600 uppercase tracking-widest hover:underline text-center pb-2",children:"Ver resumen actual de la ficha"})]})},wV=({ficha:r,onBack:e,onComplete:t})=>{const[s,o]=ot.useState(1),[u,c]=ot.useState({...r,nombre:r.nombre||"",apellidos:r.apellidos||"",documentNumber:r.documentNumber||"",documentType:r.documentType||"Cdula de ciudadana",fechaNacimiento:r.fechaNacimiento||"",edad:r.edad||"",nacionalidad:r.nacionalidad||"",direccion:r.direccion||"",barrio:r.barrio||"",municipio:r.municipio||"",departamento:r.departamento||"",estrato:r.estrato||"",telefonoFijo:r.telefonoFijo||"",emailPersonal:r.emailPersonal||"",esMadreCabezaHogar:r.esMadreCabezaHogar||"No",estadoCivil:r.estadoCivil||"Soltero(a)",nivelEstudios:r.nivelEstudios||"",numeroHijos:r.numeroHijos||"0",ocupacion:r.ocupacion||"",personasACargo:r.personasACargo||"0",tipoVivienda:r.tipoVivienda||"Propia",zonaVivienda:r.zonaVivienda||"Urbana",afiliadoSalud:r.afiliadoSalud||"S",condicionMedica:r.condicionMedica||"No",cotizaPension:r.cotizaPension||"No",cualCondicion:r.cualCondicion||"",discapacidad:r.discapacidad||"No",eps:r.eps||"",fondoPension:r.fondoPension||"",regimenSalud:r.regimenSalud||"Contributivo",tipoDiscapacidad:r.tipoDiscapacidad||"",cajaCompensacion:r.cajaCompensacion||"",autorizaTratamiento:r.autorizaTratamiento??!0,cualBeneficio:r.cualBeneficio||"",observaciones:r.observaciones||"",poblacionVulnerable:r.poblacionVulnerable||"Ninguna",recibeBeneficio:r.recibeBeneficio||"No",grupoFamiliar:r.grupoFamiliar||[],estudiosRealizados:r.estudiosRealizados||"",profesion:r.profesion||""}),[m,p]=ot.useState({parentesco:"Hijo",genero:"Femenino",edad:"0"}),[y,E]=ot.useState(!1),S=D=>{if(!D)return"";const ge=new Date(D),Ee=new Date;let ae=Ee.getFullYear()-ge.getFullYear();const I=Ee.getMonth()-ge.getMonth();return(I<0||I===0&&Ee.getDate()<ge.getDate())&&ae--,ae>=0?ae.toString():"0"},x=(D,ge)=>{c(Ee=>{const ae={...Ee,[D]:ge};return D==="fechaNacimiento"&&(ae.edad=S(ge)),ae})},q=()=>{m.edad&&(c(D=>({...D,grupoFamiliar:[...D.grupoFamiliar,{...m}]})),p({parentesco:"Hijo",genero:"Femenino",edad:"0"}))},W=D=>{c(ge=>({...ge,grupoFamiliar:ge.grupoFamiliar.filter((Ee,ae)=>ae!==D)}))},ee=(D,ge)=>({documentNumber:D.documentNumber,documentType:D.documentType,countryCode:D.countryCode||"+57",estado:ge,createdBy:D.createdBy||"sistema",createdAt:D.createdAt||new Date().toISOString(),fichaId:D.fichaId||`2026-MCF-${D.documentNumber.slice(-4)}`,phoneNumber:D.phoneNumber,grupo1_personal:{nombre:D.nombre,apellidos:D.apellidos,fechanacimiento:D.fechaNacimiento,edad:D.edad,nacionalidad:D.nacionalidad},grupo2_ubicacion:{barrio:D.barrio,departamento:D.departamento,direccion:D.direccion,email:D.emailPersonal,estrato:D.estrato,municipio:D.municipio,telefonoFijo:D.telefonoFijo},grupo3_socioeconomico:{esMadreCabezaHogar:D.esMadreCabezaHogar,estadoCivil:D.estadoCivil,nivelEstudios:D.nivelEstudios,numeroHijos:D.numeroHijos,ocupacion:D.ocupacion,personasACargo:D.personasACargo,tipoVivienda:D.tipoVivienda,zonaVivienda:D.zonaVivienda,recibeBeneficio:D.recibeBeneficio,cualBeneficio:D.cualBeneficio,grupoFamiliar:D.grupoFamiliar},grupo4_seguridad_social:{afiliadoSalud:D.afiliadoSalud,condicionMedica:D.condicionMedica,cotizaPension:D.cotizaPension,cualCondicion:D.cualCondicion,discapacidad:D.discapacidad,eps:D.eps,fondoPension:D.fondoPension,regimenSalud:D.regimenSalud,tipoDiscapacidad:D.tipoDiscapacidad,cajaCompensacion:D.cajaCompensacion},grupo5_adicional:{autorizaTratamiento:D.autorizaTratamiento,observaciones:D.observaciones,poblacionVulnerable:D.poblacionVulnerable,estudiosRealizados:D.estudiosRealizados,profesion:D.profesion}}),te=async()=>{E(!0);try{const D=ee(u,"En Proceso");await tA.updateFicha(u.documentNumber,D),alert("Registro guardado exitosamente.")}catch{alert("Error al guardar en la base de datos.")}finally{E(!1)}},he=()=>{s<5&&o(s+1)},me=()=>{s>1?o(s-1):e()};return v.jsxs("div",{className:"p-4 md:p-8 animate-fadeIn bg-white min-h-[900px] flex flex-col",children:[v.jsxs("div",{className:"flex justify-between items-start mb-6 px-2",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsxs("h2",{className:"text-xl md:text-2xl font-black text-slate-800 uppercase tracking-tight leading-none",children:["REGISTRO DE",v.jsx("br",{}),"POSTULANTE"]}),v.jsxs("p",{className:"text-[10px] font-bold text-blue-600/60 font-mono",children:["CC: ",u.documentNumber]})]}),v.jsx("div",{className:"text-right",children:v.jsx("span",{className:"px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest bg-blue-50 text-blue-600 border border-blue-100 shadow-sm",children:u.estado||"PENDIENTE"})})]}),v.jsx("div",{className:"flex items-center justify-between mb-8 px-2 max-w-md mx-auto w-full",children:[1,2,3,4,5].map(D=>v.jsxs(BE.Fragment,{children:[v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center font-bold text-xs md:text-sm border-2 transition-all ${s===D?"bg-blue-600 border-blue-600 text-white shadow-lg":s>D?"bg-blue-600 border-blue-600 text-white":"bg-white border-slate-200 text-slate-400"}`,children:D}),v.jsxs("span",{className:`text-[7px] md:text-[8px] mt-2 font-black uppercase tracking-widest ${s===D?"text-blue-700":"text-slate-400"}`,children:["PASO ",D]})]}),D<5&&v.jsx("div",{className:`flex-grow h-0.5 mx-1 mb-5 ${s>D?"bg-blue-600":"bg-slate-200"}`})]},D))}),v.jsxs("div",{className:"bg-slate-50 rounded-[2.5rem] p-6 md:p-8 border border-slate-100 flex-grow shadow-inner overflow-y-auto max-h-[600px]",children:[s===1&&v.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[v.jsx("h3",{className:"text-[11px] font-black text-blue-600 uppercase tracking-[0.2em] border-b border-blue-100 pb-2",children:"DATOS PERSONALES BSICOS"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Nombres Completos"}),v.jsx("input",{type:"text",value:u.nombre,onChange:D=>x("nombre",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold focus:border-blue-500 outline-none"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Apellidos Completos"}),v.jsx("input",{type:"text",value:u.apellidos,onChange:D=>x("apellidos",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold focus:border-blue-500 outline-none"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Tipo de Documento"}),v.jsxs("select",{value:u.documentType,onChange:D=>x("documentType",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold focus:border-blue-500 outline-none",children:[v.jsx("option",{children:"Cdula de ciudadana"}),v.jsx("option",{children:"Cdula de extranjera"}),v.jsx("option",{children:"Pasaporte"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Nmero de Documento"}),v.jsx("input",{type:"text",value:u.documentNumber,readOnly:!0,className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-slate-100 text-sm font-bold cursor-not-allowed"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-blue-600 uppercase ml-2 tracking-widest",children:"Fecha Nacimiento"}),v.jsx("input",{type:"date",value:u.fechaNacimiento,onChange:D=>x("fechaNacimiento",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-blue-100 bg-white text-sm font-bold focus:border-blue-500 outline-none shadow-sm"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Edad (Calculada)"}),v.jsx("input",{type:"text",value:u.edad,readOnly:!0,className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-slate-100 text-sm font-bold"})]}),v.jsxs("div",{className:"space-y-1 md:col-span-2",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Nacionalidad"}),v.jsx("input",{type:"text",value:u.nacionalidad,onChange:D=>x("nacionalidad",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold focus:border-blue-500 outline-none"})]})]})]}),s===2&&v.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[v.jsx("h3",{className:"text-[11px] font-black text-blue-600 uppercase tracking-[0.2em] border-b border-blue-100 pb-2",children:"UBICACIN Y CONTACTO"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Direccin de Residencia"}),v.jsx("input",{type:"text",value:u.direccion,onChange:D=>x("direccion",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Barrio"}),v.jsx("input",{type:"text",value:u.barrio,onChange:D=>x("barrio",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Municipio / Ciudad"}),v.jsx("input",{type:"text",value:u.municipio,onChange:D=>x("municipio",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Departamento"}),v.jsx("input",{type:"text",value:u.departamento,onChange:D=>x("departamento",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Estrato"}),v.jsxs("select",{value:u.estrato,onChange:D=>x("estrato",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold",children:[v.jsx("option",{value:"",children:"Seleccione"}),v.jsx("option",{value:"1",children:"Estrato 1"}),v.jsx("option",{value:"2",children:"Estrato 2"}),v.jsx("option",{value:"3",children:"Estrato 3"}),v.jsx("option",{value:"4",children:"Estrato 4"}),v.jsx("option",{value:"5",children:"Estrato 5"}),v.jsx("option",{value:"6",children:"Estrato 6"})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Correo Electrnico"}),v.jsx("input",{type:"email",value:u.emailPersonal,onChange:D=>x("emailPersonal",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Telfono Fijo"}),v.jsx("input",{type:"text",value:u.telefonoFijo,onChange:D=>x("telefonoFijo",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-blue-600 uppercase ml-2 tracking-widest",children:"Nmero de Celular"}),v.jsx("input",{type:"text",value:u.phoneNumber,onChange:D=>x("phoneNumber",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-blue-100 bg-white text-sm font-bold shadow-sm"})]})]})]}),s===3&&v.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[v.jsx("h3",{className:"text-[11px] font-black text-blue-600 uppercase tracking-[0.2em] border-b border-blue-100 pb-2",children:"DATOS SOCIOECONMICOS"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Es Madre Cabeza de Hogar?"}),v.jsxs("select",{value:u.esMadreCabezaHogar,onChange:D=>x("esMadreCabezaHogar",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold",children:[v.jsx("option",{value:"No",children:"No"}),v.jsx("option",{value:"Si",children:"Si"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Estado Civil"}),v.jsxs("select",{value:u.estadoCivil,onChange:D=>x("estadoCivil",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold",children:[v.jsx("option",{children:"Soltero(a)"}),v.jsx("option",{children:"Casado(a)"}),v.jsx("option",{children:"Unin Libre"}),v.jsx("option",{children:"Divorciado(a)"}),v.jsx("option",{children:"Viudo(a)"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Nivel de Estudios"}),v.jsx("input",{type:"text",placeholder:"Ej: Bachiller, Profesional...",value:u.nivelEstudios,onChange:D=>x("nivelEstudios",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Ocupacin Actual"}),v.jsx("input",{type:"text",value:u.ocupacion,onChange:D=>x("ocupacion",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Nmero de Hijos"}),v.jsx("input",{type:"number",value:u.numeroHijos,onChange:D=>x("numeroHijos",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Personas a Cargo"}),v.jsx("input",{type:"number",value:u.personasACargo,onChange:D=>x("personasACargo",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Tipo de Vivienda"}),v.jsxs("select",{value:u.tipoVivienda,onChange:D=>x("tipoVivienda",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold",children:[v.jsx("option",{children:"Propia"}),v.jsx("option",{children:"Arrendada"}),v.jsx("option",{children:"Familiar"}),v.jsx("option",{children:"Compartida"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Zona de Residencia"}),v.jsxs("select",{value:u.zonaVivienda,onChange:D=>x("zonaVivienda",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold",children:[v.jsx("option",{children:"Urbana"}),v.jsx("option",{children:"Rural"})]})]})]})]}),s===4&&v.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[v.jsx("h3",{className:"text-[11px] font-black text-blue-600 uppercase tracking-[0.2em] border-b border-blue-100 pb-2",children:"CONFORMACIN GRUPO FAMILIAR"}),v.jsxs("div",{className:"bg-white p-5 rounded-3xl border-2 border-slate-100 shadow-sm space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Parentesco"}),v.jsxs("select",{value:m.parentesco,onChange:D=>p({...m,parentesco:D.target.value}),className:"w-full p-3 rounded-xl border border-slate-200 text-xs font-bold",children:[v.jsx("option",{children:"Padre"}),v.jsx("option",{children:"Madre"}),v.jsx("option",{children:"Hijo"}),v.jsx("option",{children:"Cnyuge"}),v.jsx("option",{children:"Otro"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Gnero"}),v.jsxs("select",{value:m.genero,onChange:D=>p({...m,genero:D.target.value}),className:"w-full p-3 rounded-xl border border-slate-200 text-xs font-bold",children:[v.jsx("option",{children:"Femenino"}),v.jsx("option",{children:"Masculino"}),v.jsx("option",{children:"Otro"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Edad"}),v.jsx("input",{type:"number",value:m.edad,onChange:D=>p({...m,edad:D.target.value}),className:"w-full p-3 rounded-xl border border-slate-200 text-xs font-bold"})]})]}),v.jsx("button",{onClick:q,className:"w-full bg-blue-600 text-white py-3 rounded-xl font-black text-[10px] uppercase tracking-widest shadow-md hover:bg-blue-700 transition-all active:scale-95",children:"Insertar Registro"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex px-4 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[v.jsx("div",{className:"flex-1",children:"Parentesco"}),v.jsx("div",{className:"flex-1",children:"Gnero"}),v.jsx("div",{className:"w-16",children:"Edad"}),v.jsx("div",{className:"w-8"})]}),u.grupoFamiliar.length===0?v.jsx("div",{className:"text-center py-8 text-slate-300 font-bold text-xs uppercase italic",children:"No hay familiares registrados"}):u.grupoFamiliar.map((D,ge)=>v.jsxs("div",{className:"flex items-center px-4 py-3 bg-white rounded-xl border border-slate-100 shadow-sm animate-fadeIn",children:[v.jsx("div",{className:"flex-1 text-xs font-bold text-slate-700",children:D.parentesco}),v.jsx("div",{className:"flex-1 text-xs font-bold text-slate-700",children:D.genero}),v.jsxs("div",{className:"w-16 text-xs font-black text-blue-600",children:[D.edad," aos"]}),v.jsx("button",{onClick:()=>W(ge),className:"w-8 h-8 flex items-center justify-center text-red-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",children:v.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})})]},ge))]})]}),s===5&&v.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[v.jsx("h3",{className:"text-[11px] font-black text-blue-600 uppercase tracking-[0.2em] border-b border-blue-100 pb-2",children:"SALUD, PENSIONES Y OTROS DATOS"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"EPS Actual"}),v.jsx("input",{type:"text",value:u.eps,onChange:D=>x("eps",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold focus:border-blue-500 outline-none"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Rgimen Salud"}),v.jsxs("select",{value:u.regimenSalud,onChange:D=>x("regimenSalud",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold",children:[v.jsx("option",{children:"Contributivo"}),v.jsx("option",{children:"Subsidiado"}),v.jsx("option",{children:"Especial"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Cotiza Pensin"}),v.jsxs("select",{value:u.cotizaPension,onChange:D=>x("cotizaPension",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold",children:[v.jsx("option",{value:"No",children:"No"}),v.jsx("option",{value:"Si",children:"Si"})]})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Discapacidad"}),v.jsxs("select",{value:u.discapacidad,onChange:D=>x("discapacidad",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold",children:[v.jsx("option",{value:"No",children:"No"}),v.jsx("option",{value:"Si",children:"Si"})]})]}),v.jsxs("div",{className:"space-y-1 md:col-span-2",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Caja de Compensacin"}),v.jsx("input",{type:"text",value:u.cajaCompensacion,onChange:D=>x("cajaCompensacion",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold focus:border-blue-500 outline-none"})]})]}),v.jsxs("div",{className:"pt-4 space-y-4",children:[v.jsx("h4",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest border-l-4 border-indigo-200 pl-3",children:"Otros datos"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Estudios realizados"}),v.jsx("input",{type:"text",value:u.estudiosRealizados,onChange:D=>x("estudiosRealizados",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold focus:border-blue-500 outline-none"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Profesin"}),v.jsx("input",{type:"text",value:u.profesion,onChange:D=>x("profesion",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold focus:border-blue-500 outline-none"})]}),v.jsxs("div",{className:"space-y-1 md:col-span-2",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Poblacin Vulnerable"}),v.jsx("input",{type:"text",value:u.poblacionVulnerable,onChange:D=>x("poblacionVulnerable",D.target.value),className:"w-full p-3.5 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold focus:border-blue-500 outline-none"})]})]})]}),v.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-2xl border-2 border-slate-100 shadow-sm",children:[v.jsx("input",{type:"checkbox",checked:u.autorizaTratamiento,onChange:D=>x("autorizaTratamiento",D.target.checked),className:"w-5 h-5 accent-blue-600 rounded"}),v.jsx("label",{className:"text-[10px] font-black text-slate-600 uppercase leading-none",children:"Autorizo tratamiento de datos personales"})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-2 tracking-widest",children:"Observaciones"}),v.jsx("textarea",{rows:3,value:u.observaciones,onChange:D=>x("observaciones",D.target.value),className:"w-full p-4 rounded-2xl border-2 border-slate-100 bg-white text-sm font-bold"})]})]})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-8",children:[v.jsx("button",{onClick:me,className:"px-4 py-4 bg-white border-2 border-slate-100 text-slate-400 rounded-2xl font-black text-[10px] tracking-widest uppercase hover:bg-slate-50 transition-all",children:"ANTERIOR"}),v.jsx("button",{onClick:te,disabled:y,className:"px-4 py-4 bg-emerald-600 text-white rounded-2xl font-black text-[10px] tracking-widest uppercase shadow-lg shadow-emerald-100 active:scale-95 transition-all",children:y?"...":"GUARDAR"}),s<5?v.jsx("button",{onClick:he,className:"px-4 py-4 bg-blue-600 text-white rounded-2xl font-black text-[10px] tracking-widest uppercase shadow-lg shadow-blue-100 active:scale-95 transition-all",children:"SIGUIENTE"}):v.jsx("button",{onClick:async()=>{await te(),t()},className:"px-4 py-4 bg-indigo-700 text-white rounded-2xl font-black text-[10px] tracking-widest uppercase shadow-lg shadow-indigo-100 active:scale-95 transition-all",children:"FINALIZAR"})]})]})},IV=({ficha:r,onBack:e,onEdit:t})=>{const[s,o]=ot.useState(!1),u=async()=>{o(!0),setTimeout(async()=>{const E=document.getElementById("pdf-report");if(!E)return;const S={margin:[15,20,15,20],filename:`Ficha_FMC_${r.documentNumber}.pdf`,image:{type:"jpeg",quality:1},html2canvas:{scale:3,useCORS:!0,letterRendering:!0,logging:!1},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"},pagebreak:{mode:["avoid-all","css","legacy"]}};try{await html2pdf().set(S).from(E).save()}catch{window.print()}finally{o(!1)}},800)},c=E=>E==null||E===""||E===!1?"---":E===!0?"S / AUTORIZADO":E,m="text-[9px] text-slate-400 uppercase mb-1 tracking-widest font-black",p="text-[12px] font-normal text-slate-900 leading-none",y="grid grid-cols-2 md:grid-cols-4 gap-y-6 gap-x-4";return v.jsxs("div",{className:"bg-slate-100 min-h-screen flex flex-col animate-fadeIn relative pb-32",children:[v.jsxs("div",{className:"p-6 md:p-8 bg-white border-b border-slate-200 no-print sticky top-0 z-30 shadow-sm flex flex-col md:flex-row justify-between items-center gap-4",children:[v.jsxs("div",{className:"flex flex-col gap-1 w-full md:w-auto",children:[v.jsx("h1",{className:"text-xl font-black text-slate-800 tracking-tight leading-none uppercase",children:"Visor de Ficha Oficial"}),v.jsxs("p",{className:"text-[10px] font-bold text-blue-600 mt-1 font-mono uppercase tracking-widest",children:["Postulante: ",r.documentNumber]})]}),v.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[v.jsxs("button",{onClick:u,className:"flex-grow md:flex-initial bg-blue-700 text-white px-8 py-3.5 rounded-2xl text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 shadow-xl hover:bg-blue-800 transition-all",children:[v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:v.jsx("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v3.586l-1.293-1.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V8z",clipRule:"evenodd"})}),"DESCARGAR PDF"]}),v.jsx("button",{onClick:e,className:"bg-slate-100 text-slate-500 p-3.5 rounded-2xl hover:bg-slate-200 transition-all border border-slate-200",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M6 18L18 6M6 6l12 12"})})})]})]}),v.jsx("div",{className:"p-4 md:p-12 overflow-x-auto",children:v.jsxs("div",{id:"pdf-report",className:"bg-white text-slate-900 w-full mx-auto shadow-2xl overflow-hidden rounded-sm",style:{minWidth:"210mm"},children:[v.jsxs("div",{className:"p-10 border-b-8 border-slate-900 flex justify-between items-center bg-slate-50",children:[v.jsxs("div",{className:"flex gap-5 items-center",children:[v.jsx("div",{className:"bg-slate-900 p-3 rounded-2xl text-white",children:v.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-black text-slate-900 leading-tight uppercase tracking-tighter",children:"Fundacin Misin Colombia"}),v.jsx("p",{className:"text-[10px] font-bold text-slate-400 tracking-[0.4em] uppercase mt-1",children:"Proyecto PEAIMCF - Ficha de Registro Unificado"})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"text-[12px] font-black text-slate-900 uppercase",children:["ID FICHA: ",r.fichaId||"PENDIENTE"]}),v.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:["Estado: ",r.estado]})]})]}),v.jsxs("div",{className:"p-10 space-y-12",children:[v.jsxs("section",{className:"space-y-4",children:[v.jsx("div",{className:"border-b-2 border-slate-100 pb-1",children:v.jsx("h3",{className:"text-[12px] font-black text-slate-900 uppercase tracking-widest",children:"01. Identificacin"})}),v.jsxs("div",{className:y,children:[v.jsxs("div",{className:"col-span-2",children:[v.jsx("p",{className:m,children:"Nombres"}),v.jsx("div",{className:p,children:c(r.nombre)})]}),v.jsxs("div",{className:"col-span-2",children:[v.jsx("p",{className:m,children:"Apellidos"}),v.jsx("div",{className:p,children:c(r.apellidos)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Documento"}),v.jsx("div",{className:p,children:c(r.documentNumber)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Tipo Doc."}),v.jsx("div",{className:p,children:c(r.documentType)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Nacionalidad"}),v.jsx("div",{className:p,children:c(r.nacionalidad)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Edad"}),v.jsxs("div",{className:p,children:[c(r.edad)," aos"]})]})]})]}),v.jsxs("section",{className:"space-y-4",children:[v.jsx("div",{className:"border-b-2 border-slate-100 pb-1",children:v.jsx("h3",{className:"text-[12px] font-black text-slate-900 uppercase tracking-widest",children:"02. Ubicacin y Contacto"})}),v.jsxs("div",{className:y,children:[v.jsxs("div",{className:"col-span-2",children:[v.jsx("p",{className:m,children:"Direccin"}),v.jsx("div",{className:p,children:c(r.direccion)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Barrio"}),v.jsx("div",{className:p,children:c(r.barrio)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Municipio"}),v.jsx("div",{className:p,children:c(r.municipio)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Departamento"}),v.jsx("div",{className:p,children:c(r.departamento)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Estrato"}),v.jsx("div",{className:p,children:c(r.estrato)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Celular"}),v.jsx("div",{className:p,children:c(r.phoneNumber)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Email"}),v.jsx("div",{className:p,children:c(r.emailPersonal)})]})]})]}),v.jsxs("section",{className:"space-y-4",children:[v.jsx("div",{className:"border-b-2 border-slate-100 pb-1",children:v.jsx("h3",{className:"text-[12px] font-black text-slate-900 uppercase tracking-widest",children:"03. Perfil Socioeconmico"})}),v.jsxs("div",{className:y,children:[v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Madre Cabeza Hogar"}),v.jsx("div",{className:p,children:c(r.esMadreCabezaHogar)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Estado Civil"}),v.jsx("div",{className:p,children:c(r.estadoCivil)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Nivel Estudios"}),v.jsx("div",{className:p,children:c(r.nivelEstudios)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Ocupacin"}),v.jsx("div",{className:p,children:c(r.ocupacion)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Nmero Hijos"}),v.jsx("div",{className:p,children:c(r.numeroHijos)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Personas Cargo"}),v.jsx("div",{className:p,children:c(r.personasACargo)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Tipo Vivienda"}),v.jsx("div",{className:p,children:c(r.tipoVivienda)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Zona Residencia"}),v.jsx("div",{className:p,children:c(r.zonaVivienda)})]})]})]}),v.jsxs("section",{className:"space-y-4",children:[v.jsx("div",{className:"border-b-2 border-slate-100 pb-1",children:v.jsx("h3",{className:"text-[12px] font-black text-slate-900 uppercase tracking-widest",children:"04. Seguridad Social y Salud"})}),v.jsxs("div",{className:y,children:[v.jsxs("div",{className:"col-span-2",children:[v.jsx("p",{className:m,children:"EPS Actual"}),v.jsx("div",{className:p,children:c(r.eps)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Rgimen"}),v.jsx("div",{className:p,children:c(r.regimenSalud)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Cotiza Pensin"}),v.jsx("div",{className:p,children:c(r.cotizaPension)})]}),v.jsxs("div",{children:[v.jsx("p",{className:m,children:"Posee Discapacidad"}),v.jsx("div",{className:p,children:c(r.discapacidad)})]}),v.jsxs("div",{className:"col-span-2",children:[v.jsx("p",{className:m,children:"Caja de Compensacin"}),v.jsx("div",{className:p,children:c(r.cajaCompensacion)})]})]})]}),v.jsxs("section",{className:"space-y-4",children:[v.jsx("div",{className:"border-b-2 border-slate-100 pb-1",children:v.jsx("h3",{className:"text-[12px] font-black text-slate-900 uppercase tracking-widest",children:"05. Datos Complementarios"})}),v.jsxs("div",{className:y,children:[v.jsxs("div",{className:"col-span-2",children:[v.jsx("p",{className:m,children:"Estudios Realizados"}),v.jsx("div",{className:p,children:c(r.estudiosRealizados)})]}),v.jsxs("div",{className:"col-span-2",children:[v.jsx("p",{className:m,children:"Profesin u Oficio"}),v.jsx("div",{className:p,children:c(r.profesion)})]}),v.jsxs("div",{className:"col-span-4",children:[v.jsx("p",{className:m,children:"Poblacin Vulnerable"}),v.jsx("div",{className:p,children:c(r.poblacionVulnerable)})]})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("p",{className:m,children:"Observaciones Generales"}),v.jsx("div",{className:"p-4 bg-slate-50 border border-slate-100 rounded-lg text-[12px] font-normal text-slate-700 leading-relaxed italic",children:c(r.observaciones)})]})]}),v.jsxs("section",{className:"space-y-4",children:[v.jsx("div",{className:"border-b-2 border-slate-100 pb-1",children:v.jsx("h3",{className:"text-[12px] font-black text-slate-900 uppercase tracking-widest",children:"06. Grupo Familiar"})}),r.grupoFamiliar&&r.grupoFamiliar.length>0?v.jsx("div",{className:"border border-slate-100 rounded-lg overflow-hidden",children:v.jsxs("table",{className:"w-full text-left border-collapse",children:[v.jsx("thead",{className:"bg-slate-900 text-white",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 text-[9px] font-black uppercase",children:"Parentesco"}),v.jsx("th",{className:"py-2 px-4 text-[9px] font-black uppercase",children:"Gnero"}),v.jsx("th",{className:"py-2 px-4 text-[9px] font-black uppercase text-right",children:"Edad"})]})}),v.jsx("tbody",{children:r.grupoFamiliar.map((E,S)=>v.jsxs("tr",{className:"border-b border-slate-50",children:[v.jsx("td",{className:"py-2 px-4 text-[11px] font-normal text-slate-700",children:E.parentesco}),v.jsx("td",{className:"py-2 px-4 text-[11px] font-normal text-slate-700",children:E.genero}),v.jsxs("td",{className:"py-2 px-4 text-[11px] font-normal text-slate-700 text-right",children:[E.edad," aos"]})]},S))})]})}):v.jsx("p",{className:"text-[11px] italic text-slate-400",children:"Sin registros adicionales en el grupo familiar."})]}),v.jsxs("div",{className:"mt-40 pt-20 grid grid-cols-2 gap-40 px-10",children:[v.jsxs("div",{className:"text-center border-t border-slate-300 pt-2",children:[v.jsx("p",{className:"text-[10px] font-black uppercase text-slate-800 tracking-widest",children:"Firma Postulante"}),v.jsxs("p",{className:"text-[9px] text-slate-400 font-mono mt-1",children:["CC: ",r.documentNumber]})]}),v.jsxs("div",{className:"text-center border-t border-slate-300 pt-2",children:[v.jsx("p",{className:"text-[10px] font-black uppercase text-slate-800 tracking-widest",children:"Responsable FMC"}),v.jsxs("p",{className:"text-[9px] text-slate-400 font-mono mt-1",children:["ID: ",r.createdBy]})]})]})]}),v.jsx("div",{className:"p-8 bg-slate-900 text-white text-[9px] text-center font-bold tracking-[0.4em] uppercase",children:"Sistema de Informacin PEAIMCF - Fundacin Misin Colombia"})]})}),v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-xl border-t border-slate-200 p-6 z-40 no-print flex justify-center shadow-2xl",children:v.jsxs("div",{className:"max-w-xl w-full flex gap-4",children:[v.jsx("button",{onClick:e,className:"flex-1 bg-slate-100 text-slate-600 py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest transition-all hover:bg-slate-200",children:"Panel Principal"}),v.jsx("button",{onClick:t,className:"flex-[1.5] bg-blue-700 text-white py-4 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl shadow-blue-100 transition-all hover:bg-blue-800",children:"Modificar Registro"})]})})]})},RV=()=>{const[r,e]=ot.useState(null),[t,s]=ot.useState(Et.LOGIN),[o,u]=ot.useState(null),[c,m]=ot.useState(()=>{const x=localStorage.getItem("theme");return x||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});ot.useEffect(()=>{const x=window.document.documentElement;c==="dark"?x.classList.add("dark"):x.classList.remove("dark"),localStorage.setItem("theme",c)},[c]);const p=()=>{m(x=>x==="light"?"dark":"light")};ot.useEffect(()=>{const x=localStorage.getItem("fmc_user");x&&(e(JSON.parse(x)),s(Et.DASHBOARD))},[]);const y=x=>{e(x),localStorage.setItem("fmc_user",JSON.stringify(x)),s(Et.DASHBOARD)},E=()=>{e(null),localStorage.removeItem("fmc_user"),s(Et.LOGIN)},S=()=>{switch(t){case Et.LOGIN:return v.jsx(UE,{onLogin:y});case Et.DASHBOARD:return v.jsx(TV,{user:r,onLogout:E,onStartRegistration:()=>s(Et.SECURITY_CHECK)});case Et.SECURITY_CHECK:return v.jsx(SV,{onBack:()=>s(Et.DASHBOARD),onSuccess:()=>s(Et.SEARCH_ID)});case Et.SEARCH_ID:return v.jsx(xV,{user:r,onBack:()=>s(Et.SECURITY_CHECK),onFichaFound:x=>{u(x),s(Et.FORM_STEPPER)},onViewSummary:x=>{u(x),s(Et.VIEW_SUMMARY)}});case Et.FORM_STEPPER:return o?v.jsx(wV,{ficha:o,onBack:()=>s(Et.SEARCH_ID),onComplete:()=>{s(Et.DASHBOARD),alert("Registro PEAIMCF finalizado exitosamente.")}}):null;case Et.VIEW_SUMMARY:return o?v.jsx(IV,{ficha:o,onBack:()=>s(Et.SEARCH_ID),onEdit:()=>s(Et.FORM_STEPPER)}):null;default:return v.jsx(UE,{onLogin:y})}};return v.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100",children:[v.jsx("header",{className:"bg-[#f0f2f5] text-black dark:bg-gradient-to-r dark:from-blue-800 dark:to-indigo-900 dark:text-white p-4 shadow-xl sticky top-0 z-50",children:v.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("a",{href:"https://imgbb.com/",children:v.jsx("img",{src:"https://i.ibb.co/7t0LHGkr/logo-Devsoftinfo-removebg-preview.png",alt:"logo Devsoftinfo removebg preview",style:{height:"80px"}})}),v.jsx("h1",{className:"text-lg font-black tracking-tight uppercase",children:"Develop Soft Info"})]}),r&&v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"hidden sm:flex flex-col items-end",children:[v.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-500 dark:text-blue-300",children:"Operador Activo"}),v.jsx("span",{className:"text-xs font-bold leading-none",children:r.displayName})]}),v.jsx("button",{onClick:E,className:"bg-red-500/80 hover:bg-red-600/80 dark:bg-blue-700/50 dark:hover:bg-red-500/80 px-4 py-2 rounded-xl text-white text-[10px] font-black uppercase tracking-widest transition-all border border-white/10",children:"Cerrar Sesin"})]})]})}),v.jsx("main",{className:"flex-grow container mx-auto p-4 md:p-8 flex justify-center items-start pb-24",children:v.jsx("div",{className:"w-full max-w-4xl bg-white dark:bg-slate-800 rounded-[2.5rem] shadow-[0_20px_50px_rgba(0,0,0,0.1)] overflow-hidden border border-slate-100 dark:border-slate-700",children:S()})}),v.jsx("footer",{className:"fixed bottom-0 left-0 w-full bg-[#f0f2f5] dark:bg-slate-900 p-6 text-center border-t border-slate-100 dark:border-slate-700 z-10",children:v.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-slate-400 dark:text-slate-500",children:"Develop Soft Info"})}),v.jsx("div",{className:"fixed bottom-20 right-4 z-50",children:v.jsx("button",{className:"p-3 rounded-full bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200 shadow-lg text-2xl",onClick:p,children:c==="dark"?"":""})})]})},nA=document.getElementById("root");if(!nA)throw new Error("No se pudo encontrar el elemento root para montar la aplicacin.");const CV=qx.createRoot(nA);CV.render(v.jsx(BE.StrictMode,{children:v.jsx(RV,{})}));
